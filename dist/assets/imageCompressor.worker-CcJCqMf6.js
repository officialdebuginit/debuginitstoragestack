var Tn=(()=>{var s=import.meta.url;return function(g={}){var r=g,m,E,U=new Promise((e,t)=>{m=e,E=t});const M=globalThis.ServiceWorkerGlobalScope!==void 0&&typeof self<"u"&&globalThis.caches&&globalThis.caches.default!==void 0,K=typeof process=="object"&&process.release&&process.release.name==="node";(M||K)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(t,i,d){this.data=t,this.width=i,this.height=d}}),import.meta.url===void 0&&(import.meta.url="https://localhost"),typeof self<"u"&&self.location===void 0&&(self.location={href:""}));var te=Object.assign({},r),fe="./this.program",N=(e,t)=>{throw t},Q=typeof window=="object",oe=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var L="";function Oe(e){return r.locateFile?r.locateFile(e,L):L+e}var re;(Q||oe)&&(oe?L=self.location.href:typeof document<"u"&&document.currentScript&&(L=document.currentScript.src),s&&(L=s),L.startsWith("blob:")?L="":L=L.substr(0,L.replace(/[?#].*/,"").lastIndexOf("/")+1),oe&&(re=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}));var je=r.print||console.log.bind(console),ae=r.printErr||console.error.bind(console);Object.assign(r,te),te=null,r.arguments&&r.arguments,r.thisProgram&&(fe=r.thisProgram),r.quit&&(N=r.quit);var Ae;r.wasmBinary&&(Ae=r.wasmBinary);var Ee,le=!1,X,O,x,q,me,W,Z,Ze;function er(){var e=Ee.buffer;r.HEAP8=X=new Int8Array(e),r.HEAP16=x=new Int16Array(e),r.HEAPU8=O=new Uint8Array(e),r.HEAPU16=q=new Uint16Array(e),r.HEAP32=me=new Int32Array(e),r.HEAPU32=W=new Uint32Array(e),r.HEAPF32=Z=new Float32Array(e),r.HEAPF64=Ze=new Float64Array(e)}var rr=[],dr=[],vr=[];function Ir(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)Qr(r.preRun.shift());ir(rr)}function Mr(){ir(dr)}function Jr(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)tr(r.postRun.shift());ir(vr)}function Qr(e){rr.unshift(e)}function De(e){dr.unshift(e)}function tr(e){vr.unshift(e)}var he=0,Re=null;function Ue(e){var t;he++,(t=r.monitorRunDependencies)==null||t.call(r,he)}function nr(e){var i;if(he--,(i=r.monitorRunDependencies)==null||i.call(r,he),he==0&&Re){var t=Re;Re=null,t()}}function hr(e){var i;(i=r.onAbort)==null||i.call(r,e),e="Aborted("+e+")",ae(e),le=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw E(t),t}var Ve="data:application/octet-stream;base64,",He=e=>e.startsWith(Ve),ge;r.locateFile?(ge="mozjpeg_enc.wasm",He(ge)||(ge=Oe(ge))):ge=new URL("/assets/mozjpeg_enc-DO-zoExo.wasm",import.meta.url).href;function ar(e){if(e==ge&&Ae)return new Uint8Array(Ae);if(re)return re(e);throw"both async and sync fetching of the wasm failed"}function Be(e){return!Ae&&(Q||oe)&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw`failed to load wasm binary file at '${e}'`;return t.arrayBuffer()}).catch(()=>ar(e)):Promise.resolve().then(()=>ar(e))}function gr(e,t,i){return Be(e).then(d=>WebAssembly.instantiate(d,t)).then(i,d=>{ae(`failed to asynchronously prepare wasm: ${d}`),hr(d)})}function Rr(e,t,i,d){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!He(t)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(h=>{var _=WebAssembly.instantiateStreaming(h,i);return _.then(d,function(b){return ae(`wasm streaming compile failed: ${b}`),ae("falling back to ArrayBuffer instantiation"),gr(t,i,d)})}):gr(t,i,d)}function Le(){var e={a:Tr};function t(d,h){return ie=d.exports,Ee=ie.C,er(),yr=ie.H,De(ie.D),nr(),ie}Ue();function i(d){t(d.instance)}if(r.instantiateWasm)try{return r.instantiateWasm(e,t)}catch(d){ae(`Module.instantiateWasm callback failed with error: ${d}`),E(d)}return Rr(Ae,ge,e,i).catch(E),{}}function xe(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var ir=e=>{for(;e.length>0;)e.shift()(r)};r.noExitRuntime;class Cr{constructor(t){this.excPtr=t,this.ptr=t-24}set_type(t){W[this.ptr+4>>2]=t}get_type(){return W[this.ptr+4>>2]}set_destructor(t){W[this.ptr+8>>2]=t}get_destructor(){return W[this.ptr+8>>2]}set_caught(t){t=t?1:0,X[this.ptr+12]=t}get_caught(){return X[this.ptr+12]!=0}set_rethrown(t){t=t?1:0,X[this.ptr+13]=t}get_rethrown(){return X[this.ptr+13]!=0}init(t,i){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(i)}set_adjusted_ptr(t){W[this.ptr+16>>2]=t}get_adjusted_ptr(){return W[this.ptr+16>>2]}get_exception_ptr(){var t=n(this.get_type());if(t)return W[this.excPtr>>2];var i=this.get_adjusted_ptr();return i!==0?i:this.excPtr}}var pr=0,be=(e,t,i)=>{var d=new Cr(e);throw d.init(t,i),pr=e,pr},Ce={},we=e=>{for(;e.length;){var t=e.pop(),i=e.pop();i(t)}};function Se(e){return this.fromWireType(W[e>>2])}var ne={},j={},se={},ye,ze=e=>{throw new ye(e)},ce=(e,t,i)=>{e.forEach(function(w){se[w]=t});function d(w){var $=i(w);$.length!==e.length&&ze("Mismatched type converter count");for(var C=0;C<e.length;++C)B(e[C],$[C])}var h=new Array(t.length),_=[],b=0;t.forEach((w,$)=>{j.hasOwnProperty(w)?h[$]=j[w]:(_.push(w),ne.hasOwnProperty(w)||(ne[w]=[]),ne[w].push(()=>{h[$]=j[w],++b,b===_.length&&d(h)}))}),_.length===0&&d(h)},$e=e=>{var t=Ce[e];delete Ce[e];var i=t.rawConstructor,d=t.rawDestructor,h=t.fields,_=h.map(b=>b.getterReturnType).concat(h.map(b=>b.setterArgumentType));ce([e],_,b=>{var w={};return h.forEach(($,C)=>{var k=$.fieldName,V=b[C],pe=$.getter,ve=$.getterContext,_e=b[C+h.length],Wt=$.setter,Er=$.setterContext;w[k]={read:Je=>V.fromWireType(pe(ve,Je)),write:(Je,St)=>{var xt=[];Wt(Er,Je,_e.toWireType(xt,St)),we(xt)}}}),[{name:t.name,fromWireType:$=>{var C={};for(var k in w)C[k]=w[k].read($);return d($),C},toWireType:($,C)=>{for(var k in w)if(!(k in C))throw new TypeError(`Missing field: "${k}"`);var V=i();for(k in w)w[k].write(V,C[k]);return $!==null&&$.push(d,V),V},argPackAdvance:ee,readValueFromPointer:Se,destructorFunction:d}]})},ke=(e,t,i,d,h)=>{},Zr=()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);Ge=e},Ge,H=e=>{for(var t="",i=e;O[i];)t+=Ge[O[i++]];return t},Y,de=e=>{throw new Y(e)};function _r(e,t,i={}){var d=t.name;if(e||de(`type "${d}" must have a positive integer typeid pointer`),j.hasOwnProperty(e)){if(i.ignoreDuplicateRegistrations)return;de(`Cannot register type '${d}' twice`)}if(j[e]=t,delete se[e],ne.hasOwnProperty(e)){var h=ne[e];delete ne[e],h.forEach(_=>_())}}function B(e,t,i={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return _r(e,t,i)}var ee=8,et=(e,t,i,d)=>{t=H(t),B(e,{name:t,fromWireType:function(h){return!!h},toWireType:function(h,_){return _?i:d},argPackAdvance:ee,readValueFromPointer:function(h){return this.fromWireType(O[h])},destructorFunction:null})},or=[],z=[],Ke=e=>{e>9&&--z[e+1]===0&&(z[e]=void 0,or.push(e))},Wr=()=>z.length/2-5-or.length,Or=()=>{z.push(0,1,void 0,1,null,1,!0,1,!1,1),r.count_emval_handles=Wr},qe={toValue:e=>(e||de("Cannot use deleted val. handle = "+e),z[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const t=or.pop()||z.length;return z[t]=e,z[t+1]=1,t}}}},Ye={name:"emscripten::val",fromWireType:e=>{var t=qe.toValue(e);return Ke(e),t},toWireType:(e,t)=>qe.toHandle(t),argPackAdvance:ee,readValueFromPointer:Se,destructorFunction:null},sr=e=>B(e,Ye),jr=(e,t)=>{switch(t){case 4:return function(i){return this.fromWireType(Z[i>>2])};case 8:return function(i){return this.fromWireType(Ze[i>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},rt=(e,t,i)=>{t=H(t),B(e,{name:t,fromWireType:d=>d,toWireType:(d,h)=>h,argPackAdvance:ee,readValueFromPointer:jr(t,i),destructorFunction:null})},Fr=(e,t)=>Object.defineProperty(t,"name",{value:e});function tt(e){for(var t=1;t<e.length;++t)if(e[t]!==null&&e[t].destructorFunction===void 0)return!0;return!1}function Dr(e,t,i,d,h,_){var b=t.length;b<2&&de("argTypes array size mismatch! Must at least get return value and 'this' types!"),t[1];var w=tt(t),$=t[0].name!=="void",C=b-2,k=new Array(C),V=[],pe=[],ve=function(..._e){_e.length!==C&&de(`function ${e} called with ${_e.length} arguments, expected ${C}`),pe.length=0;var Wt;V.length=1,V[0]=h;for(var Er=0;Er<C;++Er)k[Er]=t[Er+2].toWireType(pe,_e[Er]),V.push(k[Er]);var Je=d(...V);function St(xt){if(w)we(pe);else for(var Ut=2;Ut<t.length;Ut++){var $n=Ut===1?Wt:k[Ut-2];t[Ut].destructorFunction!==null&&t[Ut].destructorFunction($n)}if($)return t[0].fromWireType(xt)}return St(Je)};return Fr(e,ve)}var Ie=(e,t,i)=>{if(e[t].overloadTable===void 0){var d=e[t];e[t]=function(...h){return e[t].overloadTable.hasOwnProperty(h.length)||de(`Function '${i}' called with an invalid number of arguments (${h.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[h.length].apply(this,h)},e[t].overloadTable=[],e[t].overloadTable[d.argCount]=d}},nt=(e,t,i)=>{r.hasOwnProperty(e)?((i===void 0||r[e].overloadTable!==void 0&&r[e].overloadTable[i]!==void 0)&&de(`Cannot register public name '${e}' twice`),Ie(r,e,e),r.hasOwnProperty(i)&&de(`Cannot register multiple overloads of a function with the same number of arguments (${i})!`),r[e].overloadTable[i]=t):(r[e]=t,i!==void 0&&(r[e].numArguments=i))},at=(e,t)=>{for(var i=[],d=0;d<e;d++)i.push(W[t+d*4>>2]);return i},mr=(e,t,i)=>{r.hasOwnProperty(e)||ze("Replacing nonexistent public symbol"),r[e].overloadTable!==void 0&&i!==void 0?r[e].overloadTable[i]=t:(r[e]=t,r[e].argCount=i)},Vr=(e,t,i)=>{e=e.replace(/p/g,"i");var d=r["dynCall_"+e];return d(t,...i)},We=[],yr,Hr=e=>{var t=We[e];return t||(e>=We.length&&(We.length=e+1),We[e]=t=yr.get(e)),t},it=(e,t,i=[])=>{if(e.includes("j"))return Vr(e,t,i);var d=Hr(t)(...i);return d},ot=(e,t)=>(...i)=>it(e,t,i),Ne=(e,t)=>{e=H(e);function i(){return e.includes("j")?ot(e,t):Hr(t)}var d=i();return typeof d!="function"&&de(`unknown function pointer with signature ${e}: ${t}`),d},Pr=(e,t)=>{var i=Fr(t,function(d){this.name=t,this.message=d;var h=new Error(d).stack;h!==void 0&&(this.stack=this.toString()+`
`+h.replace(/^Error(:[^\n]*)?\n/,""))});return i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},i},Br,Lr=e=>{var t=o(e),i=H(t);return v(t),i},st=(e,t)=>{var i=[],d={};function h(_){if(!d[_]&&!j[_]){if(se[_]){se[_].forEach(h);return}i.push(_),d[_]=!0}}throw t.forEach(h),new Br(`${e}: `+i.map(Lr).join([", "]))},ft=e=>{e=e.trim();const t=e.indexOf("(");return t!==-1?e.substr(0,t):e},qr=(e,t,i,d,h,_,b)=>{var w=at(t,i);e=H(e),e=ft(e),h=Ne(d,h),nt(e,function(){st(`Cannot call ${e} due to unbound types`,w)},t-1),ce([],w,$=>{var C=[$[0],null].concat($.slice(1));return mr(e,Dr(e,C,null,h,_),t-1),[]})},lt=(e,t,i)=>{switch(t){case 1:return i?d=>X[d]:d=>O[d];case 2:return i?d=>x[d>>1]:d=>q[d>>1];case 4:return i?d=>me[d>>2]:d=>W[d>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},ut=(e,t,i,d,h)=>{t=H(t);var _=k=>k;if(d===0){var b=32-8*i;_=k=>k<<b>>>b}var w=t.includes("unsigned"),$=(k,V)=>{},C;w?C=function(k,V){return $(V,this.name),V>>>0}:C=function(k,V){return $(V,this.name),V},B(e,{name:t,fromWireType:_,toWireType:C,argPackAdvance:ee,readValueFromPointer:lt(t,i,d!==0),destructorFunction:null})},ct=(e,t,i)=>{var d=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],h=d[t];function _(b){var w=W[b>>2],$=W[b+4>>2];return new h(X.buffer,$,w)}i=H(i),B(e,{name:i,fromWireType:_,argPackAdvance:ee,readValueFromPointer:_},{ignoreDuplicateRegistrations:!0})},dt=(e,t,i,d)=>{if(!(d>0))return 0;for(var h=i,_=i+d-1,b=0;b<e.length;++b){var w=e.charCodeAt(b);if(w>=55296&&w<=57343){var $=e.charCodeAt(++b);w=65536+((w&1023)<<10)|$&1023}if(w<=127){if(i>=_)break;t[i++]=w}else if(w<=2047){if(i+1>=_)break;t[i++]=192|w>>6,t[i++]=128|w&63}else if(w<=65535){if(i+2>=_)break;t[i++]=224|w>>12,t[i++]=128|w>>6&63,t[i++]=128|w&63}else{if(i+3>=_)break;t[i++]=240|w>>18,t[i++]=128|w>>12&63,t[i++]=128|w>>6&63,t[i++]=128|w&63}}return t[i]=0,i-h},Nr=(e,t,i)=>dt(e,O,t,i),vt=e=>{for(var t=0,i=0;i<e.length;++i){var d=e.charCodeAt(i);d<=127?t++:d<=2047?t+=2:d>=55296&&d<=57343?(t+=4,++i):t+=3}return t},xr=(e,t,i)=>{for(var d=t+i,h="";!(t>=d);){var _=e[t++];if(!_)return h;if(!(_&128)){h+=String.fromCharCode(_);continue}var b=e[t++]&63;if((_&224)==192){h+=String.fromCharCode((_&31)<<6|b);continue}var w=e[t++]&63;if((_&240)==224?_=(_&15)<<12|b<<6|w:_=(_&7)<<18|b<<12|w<<6|e[t++]&63,_<65536)h+=String.fromCharCode(_);else{var $=_-65536;h+=String.fromCharCode(55296|$>>10,56320|$&1023)}}return h},ht=(e,t)=>e?xr(O,e,t):"",gt=(e,t)=>{t=H(t);var i=t==="std::string";B(e,{name:t,fromWireType(d){var h=W[d>>2],_=d+4,b;if(i)for(var w=_,$=0;$<=h;++$){var C=_+$;if($==h||O[C]==0){var k=C-w,V=ht(w,k);b===void 0?b=V:(b+="\0",b+=V),w=C+1}}else{for(var pe=new Array(h),$=0;$<h;++$)pe[$]=String.fromCharCode(O[_+$]);b=pe.join("")}return v(d),b},toWireType(d,h){h instanceof ArrayBuffer&&(h=new Uint8Array(h));var _,b=typeof h=="string";b||h instanceof Uint8Array||h instanceof Uint8ClampedArray||h instanceof Int8Array||de("Cannot pass non-string to std::string"),i&&b?_=vt(h):_=h.length;var w=l(4+_+1),$=w+4;if(W[w>>2]=_,i&&b)Nr(h,$,_+1);else if(b)for(var C=0;C<_;++C){var k=h.charCodeAt(C);k>255&&(v($),de("String has UTF-16 code units that do not fit in 8 bits")),O[$+C]=k}else for(var C=0;C<_;++C)O[$+C]=h[C];return d!==null&&d.push(v,w),w},argPackAdvance:ee,readValueFromPointer:Se,destructorFunction(d){v(d)}})},pt=(e,t)=>{for(var i="",d=0;!(d>=t/2);++d){var h=x[e+d*2>>1];if(h==0)break;i+=String.fromCharCode(h)}return i},_t=(e,t,i)=>{if(i??(i=2147483647),i<2)return 0;i-=2;for(var d=t,h=i<e.length*2?i/2:e.length,_=0;_<h;++_){var b=e.charCodeAt(_);x[t>>1]=b,t+=2}return x[t>>1]=0,t-d},fr=e=>e.length*2,mt=(e,t)=>{for(var i=0,d="";!(i>=t/4);){var h=me[e+i*4>>2];if(h==0)break;if(++i,h>=65536){var _=h-65536;d+=String.fromCharCode(55296|_>>10,56320|_&1023)}else d+=String.fromCharCode(h)}return d},yt=(e,t,i)=>{if(i??(i=2147483647),i<4)return 0;for(var d=t,h=d+i-4,_=0;_<e.length;++_){var b=e.charCodeAt(_);if(b>=55296&&b<=57343){var w=e.charCodeAt(++_);b=65536+((b&1023)<<10)|w&1023}if(me[t>>2]=b,t+=4,t+4>h)break}return me[t>>2]=0,t-d},Ur=e=>{for(var t=0,i=0;i<e.length;++i){var d=e.charCodeAt(i);d>=55296&&d<=57343&&++i,t+=4}return t},bt=(e,t,i)=>{i=H(i);var d,h,_,b;t===2?(d=pt,h=_t,b=fr,_=w=>q[w>>1]):t===4&&(d=mt,h=yt,b=Ur,_=w=>W[w>>2]),B(e,{name:i,fromWireType:w=>{for(var $=W[w>>2],C,k=w+4,V=0;V<=$;++V){var pe=w+4+V*t;if(V==$||_(pe)==0){var ve=pe-k,_e=d(k,ve);C===void 0?C=_e:(C+="\0",C+=_e),k=pe+t}}return v(w),C},toWireType:(w,$)=>{typeof $!="string"&&de(`Cannot pass non-string to C++ string type ${i}`);var C=b($),k=l(4+C+t);return W[k>>2]=C/t,h($,k+4,C+t),w!==null&&w.push(v,k),k},argPackAdvance:ee,readValueFromPointer:Se,destructorFunction(w){v(w)}})},lr=(e,t,i,d,h,_)=>{Ce[e]={name:H(t),rawConstructor:Ne(i,d),rawDestructor:Ne(h,_),fields:[]}},wt=(e,t,i,d,h,_,b,w,$,C)=>{Ce[e].fields.push({fieldName:H(t),getterReturnType:i,getter:Ne(d,h),getterContext:_,setterArgumentType:b,setter:Ne(w,$),setterContext:C})},At=(e,t)=>{t=H(t),B(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:(i,d)=>{}})},zr=(e,t,i)=>O.copyWithin(e,t,t+i),br=[],$t=(e,t,i,d)=>(e=br[e],t=qe.toValue(t),e(null,t,i,d)),Tt={},Et=e=>{var t=Tt[e];return t===void 0?H(e):t},wr=()=>{if(typeof globalThis=="object")return globalThis;function e(t){t.$$$embind_global$$$=t;var i=typeof $$$embind_global$$$=="object"&&t.$$$embind_global$$$==t;return i||delete t.$$$embind_global$$$,i}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&e(global)?$$$embind_global$$$=global:typeof self=="object"&&e(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},Fe=e=>e===0?qe.toHandle(wr()):(e=Et(e),qe.toHandle(wr()[e])),Gr=e=>{var t=br.length;return br.push(e),t},Kr=(e,t)=>{var i=j[e];return i===void 0&&de(`${t} has unknown type ${Lr(e)}`),i},Ar=(e,t)=>{for(var i=new Array(e),d=0;d<e;++d)i[d]=Kr(W[t+d*4>>2],"parameter "+d);return i},Yr=Reflect.construct,u=(e,t,i)=>{var d=[],h=e.toWireType(d,i);return d.length&&(W[t>>2]=qe.toHandle(d)),h},c=(e,t,i)=>{var d=Ar(e,t),h=d.shift();e--;var _=new Array(e),b=($,C,k,V)=>{for(var pe=0,ve=0;ve<e;++ve)_[ve]=d[ve].readValueFromPointer(V+pe),pe+=d[ve].argPackAdvance;var _e=i===1?Yr(C,_):C.apply($,_);return u(h,k,_e)},w=`methodCaller<(${d.map($=>$.name).join(", ")}) => ${h.name}>`;return Gr(Fr(w,b))},p=e=>{var t=qe.toValue(e);we(t),Ke(e)},y=()=>{hr("")},A=()=>2147483648,T=e=>{var t=Ee.buffer,i=(e-t.byteLength+65535)/65536;try{return Ee.grow(i),er(),1}catch{}},F=e=>{var t=O.length;e>>>=0;var i=A();if(e>i)return!1;for(var d=($,C)=>$+(C-$%C)%C,h=1;h<=4;h*=2){var _=t*(1+.2/h);_=Math.min(_,e+100663296);var b=Math.min(i,d(Math.max(e,_),65536)),w=T(b);if(w)return!0}return!1},R={},P=()=>fe||"./this.program",I=()=>{if(!I.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:P()};for(var i in R)R[i]===void 0?delete t[i]:t[i]=R[i];var d=[];for(var i in t)d.push(`${i}=${t[i]}`);I.strings=d}return I.strings},J=(e,t)=>{for(var i=0;i<e.length;++i)X[t++]=e.charCodeAt(i);X[t]=0},D=(e,t)=>{var i=0;return I().forEach((d,h)=>{var _=t+i;W[e+h*4>>2]=_,J(d,_),i+=d.length+1}),0},G=(e,t)=>{var i=I();W[e>>2]=i.length;var d=0;return i.forEach(h=>d+=h.length+1),W[t>>2]=d,0},Pe=e=>{N(e,new xe(e))},Xe=(e,t)=>{Pe(e)},Me=Xe,$r=e=>52;function Rt(e,t,i,d,h){return 70}var Ct=[null,[],[]],ue=(e,t)=>{var i=Ct[e];t===0||t===10?((e===1?je:ae)(xr(i,0)),i.length=0):i.push(t)},Xr=(e,t,i,d)=>{for(var h=0,_=0;_<i;_++){var b=W[t>>2],w=W[t+4>>2];t+=8;for(var $=0;$<w;$++)ue(e,O[b+$]);h+=w}return W[d>>2]=h,0};ye=r.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},Zr(),Y=r.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Or(),Br=r.UnboundTypeError=Pr(Error,"UnboundTypeError");var Tr={j:be,k:$e,n:ke,h:et,z:sr,f:rt,e:qr,c:ut,a:ct,g:gt,d:bt,l:lr,b:wt,i:At,s:zr,y:$t,u:Ke,A:Fe,x:c,w:p,o:y,p:F,q:D,r:G,B:Me,t:$r,m:Rt,v:Xr},ie=Le(),o=e=>(o=ie.E)(e),l=e=>(l=ie.F)(e),v=e=>(v=ie.G)(e),n=e=>(n=ie.I)(e);r.dynCall_jiji=(e,t,i,d,h)=>(r.dynCall_jiji=ie.J)(e,t,i,d,h);var a;Re=function e(){a||f(),a||(Re=e)};function f(){if(he>0||(Ir(),he>0))return;function e(){a||(a=!0,r.calledRun=!0,!le&&(Mr(),m(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),Jr()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),e()},1)):e()}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return f(),U}})();const En={quality:75,baseline:!1,arithmetic:!1,progressive:!0,optimize_coding:!0,smoothing:0,color_space:3,quant_table:3,trellis_multipass:!1,trellis_opt_zero:!1,trellis_opt_table:!1,trellis_loops:1,auto_subsample:!0,chroma_subsample:2,separate_chroma_quality:!1,chroma_quality:75},Rn={preserveOrientation:!1};function dn(s,g,r={}){let m;return g&&(m=(E,U)=>{const S=new WebAssembly.Instance(g,E);return U(S),S.exports}),s({noInitialRun:!0,instantiateWasm:m,...r})}let Zt;async function Cn(s,g){let r=s,m=g;arguments.length===1&&!(s instanceof WebAssembly.Module)&&(r=void 0,m=s),Zt=dn(Tn,r,m)}async function Wn(s,g={}){Zt||Cn();const r=await Zt,m={...En,...g};return r.encode(s.data,s.width,s.height,m).buffer}var Fn=(()=>{var s=import.meta.url;return function(g={}){var r=g,m,E,U=new Promise((n,a)=>{m=n,E=a});const M=globalThis.ServiceWorkerGlobalScope!==void 0&&typeof self<"u"&&globalThis.caches&&globalThis.caches.default!==void 0,K=typeof process=="object"&&process.release&&process.release.name==="node";(M||K)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(a,f,e){this.data=a,this.width=f,this.height=e}}),import.meta.url===void 0&&(import.meta.url="https://localhost"),typeof self<"u"&&self.location===void 0&&(self.location={href:""}));var te=Object.assign({},r),fe="./this.program",N=(n,a)=>{throw a},Q=typeof window=="object",oe=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var L="";function Oe(n){return r.locateFile?r.locateFile(n,L):L+n}var re;(Q||oe)&&(oe?L=self.location.href:typeof document<"u"&&document.currentScript&&(L=document.currentScript.src),s&&(L=s),L.startsWith("blob:")?L="":L=L.substr(0,L.replace(/[?#].*/,"").lastIndexOf("/")+1),oe&&(re=n=>{var a=new XMLHttpRequest;return a.open("GET",n,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)}));var je=r.print||console.log.bind(console),ae=r.printErr||console.error.bind(console);Object.assign(r,te),te=null,r.arguments&&r.arguments,r.thisProgram&&(fe=r.thisProgram),r.quit&&(N=r.quit);var Ae;r.wasmBinary&&(Ae=r.wasmBinary);var Ee,le=!1,X,O,x,q,me,W,Z,Ze;function er(){var n=Ee.buffer;r.HEAP8=X=new Int8Array(n),r.HEAP16=x=new Int16Array(n),r.HEAPU8=O=new Uint8Array(n),r.HEAPU16=q=new Uint16Array(n),r.HEAP32=me=new Int32Array(n),r.HEAPU32=W=new Uint32Array(n),r.HEAPF32=Z=new Float32Array(n),r.HEAPF64=Ze=new Float64Array(n)}var rr=[],dr=[],vr=[];function Ir(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)Qr(r.preRun.shift());ir(rr)}function Mr(){ir(dr)}function Jr(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)tr(r.postRun.shift());ir(vr)}function Qr(n){rr.unshift(n)}function De(n){dr.unshift(n)}function tr(n){vr.unshift(n)}var he=0,Re=null;function Ue(n){var a;he++,(a=r.monitorRunDependencies)==null||a.call(r,he)}function nr(n){var f;if(he--,(f=r.monitorRunDependencies)==null||f.call(r,he),he==0&&Re){var a=Re;Re=null,a()}}function hr(n){var f;(f=r.onAbort)==null||f.call(r,n),n="Aborted("+n+")",ae(n),le=!0,n+=". Build with -sASSERTIONS for more info.";var a=new WebAssembly.RuntimeError(n);throw E(a),a}var Ve="data:application/octet-stream;base64,",He=n=>n.startsWith(Ve),ge;r.locateFile?(ge="mozjpeg_dec.wasm",He(ge)||(ge=Oe(ge))):ge=new URL("/assets/mozjpeg_dec-muSO2n8T.wasm",import.meta.url).href;function ar(n){if(n==ge&&Ae)return new Uint8Array(Ae);if(re)return re(n);throw"both async and sync fetching of the wasm failed"}function Be(n){return!Ae&&(Q||oe)&&typeof fetch=="function"?fetch(n,{credentials:"same-origin"}).then(a=>{if(!a.ok)throw`failed to load wasm binary file at '${n}'`;return a.arrayBuffer()}).catch(()=>ar(n)):Promise.resolve().then(()=>ar(n))}function gr(n,a,f){return Be(n).then(e=>WebAssembly.instantiate(e,a)).then(f,e=>{ae(`failed to asynchronously prepare wasm: ${e}`),hr(e)})}function Rr(n,a,f,e){return!n&&typeof WebAssembly.instantiateStreaming=="function"&&!He(a)&&typeof fetch=="function"?fetch(a,{credentials:"same-origin"}).then(t=>{var i=WebAssembly.instantiateStreaming(t,f);return i.then(e,function(d){return ae(`wasm streaming compile failed: ${d}`),ae("falling back to ArrayBuffer instantiation"),gr(a,f,e)})}):gr(a,f,e)}function Le(){var n={a:Ct};function a(e,t){return ue=e.exports,Ee=ue.A,er(),Vr=ue.F,De(ue.B),nr(),ue}Ue();function f(e){a(e.instance)}if(r.instantiateWasm)try{return r.instantiateWasm(n,a)}catch(e){ae(`Module.instantiateWasm callback failed with error: ${e}`),E(e)}return Rr(Ae,ge,n,f).catch(E),{}}function xe(n){this.name="ExitStatus",this.message=`Program terminated with exit(${n})`,this.status=n}var ir=n=>{for(;n.length>0;)n.shift()(r)};r.noExitRuntime;class Cr{constructor(a){this.excPtr=a,this.ptr=a-24}set_type(a){W[this.ptr+4>>2]=a}get_type(){return W[this.ptr+4>>2]}set_destructor(a){W[this.ptr+8>>2]=a}get_destructor(){return W[this.ptr+8>>2]}set_caught(a){a=a?1:0,X[this.ptr+12]=a}get_caught(){return X[this.ptr+12]!=0}set_rethrown(a){a=a?1:0,X[this.ptr+13]=a}get_rethrown(){return X[this.ptr+13]!=0}init(a,f){this.set_adjusted_ptr(0),this.set_type(a),this.set_destructor(f)}set_adjusted_ptr(a){W[this.ptr+16>>2]=a}get_adjusted_ptr(){return W[this.ptr+16>>2]}get_exception_ptr(){var a=o(this.get_type());if(a)return W[this.excPtr>>2];var f=this.get_adjusted_ptr();return f!==0?f:this.excPtr}}var pr=0,be=(n,a,f)=>{var e=new Cr(n);throw e.init(a,f),pr=n,pr},Ce=(n,a,f,e,t)=>{},we=()=>{for(var n=new Array(256),a=0;a<256;++a)n[a]=String.fromCharCode(a);Se=n},Se,ne=n=>{for(var a="",f=n;O[f];)a+=Se[O[f++]];return a},j={},se={},ye={},ze,ce=n=>{throw new ze(n)},$e,ke=n=>{throw new $e(n)},Zr=(n,a,f)=>{n.forEach(function(h){ye[h]=a});function e(h){var _=f(h);_.length!==n.length&&ke("Mismatched type converter count");for(var b=0;b<n.length;++b)H(n[b],_[b])}var t=new Array(a.length),i=[],d=0;a.forEach((h,_)=>{se.hasOwnProperty(h)?t[_]=se[h]:(i.push(h),j.hasOwnProperty(h)||(j[h]=[]),j[h].push(()=>{t[_]=se[h],++d,d===i.length&&e(t)}))}),i.length===0&&e(t)};function Ge(n,a,f={}){var e=a.name;if(n||ce(`type "${e}" must have a positive integer typeid pointer`),se.hasOwnProperty(n)){if(f.ignoreDuplicateRegistrations)return;ce(`Cannot register type '${e}' twice`)}if(se[n]=a,delete ye[n],j.hasOwnProperty(n)){var t=j[n];delete j[n],t.forEach(i=>i())}}function H(n,a,f={}){if(!("argPackAdvance"in a))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Ge(n,a,f)}var Y=8,de=(n,a,f,e)=>{a=ne(a),H(n,{name:a,fromWireType:function(t){return!!t},toWireType:function(t,i){return i?f:e},argPackAdvance:Y,readValueFromPointer:function(t){return this.fromWireType(O[t])},destructorFunction:null})},_r=[],B=[],ee=n=>{n>9&&--B[n+1]===0&&(B[n]=void 0,_r.push(n))},et=()=>B.length/2-5-_r.length,or=()=>{B.push(0,1,void 0,1,null,1,!0,1,!1,1),r.count_emval_handles=et},z={toValue:n=>(n||ce("Cannot use deleted val. handle = "+n),B[n]),toHandle:n=>{switch(n){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const a=_r.pop()||B.length;return B[a]=n,B[a+1]=1,a}}}};function Ke(n){return this.fromWireType(W[n>>2])}var Wr={name:"emscripten::val",fromWireType:n=>{var a=z.toValue(n);return ee(n),a},toWireType:(n,a)=>z.toHandle(a),argPackAdvance:Y,readValueFromPointer:Ke,destructorFunction:null},Or=n=>H(n,Wr),qe=(n,a)=>{switch(a){case 4:return function(f){return this.fromWireType(Z[f>>2])};case 8:return function(f){return this.fromWireType(Ze[f>>3])};default:throw new TypeError(`invalid float width (${a}): ${n}`)}},Ye=(n,a,f)=>{a=ne(a),H(n,{name:a,fromWireType:e=>e,toWireType:(e,t)=>t,argPackAdvance:Y,readValueFromPointer:qe(a,f),destructorFunction:null})},sr=(n,a)=>Object.defineProperty(a,"name",{value:n}),jr=n=>{for(;n.length;){var a=n.pop(),f=n.pop();f(a)}};function rt(n){for(var a=1;a<n.length;++a)if(n[a]!==null&&n[a].destructorFunction===void 0)return!0;return!1}function Fr(n,a,f,e,t,i){var d=a.length;d<2&&ce("argTypes array size mismatch! Must at least get return value and 'this' types!"),a[1];var h=rt(a),_=a[0].name!=="void",b=d-2,w=new Array(b),$=[],C=[],k=function(...V){V.length!==b&&ce(`function ${n} called with ${V.length} arguments, expected ${b}`),C.length=0;var pe;$.length=1,$[0]=t;for(var ve=0;ve<b;++ve)w[ve]=a[ve+2].toWireType(C,V[ve]),$.push(w[ve]);var _e=e(...$);function Wt(Er){if(h)jr(C);else for(var Je=2;Je<a.length;Je++){var St=Je===1?pe:w[Je-2];a[Je].destructorFunction!==null&&a[Je].destructorFunction(St)}if(_)return a[0].fromWireType(Er)}return Wt(_e)};return sr(n,k)}var tt=(n,a,f)=>{if(n[a].overloadTable===void 0){var e=n[a];n[a]=function(...t){return n[a].overloadTable.hasOwnProperty(t.length)||ce(`Function '${f}' called with an invalid number of arguments (${t.length}) - expects one of (${n[a].overloadTable})!`),n[a].overloadTable[t.length].apply(this,t)},n[a].overloadTable=[],n[a].overloadTable[e.argCount]=e}},Dr=(n,a,f)=>{r.hasOwnProperty(n)?((f===void 0||r[n].overloadTable!==void 0&&r[n].overloadTable[f]!==void 0)&&ce(`Cannot register public name '${n}' twice`),tt(r,n,n),r.hasOwnProperty(f)&&ce(`Cannot register multiple overloads of a function with the same number of arguments (${f})!`),r[n].overloadTable[f]=a):(r[n]=a,f!==void 0&&(r[n].numArguments=f))},Ie=(n,a)=>{for(var f=[],e=0;e<n;e++)f.push(W[a+e*4>>2]);return f},nt=(n,a,f)=>{r.hasOwnProperty(n)||ke("Replacing nonexistent public symbol"),r[n].overloadTable!==void 0&&f!==void 0?r[n].overloadTable[f]=a:(r[n]=a,r[n].argCount=f)},at=(n,a,f)=>{n=n.replace(/p/g,"i");var e=r["dynCall_"+n];return e(a,...f)},mr=[],Vr,We=n=>{var a=mr[n];return a||(n>=mr.length&&(mr.length=n+1),mr[n]=a=Vr.get(n)),a},yr=(n,a,f=[])=>{if(n.includes("j"))return at(n,a,f);var e=We(a)(...f);return e},Hr=(n,a)=>(...f)=>yr(n,a,f),it=(n,a)=>{n=ne(n);function f(){return n.includes("j")?Hr(n,a):We(a)}var e=f();return typeof e!="function"&&ce(`unknown function pointer with signature ${n}: ${a}`),e},ot=(n,a)=>{var f=sr(a,function(e){this.name=a,this.message=e;var t=new Error(e).stack;t!==void 0&&(this.stack=this.toString()+`
`+t.replace(/^Error(:[^\n]*)?\n/,""))});return f.prototype=Object.create(n.prototype),f.prototype.constructor=f,f.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},f},Ne,Pr=n=>{var a=Xr(n),f=ne(a);return ie(a),f},Br=(n,a)=>{var f=[],e={};function t(i){if(!e[i]&&!se[i]){if(ye[i]){ye[i].forEach(t);return}f.push(i),e[i]=!0}}throw a.forEach(t),new Ne(`${n}: `+f.map(Pr).join([", "]))},Lr=n=>{n=n.trim();const a=n.indexOf("(");return a!==-1?n.substr(0,a):n},st=(n,a,f,e,t,i,d)=>{var h=Ie(a,f);n=ne(n),n=Lr(n),t=it(e,t),Dr(n,function(){Br(`Cannot call ${n} due to unbound types`,h)},a-1),Zr([],h,_=>{var b=[_[0],null].concat(_.slice(1));return nt(n,Fr(n,b,null,t,i),a-1),[]})},ft=(n,a,f)=>{switch(a){case 1:return f?e=>X[e]:e=>O[e];case 2:return f?e=>x[e>>1]:e=>q[e>>1];case 4:return f?e=>me[e>>2]:e=>W[e>>2];default:throw new TypeError(`invalid integer width (${a}): ${n}`)}},qr=(n,a,f,e,t)=>{a=ne(a);var i=w=>w;if(e===0){var d=32-8*f;i=w=>w<<d>>>d}var h=a.includes("unsigned"),_=(w,$)=>{},b;h?b=function(w,$){return _($,this.name),$>>>0}:b=function(w,$){return _($,this.name),$},H(n,{name:a,fromWireType:i,toWireType:b,argPackAdvance:Y,readValueFromPointer:ft(a,f,e!==0),destructorFunction:null})},lt=(n,a,f)=>{var e=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],t=e[a];function i(d){var h=W[d>>2],_=W[d+4>>2];return new t(X.buffer,_,h)}f=ne(f),H(n,{name:f,fromWireType:i,argPackAdvance:Y,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},ut=(n,a,f,e)=>{if(!(e>0))return 0;for(var t=f,i=f+e-1,d=0;d<n.length;++d){var h=n.charCodeAt(d);if(h>=55296&&h<=57343){var _=n.charCodeAt(++d);h=65536+((h&1023)<<10)|_&1023}if(h<=127){if(f>=i)break;a[f++]=h}else if(h<=2047){if(f+1>=i)break;a[f++]=192|h>>6,a[f++]=128|h&63}else if(h<=65535){if(f+2>=i)break;a[f++]=224|h>>12,a[f++]=128|h>>6&63,a[f++]=128|h&63}else{if(f+3>=i)break;a[f++]=240|h>>18,a[f++]=128|h>>12&63,a[f++]=128|h>>6&63,a[f++]=128|h&63}}return a[f]=0,f-t},ct=(n,a,f)=>ut(n,O,a,f),dt=n=>{for(var a=0,f=0;f<n.length;++f){var e=n.charCodeAt(f);e<=127?a++:e<=2047?a+=2:e>=55296&&e<=57343?(a+=4,++f):a+=3}return a},Nr=(n,a,f)=>{for(var e=a+f,t="";!(a>=e);){var i=n[a++];if(!i)return t;if(!(i&128)){t+=String.fromCharCode(i);continue}var d=n[a++]&63;if((i&224)==192){t+=String.fromCharCode((i&31)<<6|d);continue}var h=n[a++]&63;if((i&240)==224?i=(i&15)<<12|d<<6|h:i=(i&7)<<18|d<<12|h<<6|n[a++]&63,i<65536)t+=String.fromCharCode(i);else{var _=i-65536;t+=String.fromCharCode(55296|_>>10,56320|_&1023)}}return t},vt=(n,a)=>n?Nr(O,n,a):"",xr=(n,a)=>{a=ne(a);var f=a==="std::string";H(n,{name:a,fromWireType(e){var t=W[e>>2],i=e+4,d;if(f)for(var h=i,_=0;_<=t;++_){var b=i+_;if(_==t||O[b]==0){var w=b-h,$=vt(h,w);d===void 0?d=$:(d+="\0",d+=$),h=b+1}}else{for(var C=new Array(t),_=0;_<t;++_)C[_]=String.fromCharCode(O[i+_]);d=C.join("")}return ie(e),d},toWireType(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var i,d=typeof t=="string";d||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||ce("Cannot pass non-string to std::string"),f&&d?i=dt(t):i=t.length;var h=Tr(4+i+1),_=h+4;if(W[h>>2]=i,f&&d)ct(t,_,i+1);else if(d)for(var b=0;b<i;++b){var w=t.charCodeAt(b);w>255&&(ie(_),ce("String has UTF-16 code units that do not fit in 8 bits")),O[_+b]=w}else for(var b=0;b<i;++b)O[_+b]=t[b];return e!==null&&e.push(ie,h),h},argPackAdvance:Y,readValueFromPointer:Ke,destructorFunction(e){ie(e)}})},ht=(n,a)=>{for(var f="",e=0;!(e>=a/2);++e){var t=x[n+e*2>>1];if(t==0)break;f+=String.fromCharCode(t)}return f},gt=(n,a,f)=>{if(f??(f=2147483647),f<2)return 0;f-=2;for(var e=a,t=f<n.length*2?f/2:n.length,i=0;i<t;++i){var d=n.charCodeAt(i);x[a>>1]=d,a+=2}return x[a>>1]=0,a-e},pt=n=>n.length*2,_t=(n,a)=>{for(var f=0,e="";!(f>=a/4);){var t=me[n+f*4>>2];if(t==0)break;if(++f,t>=65536){var i=t-65536;e+=String.fromCharCode(55296|i>>10,56320|i&1023)}else e+=String.fromCharCode(t)}return e},fr=(n,a,f)=>{if(f??(f=2147483647),f<4)return 0;for(var e=a,t=e+f-4,i=0;i<n.length;++i){var d=n.charCodeAt(i);if(d>=55296&&d<=57343){var h=n.charCodeAt(++i);d=65536+((d&1023)<<10)|h&1023}if(me[a>>2]=d,a+=4,a+4>t)break}return me[a>>2]=0,a-e},mt=n=>{for(var a=0,f=0;f<n.length;++f){var e=n.charCodeAt(f);e>=55296&&e<=57343&&++f,a+=4}return a},yt=(n,a,f)=>{f=ne(f);var e,t,i,d;a===2?(e=ht,t=gt,d=pt,i=h=>q[h>>1]):a===4&&(e=_t,t=fr,d=mt,i=h=>W[h>>2]),H(n,{name:f,fromWireType:h=>{for(var _=W[h>>2],b,w=h+4,$=0;$<=_;++$){var C=h+4+$*a;if($==_||i(C)==0){var k=C-w,V=e(w,k);b===void 0?b=V:(b+="\0",b+=V),w=C+a}}return ie(h),b},toWireType:(h,_)=>{typeof _!="string"&&ce(`Cannot pass non-string to C++ string type ${f}`);var b=d(_),w=Tr(4+b+a);return W[w>>2]=b/a,t(_,w+4,b+a),h!==null&&h.push(ie,w),w},argPackAdvance:Y,readValueFromPointer:Ke,destructorFunction(h){ie(h)}})},Ur=(n,a)=>{a=ne(a),H(n,{isVoid:!0,name:a,argPackAdvance:0,fromWireType:()=>{},toWireType:(f,e)=>{}})},bt=(n,a,f)=>O.copyWithin(n,a,a+f),lr=[],wt=(n,a,f,e)=>(n=lr[n],a=z.toValue(a),n(null,a,f,e)),At={},zr=n=>{var a=At[n];return a===void 0?ne(n):a},br=()=>{if(typeof globalThis=="object")return globalThis;function n(a){a.$$$embind_global$$$=a;var f=typeof $$$embind_global$$$=="object"&&a.$$$embind_global$$$==a;return f||delete a.$$$embind_global$$$,f}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&n(global)?$$$embind_global$$$=global:typeof self=="object"&&n(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},$t=n=>n===0?z.toHandle(br()):(n=zr(n),z.toHandle(br()[n])),Tt=n=>{var a=lr.length;return lr.push(n),a},Et=(n,a)=>{var f=se[n];return f===void 0&&ce(`${a} has unknown type ${Pr(n)}`),f},wr=(n,a)=>{for(var f=new Array(n),e=0;e<n;++e)f[e]=Et(W[a+e*4>>2],"parameter "+e);return f},Fe=Reflect.construct,Gr=(n,a,f)=>{var e=[],t=n.toWireType(e,f);return e.length&&(W[a>>2]=z.toHandle(e)),t},Kr=(n,a,f)=>{var e=wr(n,a),t=e.shift();n--;var i=new Array(n),d=(_,b,w,$)=>{for(var C=0,k=0;k<n;++k)i[k]=e[k].readValueFromPointer($+C),C+=e[k].argPackAdvance;var V=f===1?Fe(b,i):b.apply(_,i);return Gr(t,w,V)},h=`methodCaller<(${e.map(_=>_.name).join(", ")}) => ${t.name}>`;return Tt(sr(h,d))},Ar=n=>{n>9&&(B[n+1]+=1)},Yr=n=>{var a=z.toValue(n);jr(a),ee(n)},u=()=>{hr("")},c=()=>2147483648,p=n=>{var a=Ee.buffer,f=(n-a.byteLength+65535)/65536;try{return Ee.grow(f),er(),1}catch{}},y=n=>{var a=O.length;n>>>=0;var f=c();if(n>f)return!1;for(var e=(_,b)=>_+(b-_%b)%b,t=1;t<=4;t*=2){var i=a*(1+.2/t);i=Math.min(i,n+100663296);var d=Math.min(f,e(Math.max(n,i),65536)),h=p(d);if(h)return!0}return!1},A={},T=()=>fe||"./this.program",F=()=>{if(!F.strings){var n=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:n,_:T()};for(var f in A)A[f]===void 0?delete a[f]:a[f]=A[f];var e=[];for(var f in a)e.push(`${f}=${a[f]}`);F.strings=e}return F.strings},R=(n,a)=>{for(var f=0;f<n.length;++f)X[a++]=n.charCodeAt(f);X[a]=0},P=(n,a)=>{var f=0;return F().forEach((e,t)=>{var i=a+f;W[n+t*4>>2]=i,R(e,i),f+=e.length+1}),0},I=(n,a)=>{var f=F();W[n>>2]=f.length;var e=0;return f.forEach(t=>e+=t.length+1),W[a>>2]=e,0},J=n=>{N(n,new xe(n))},D=(n,a)=>{J(n)},G=D,Pe=n=>52;function Xe(n,a,f,e,t){return 70}var Me=[null,[],[]],$r=(n,a)=>{var f=Me[n];a===0||a===10?((n===1?je:ae)(Nr(f,0)),f.length=0):f.push(a)},Rt=(n,a,f,e)=>{for(var t=0,i=0;i<f;i++){var d=W[a>>2],h=W[a+4>>2];a+=8;for(var _=0;_<h;_++)$r(n,O[d+_]);t+=h}return W[e>>2]=t,0};we(),ze=r.BindingError=class extends Error{constructor(a){super(a),this.name="BindingError"}},$e=r.InternalError=class extends Error{constructor(a){super(a),this.name="InternalError"}},or(),Ne=r.UnboundTypeError=ot(Error,"UnboundTypeError");var Ct={o:be,q:Ce,m:de,l:Or,j:Ye,f:st,b:qr,a:lt,e:xr,c:yt,n:Ur,v:bt,i:wt,d:ee,k:$t,h:Kr,y:Ar,g:Yr,r:u,s:y,t:P,u:I,z:G,w:Pe,p:Xe,x:Rt},ue=Le(),Xr=n=>(Xr=ue.C)(n),Tr=n=>(Tr=ue.D)(n),ie=n=>(ie=ue.E)(n),o=n=>(o=ue.G)(n);r.dynCall_jiji=(n,a,f,e,t)=>(r.dynCall_jiji=ue.H)(n,a,f,e,t);var l;Re=function n(){l||v(),l||(Re=n)};function v(){if(he>0||(Ir(),he>0))return;function n(){l||(l=!0,r.calledRun=!0,!le&&(Mr(),m(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),Jr()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),n()},1)):n()}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return v(),U}})();let en;async function Pn(s,g){let r=s,m=g;arguments.length===1&&!(s instanceof WebAssembly.Module)&&(r=void 0,m=s),en=dn(Fn,r,m)}async function Un(s,g={}){en||Pn();const r={...Rn,...g},E=(await en).decode(s,r.preserveOrientation);if(!E)throw new Error("Decoding error");return E}let Te;const Sr=new Array(128).fill(void 0);Sr.push(void 0,null,!0,!1);let Lt=Sr.length;function zt(s){Lt===Sr.length&&Sr.push(Sr.length+1);const g=Lt;return Lt=Sr[g],Sr[g]=s,g}function rn(s){return Sr[s]}function Sn(s){s<132||(Sr[s]=Lt,Lt=s)}function sn(s){const g=rn(s);return Sn(s),g}const vn=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&vn.decode();let kt=null;function hn(){return(kt===null||kt.byteLength===0)&&(kt=new Uint8Array(Te.memory.buffer)),kt}function kn(s,g){return s=s>>>0,vn.decode(hn().subarray(s,s+g))}let It=null;function In(){return(It===null||It.byteLength===0)&&(It=new Uint8ClampedArray(Te.memory.buffer)),It}function Mn(s,g){return s=s>>>0,In().subarray(s/1,s/1+g)}let fn=0;function gn(s,g){const r=g(s.length*1,1)>>>0;return hn().set(s,r/1),fn=s.length,r}function On(s){const g=gn(s,Te.__wbindgen_malloc),r=fn,m=Te.decode(g,r);return sn(m)}function jn(s){const g=gn(s,Te.__wbindgen_malloc),r=fn,m=Te.decode_rgba16(g,r);return ln.__wrap(m)}class ln{static __wrap(g){g=g>>>0;const r=Object.create(ln.prototype);return r.__wbg_ptr=g,r}__destroy_into_raw(){const g=this.__wbg_ptr;return this.__wbg_ptr=0,g}free(){const g=this.__destroy_into_raw();Te.__wbg_imagedatargba16_free(g)}get width(){return Te.imagedatargba16_width(this.__wbg_ptr)>>>0}get height(){return Te.imagedatargba16_height(this.__wbg_ptr)>>>0}get data(){const g=Te.imagedatargba16_data(this.__wbg_ptr);return sn(g)}}async function Dn(s,g){if(typeof Response=="function"&&s instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(s,g)}catch(m){if(s.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",m);else throw m}const r=await s.arrayBuffer();return await WebAssembly.instantiate(r,g)}else{const r=await WebAssembly.instantiate(s,g);return r instanceof WebAssembly.Instance?{instance:r,module:s}:r}}function Vn(){const s={};return s.wbg={},s.wbg.__wbindgen_memory=function(){const g=Te.memory;return zt(g)},s.wbg.__wbg_buffer_a448f833075b71ba=function(g){const r=rn(g).buffer;return zt(r)},s.wbg.__wbg_newwithbyteoffsetandlength_099217381c451830=function(g,r,m){const E=new Uint16Array(rn(g),r>>>0,m>>>0);return zt(E)},s.wbg.__wbindgen_object_drop_ref=function(g){sn(g)},s.wbg.__wbg_newwithownedu8clampedarrayandsh_91db5987993a08fb=function(g,r,m,E){var U=Mn(g,r).slice();Te.__wbindgen_free(g,r*1,1);const S=new ImageData(U,m>>>0,E>>>0);return zt(S)},s.wbg.__wbindgen_throw=function(g,r){throw new Error(kn(g,r))},s}function Hn(s,g){return Te=s.exports,pn.__wbindgen_wasm_module=g,kt=null,It=null,Te}async function pn(s){if(Te!==void 0)return Te;typeof s>"u"&&(s=new URL("/assets/squoosh_png_bg-DAY7U9NW.wasm",import.meta.url));const g=Vn();(typeof s=="string"||typeof Request=="function"&&s instanceof Request||typeof URL=="function"&&s instanceof URL)&&(s=fetch(s));const{instance:r,module:m}=await Dn(await s,g);return Hn(r,m)}const Bn=globalThis.ServiceWorkerGlobalScope!==void 0,Ln=Bn&&typeof self<"u"&&globalThis.caches&&globalThis.caches.default!==void 0,qn=typeof process=="object"&&process.release&&process.release.name==="node";(Ln||qn)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(g,r,m){this.data=g,this.width=r,this.height=m}}),import.meta.url===void 0&&(import.meta.url="https://localhost"),typeof self<"u"&&self.location===void 0&&(self.location={href:""}));let Xt;async function Nn(s){return Xt||(Xt=pn(s)),Xt}async function xn(s,g={}){await Nn();const{bitDepth:r=8}=g;if(r===16){const E=await jn(new Uint8Array(s));if(!E)throw new Error("Encoding error.");return E}const m=await On(new Uint8Array(s));if(!m)throw new Error("Encoding error.");return m}const zn={quality:75,target_size:0,target_PSNR:0,method:4,sns_strength:50,filter_strength:60,filter_sharpness:0,filter_type:1,partitions:0,segments:4,pass:1,show_compressed:0,preprocessing:0,autofilter:0,partition_limit:0,alpha_compression:1,alpha_filtering:1,alpha_quality:100,lossless:0,exact:0,image_hint:0,emulate_jpeg_size:0,thread_level:0,low_memory:0,near_lossless:100,use_delta_palette:0,use_sharp_yuv:0};function tn(s,g,r={}){let m;return g&&(m=(E,U)=>{const S=new WebAssembly.Instance(g,E);return U(S),S.exports}),s({noInitialRun:!0,instantiateWasm:m,...r})}const Gn=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),Kn=()=>(async s=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(s)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));let Ft;async function Yn(s,g){let r=s,m=g;if(arguments.length===1&&!(s instanceof WebAssembly.Module)&&(r=void 0,m=s),await Gn()){const U=await import("./webp_enc_simd-CGhe7JQt.js");return Ft=tn(U.default,r,m),Ft}const E=await import("./webp_enc-CznDCDP2.js");return Ft=tn(E.default,r,m),Ft}async function Xn(s,g={}){Ft||(Ft=Yn());const r={...zn,...g},E=(await Ft).encode(s.data,s.width,s.height,r);if(!E)throw new Error("Encoding error.");return E.buffer}var Jn=(()=>{var s=import.meta.url;return function(r={}){var r=typeof r<"u"?r:{},m,E;r.ready=new Promise(function(u,c){m=u,E=c});const S=globalThis.ServiceWorkerGlobalScope!==void 0&&typeof self<"u"&&globalThis.caches&&globalThis.caches.default!==void 0,M=typeof process=="object"&&process.release&&process.release.name==="node";(S||M)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(c,p,y){this.data=c,this.width=p,this.height=y}}),import.meta.url===void 0&&(import.meta.url="https://localhost"),typeof self<"u"&&self.location===void 0&&(self.location={href:""}));var K=Object.assign({},r),te=typeof window=="object",fe=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var N="";function Q(u){return r.locateFile?r.locateFile(u,N):N+u}var oe;(te||fe)&&(fe?N=self.location.href:typeof document<"u"&&document.currentScript&&(N=document.currentScript.src),s&&(N=s),N.indexOf("blob:")!==0?N=N.substr(0,N.replace(/[?#].*/,"").lastIndexOf("/")+1):N="",fe&&(oe=u=>{var c=new XMLHttpRequest;return c.open("GET",u,!1),c.responseType="arraybuffer",c.send(null),new Uint8Array(c.response)})),r.print||console.log.bind(console);var L=r.printErr||console.warn.bind(console);Object.assign(r,K),K=null,r.arguments&&r.arguments,r.thisProgram&&r.thisProgram,r.quit&&r.quit;var Oe;r.wasmBinary&&(Oe=r.wasmBinary),r.noExitRuntime,typeof WebAssembly!="object"&&He("no native wasm support detected");var re,je=!1;function ae(u,c,p){for(var y=c+p,A="";!(c>=y);){var T=u[c++];if(!T)return A;if(!(T&128)){A+=String.fromCharCode(T);continue}var F=u[c++]&63;if((T&224)==192){A+=String.fromCharCode((T&31)<<6|F);continue}var R=u[c++]&63;if((T&240)==224?T=(T&15)<<12|F<<6|R:T=(T&7)<<18|F<<12|R<<6|u[c++]&63,T<65536)A+=String.fromCharCode(T);else{var P=T-65536;A+=String.fromCharCode(55296|P>>10,56320|P&1023)}}return A}function Ae(u,c){return u?ae(x,u,c):""}function Ee(u,c,p,y){if(!(y>0))return 0;for(var A=p,T=p+y-1,F=0;F<u.length;++F){var R=u.charCodeAt(F);if(R>=55296&&R<=57343){var P=u.charCodeAt(++F);R=65536+((R&1023)<<10)|P&1023}if(R<=127){if(p>=T)break;c[p++]=R}else if(R<=2047){if(p+1>=T)break;c[p++]=192|R>>6,c[p++]=128|R&63}else if(R<=65535){if(p+2>=T)break;c[p++]=224|R>>12,c[p++]=128|R>>6&63,c[p++]=128|R&63}else{if(p+3>=T)break;c[p++]=240|R>>18,c[p++]=128|R>>12&63,c[p++]=128|R>>6&63,c[p++]=128|R&63}}return c[p]=0,p-A}function le(u,c,p){return Ee(u,x,c,p)}function X(u){for(var c=0,p=0;p<u.length;++p){var y=u.charCodeAt(p);y<=127?c++:y<=2047?c+=2:y>=55296&&y<=57343?(c+=4,++p):c+=3}return c}var O,x,q,me,W,Z,Ze,er;function rr(){var u=re.buffer;r.HEAP8=O=new Int8Array(u),r.HEAP16=q=new Int16Array(u),r.HEAP32=W=new Int32Array(u),r.HEAPU8=x=new Uint8Array(u),r.HEAPU16=me=new Uint16Array(u),r.HEAPU32=Z=new Uint32Array(u),r.HEAPF32=Ze=new Float32Array(u),r.HEAPF64=er=new Float64Array(u)}var dr,vr=[],Ir=[],Mr=[];function Jr(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)tr(r.preRun.shift());Cr(vr)}function Qr(){Cr(Ir)}function De(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)Re(r.postRun.shift());Cr(Mr)}function tr(u){vr.unshift(u)}function he(u){Ir.unshift(u)}function Re(u){Mr.unshift(u)}var Ue=0,nr=null;function hr(u){Ue++,r.monitorRunDependencies&&r.monitorRunDependencies(Ue)}function Ve(u){if(Ue--,r.monitorRunDependencies&&r.monitorRunDependencies(Ue),Ue==0&&nr){var c=nr;nr=null,c()}}function He(u){r.onAbort&&r.onAbort(u),u="Aborted("+u+")",L(u),je=!0,u+=". Build with -sASSERTIONS for more info.";var c=new WebAssembly.RuntimeError(u);throw E(c),c}var ge="data:application/octet-stream;base64,";function ar(u){return u.startsWith(ge)}var Be;r.locateFile?(Be="webp_dec.wasm",ar(Be)||(Be=Q(Be))):Be=new URL("/assets/webp_dec-C990n7mh.wasm",import.meta.url).href;function gr(u){try{if(u==Be&&Oe)return new Uint8Array(Oe);if(oe)return oe(u);throw"both async and sync fetching of the wasm failed"}catch(c){He(c)}}function Rr(u){return!Oe&&(te||fe)&&typeof fetch=="function"?fetch(u,{credentials:"same-origin"}).then(function(c){if(!c.ok)throw"failed to load wasm binary file at '"+u+"'";return c.arrayBuffer()}).catch(function(){return gr(u)}):Promise.resolve().then(function(){return gr(u)})}function Le(u,c,p){return Rr(u).then(function(y){return WebAssembly.instantiate(y,c)}).then(function(y){return y}).then(p,function(y){L("failed to asynchronously prepare wasm: "+y),He(y)})}function xe(u,c,p,y){return!u&&typeof WebAssembly.instantiateStreaming=="function"&&!ar(c)&&typeof fetch=="function"?fetch(c,{credentials:"same-origin"}).then(function(A){var T=WebAssembly.instantiateStreaming(A,p);return T.then(y,function(F){return L("wasm streaming compile failed: "+F),L("falling back to ArrayBuffer instantiation"),Le(c,p,y)})}):Le(c,p,y)}function ir(){var u={a:Et};function c(y,A){var T=y.exports;return r.asm=T,re=r.asm.s,rr(),dr=r.asm.y,he(r.asm.t),Ve(),T}hr();function p(y){c(y.instance)}if(r.instantiateWasm)try{return r.instantiateWasm(u,c)}catch(y){L("Module.instantiateWasm callback failed with error: "+y),E(y)}return xe(Oe,Be,u,p).catch(E),{}}function Cr(u){for(;u.length>0;)u.shift()(r)}function pr(u){this.excPtr=u,this.ptr=u-24,this.set_type=function(c){Z[this.ptr+4>>2]=c},this.get_type=function(){return Z[this.ptr+4>>2]},this.set_destructor=function(c){Z[this.ptr+8>>2]=c},this.get_destructor=function(){return Z[this.ptr+8>>2]},this.set_refcount=function(c){W[this.ptr>>2]=c},this.set_caught=function(c){c=c?1:0,O[this.ptr+12>>0]=c},this.get_caught=function(){return O[this.ptr+12>>0]!=0},this.set_rethrown=function(c){c=c?1:0,O[this.ptr+13>>0]=c},this.get_rethrown=function(){return O[this.ptr+13>>0]!=0},this.init=function(c,p){this.set_adjusted_ptr(0),this.set_type(c),this.set_destructor(p),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var c=W[this.ptr>>2];W[this.ptr>>2]=c+1},this.release_ref=function(){var c=W[this.ptr>>2];return W[this.ptr>>2]=c-1,c===1},this.set_adjusted_ptr=function(c){Z[this.ptr+16>>2]=c},this.get_adjusted_ptr=function(){return Z[this.ptr+16>>2]},this.get_exception_ptr=function(){var c=Kr(this.get_type());if(c)return Z[this.excPtr>>2];var p=this.get_adjusted_ptr();return p!==0?p:this.excPtr}}function be(u,c,p){var y=new pr(u);throw y.init(c,p),u}function Ce(u,c,p,y,A){}function we(u){switch(u){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+u)}}function Se(){for(var u=new Array(256),c=0;c<256;++c)u[c]=String.fromCharCode(c);ne=u}var ne=void 0;function j(u){for(var c="",p=u;x[p];)c+=ne[x[p++]];return c}var se={},ye={},ze={},ce=48,$e=57;function ke(u){if(u===void 0)return"_unknown";u=u.replace(/[^a-zA-Z0-9_]/g,"$");var c=u.charCodeAt(0);return c>=ce&&c<=$e?"_"+u:u}function Zr(u,c){return u=ke(u),{[u]:function(){return c.apply(this,arguments)}}[u]}function Ge(u,c){var p=Zr(c,function(y){this.name=c,this.message=y;var A=new Error(y).stack;A!==void 0&&(this.stack=this.toString()+`
`+A.replace(/^Error(:[^\n]*)?\n/,""))});return p.prototype=Object.create(u.prototype),p.prototype.constructor=p,p.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},p}var H=void 0;function Y(u){throw new H(u)}var de=void 0;function _r(u){throw new de(u)}function B(u,c,p){u.forEach(function(R){ze[R]=c});function y(R){var P=p(R);P.length!==u.length&&_r("Mismatched type converter count");for(var I=0;I<u.length;++I)ee(u[I],P[I])}var A=new Array(c.length),T=[],F=0;c.forEach((R,P)=>{ye.hasOwnProperty(R)?A[P]=ye[R]:(T.push(R),se.hasOwnProperty(R)||(se[R]=[]),se[R].push(()=>{A[P]=ye[R],++F,F===T.length&&y(A)}))}),T.length===0&&y(A)}function ee(u,c,p={}){if(!("argPackAdvance"in c))throw new TypeError("registerType registeredInstance requires argPackAdvance");var y=c.name;if(u||Y('type "'+y+'" must have a positive integer typeid pointer'),ye.hasOwnProperty(u)){if(p.ignoreDuplicateRegistrations)return;Y("Cannot register type '"+y+"' twice")}if(ye[u]=c,delete ze[u],se.hasOwnProperty(u)){var A=se[u];delete se[u],A.forEach(T=>T())}}function et(u,c,p,y,A){var T=we(p);c=j(c),ee(u,{name:c,fromWireType:function(F){return!!F},toWireType:function(F,R){return R?y:A},argPackAdvance:8,readValueFromPointer:function(F){var R;if(p===1)R=O;else if(p===2)R=q;else if(p===4)R=W;else throw new TypeError("Unknown boolean type size: "+c);return this.fromWireType(R[F>>T])},destructorFunction:null})}var or=[],z=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Ke(u){u>4&&--z[u].refcount===0&&(z[u]=void 0,or.push(u))}function Wr(){for(var u=0,c=5;c<z.length;++c)z[c]!==void 0&&++u;return u}function Or(){for(var u=5;u<z.length;++u)if(z[u]!==void 0)return z[u];return null}function qe(){r.count_emval_handles=Wr,r.get_first_emval=Or}var Ye={toValue:u=>(u||Y("Cannot use deleted val. handle = "+u),z[u].value),toHandle:u=>{switch(u){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var c=or.length?or.pop():z.length;return z[c]={refcount:1,value:u},c}}}};function sr(u){return this.fromWireType(W[u>>2])}function jr(u,c){c=j(c),ee(u,{name:c,fromWireType:function(p){var y=Ye.toValue(p);return Ke(p),y},toWireType:function(p,y){return Ye.toHandle(y)},argPackAdvance:8,readValueFromPointer:sr,destructorFunction:null})}function rt(u,c){switch(c){case 2:return function(p){return this.fromWireType(Ze[p>>2])};case 3:return function(p){return this.fromWireType(er[p>>3])};default:throw new TypeError("Unknown float type: "+u)}}function Fr(u,c,p){var y=we(p);c=j(c),ee(u,{name:c,fromWireType:function(A){return A},toWireType:function(A,T){return T},argPackAdvance:8,readValueFromPointer:rt(c,y),destructorFunction:null})}function tt(u){for(;u.length;){var c=u.pop(),p=u.pop();p(c)}}function Dr(u,c,p,y,A,T){var F=c.length;F<2&&Y("argTypes array size mismatch! Must at least get return value and 'this' types!"),c[1];for(var R=!1,P=1;P<c.length;++P)if(c[P]!==null&&c[P].destructorFunction===void 0){R=!0;break}var I=c[0].name!=="void",J=F-2,D=new Array(J),G=[],Pe=[];return function(){arguments.length!==J&&Y("function "+u+" called with "+arguments.length+" arguments, expected "+J+" args!"),Pe.length=0;var Xe;G.length=1,G[0]=A;for(var Me=0;Me<J;++Me)D[Me]=c[Me+2].toWireType(Pe,arguments[Me]),G.push(D[Me]);var $r=y.apply(null,G);function Rt(Ct){if(R)tt(Pe);else for(var ue=2;ue<c.length;ue++){var Xr=ue===1?Xe:D[ue-2];c[ue].destructorFunction!==null&&c[ue].destructorFunction(Xr)}if(I)return c[0].fromWireType(Ct)}return Rt($r)}}function Ie(u,c,p){if(u[c].overloadTable===void 0){var y=u[c];u[c]=function(){return u[c].overloadTable.hasOwnProperty(arguments.length)||Y("Function '"+p+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+u[c].overloadTable+")!"),u[c].overloadTable[arguments.length].apply(this,arguments)},u[c].overloadTable=[],u[c].overloadTable[y.argCount]=y}}function nt(u,c,p){r.hasOwnProperty(u)?((p===void 0||r[u].overloadTable!==void 0&&r[u].overloadTable[p]!==void 0)&&Y("Cannot register public name '"+u+"' twice"),Ie(r,u,u),r.hasOwnProperty(p)&&Y("Cannot register multiple overloads of a function with the same number of arguments ("+p+")!"),r[u].overloadTable[p]=c):(r[u]=c,p!==void 0&&(r[u].numArguments=p))}function at(u,c){for(var p=[],y=0;y<u;y++)p.push(Z[c+y*4>>2]);return p}function mr(u,c,p){r.hasOwnProperty(u)||_r("Replacing nonexistant public symbol"),r[u].overloadTable!==void 0&&p!==void 0?r[u].overloadTable[p]=c:(r[u]=c,r[u].argCount=p)}function Vr(u,c,p){var y=r["dynCall_"+u];return p&&p.length?y.apply(null,[c].concat(p)):y.call(null,c)}var We=[];function yr(u){var c=We[u];return c||(u>=We.length&&(We.length=u+1),We[u]=c=dr.get(u)),c}function Hr(u,c,p){if(u.includes("j"))return Vr(u,c,p);var y=yr(c).apply(null,p);return y}function it(u,c){var p=[];return function(){return p.length=0,Object.assign(p,arguments),Hr(u,c,p)}}function ot(u,c){u=j(u);function p(){return u.includes("j")?it(u,c):yr(c)}var y=p();return typeof y!="function"&&Y("unknown function pointer with signature "+u+": "+c),y}var Ne=void 0;function Pr(u){var c=Gr(u),p=j(c);return Fe(c),p}function Br(u,c){var p=[],y={};function A(T){if(!y[T]&&!ye[T]){if(ze[T]){ze[T].forEach(A);return}p.push(T),y[T]=!0}}throw c.forEach(A),new Ne(u+": "+p.map(Pr).join([", "]))}function Lr(u,c,p,y,A,T,F){var R=at(c,p);u=j(u),A=ot(y,A),nt(u,function(){Br("Cannot call "+u+" due to unbound types",R)},c-1),B([],R,function(P){var I=[P[0],null].concat(P.slice(1));return mr(u,Dr(u,I,null,A,T),c-1),[]})}function st(u,c,p){switch(c){case 0:return p?function(A){return O[A]}:function(A){return x[A]};case 1:return p?function(A){return q[A>>1]}:function(A){return me[A>>1]};case 2:return p?function(A){return W[A>>2]}:function(A){return Z[A>>2]};default:throw new TypeError("Unknown integer type: "+u)}}function ft(u,c,p,y,A){c=j(c);var T=we(p),F=D=>D;if(y===0){var R=32-8*p;F=D=>D<<R>>>R}var P=c.includes("unsigned"),I=(D,G)=>{},J;P?J=function(D,G){return I(G,this.name),G>>>0}:J=function(D,G){return I(G,this.name),G},ee(u,{name:c,fromWireType:F,toWireType:J,argPackAdvance:8,readValueFromPointer:st(c,T,y!==0),destructorFunction:null})}function qr(u,c,p){var y=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],A=y[c];function T(F){F=F>>2;var R=Z,P=R[F],I=R[F+1];return new A(R.buffer,I,P)}p=j(p),ee(u,{name:p,fromWireType:T,argPackAdvance:8,readValueFromPointer:T},{ignoreDuplicateRegistrations:!0})}function lt(u,c){c=j(c);var p=c==="std::string";ee(u,{name:c,fromWireType:function(y){var A=Z[y>>2],T=y+4,F;if(p)for(var R=T,P=0;P<=A;++P){var I=T+P;if(P==A||x[I]==0){var J=I-R,D=Ae(R,J);F===void 0?F=D:(F+="\0",F+=D),R=I+1}}else{for(var G=new Array(A),P=0;P<A;++P)G[P]=String.fromCharCode(x[T+P]);F=G.join("")}return Fe(y),F},toWireType:function(y,A){A instanceof ArrayBuffer&&(A=new Uint8Array(A));var T,F=typeof A=="string";F||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int8Array||Y("Cannot pass non-string to std::string"),p&&F?T=X(A):T=A.length;var R=wr(4+T+1),P=R+4;if(Z[R>>2]=T,p&&F)le(A,P,T+1);else if(F)for(var I=0;I<T;++I){var J=A.charCodeAt(I);J>255&&(Fe(P),Y("String has UTF-16 code units that do not fit in 8 bits")),x[P+I]=J}else for(var I=0;I<T;++I)x[P+I]=A[I];return y!==null&&y.push(Fe,R),R},argPackAdvance:8,readValueFromPointer:sr,destructorFunction:function(y){Fe(y)}})}function ut(u,c){for(var p="",y=0;!(y>=c/2);++y){var A=q[u+y*2>>1];if(A==0)break;p+=String.fromCharCode(A)}return p}function ct(u,c,p){if(p===void 0&&(p=2147483647),p<2)return 0;p-=2;for(var y=c,A=p<u.length*2?p/2:u.length,T=0;T<A;++T){var F=u.charCodeAt(T);q[c>>1]=F,c+=2}return q[c>>1]=0,c-y}function dt(u){return u.length*2}function Nr(u,c){for(var p=0,y="";!(p>=c/4);){var A=W[u+p*4>>2];if(A==0)break;if(++p,A>=65536){var T=A-65536;y+=String.fromCharCode(55296|T>>10,56320|T&1023)}else y+=String.fromCharCode(A)}return y}function vt(u,c,p){if(p===void 0&&(p=2147483647),p<4)return 0;for(var y=c,A=y+p-4,T=0;T<u.length;++T){var F=u.charCodeAt(T);if(F>=55296&&F<=57343){var R=u.charCodeAt(++T);F=65536+((F&1023)<<10)|R&1023}if(W[c>>2]=F,c+=4,c+4>A)break}return W[c>>2]=0,c-y}function xr(u){for(var c=0,p=0;p<u.length;++p){var y=u.charCodeAt(p);y>=55296&&y<=57343&&++p,c+=4}return c}function ht(u,c,p){p=j(p);var y,A,T,F,R;c===2?(y=ut,A=ct,F=dt,T=()=>me,R=1):c===4&&(y=Nr,A=vt,F=xr,T=()=>Z,R=2),ee(u,{name:p,fromWireType:function(P){for(var I=Z[P>>2],J=T(),D,G=P+4,Pe=0;Pe<=I;++Pe){var Xe=P+4+Pe*c;if(Pe==I||J[Xe>>R]==0){var Me=Xe-G,$r=y(G,Me);D===void 0?D=$r:(D+="\0",D+=$r),G=Xe+c}}return Fe(P),D},toWireType:function(P,I){typeof I!="string"&&Y("Cannot pass non-string to C++ string type "+p);var J=F(I),D=wr(4+J+c);return Z[D>>2]=J>>R,A(I,D+4,J+c),P!==null&&P.push(Fe,D),D},argPackAdvance:8,readValueFromPointer:sr,destructorFunction:function(P){Fe(P)}})}function gt(u,c){c=j(c),ee(u,{isVoid:!0,name:c,argPackAdvance:0,fromWireType:function(){},toWireType:function(p,y){}})}var pt={};function _t(u){var c=pt[u];return c===void 0?j(u):c}function fr(){if(typeof globalThis=="object")return globalThis;function u(c){c.$$$embind_global$$$=c;var p=typeof $$$embind_global$$$=="object"&&c.$$$embind_global$$$==c;return p||delete c.$$$embind_global$$$,p}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&u(global)?$$$embind_global$$$=global:typeof self=="object"&&u(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")}function mt(u){return u===0?Ye.toHandle(fr()):(u=_t(u),Ye.toHandle(fr()[u]))}function yt(u){u>4&&(z[u].refcount+=1)}function Ur(u,c){var p=ye[u];return p===void 0&&Y(c+" has unknown type "+Pr(u)),p}function bt(u){var c=new Array(u+1);return function(p,y,A){c[0]=p;for(var T=0;T<u;++T){var F=Ur(Z[y+T*4>>2],"parameter "+T);c[T+1]=F.readValueFromPointer(A),A+=F.argPackAdvance}var R=new(p.bind.apply(p,c));return Ye.toHandle(R)}}var lr={};function wt(u,c,p,y){u=Ye.toValue(u);var A=lr[c];return A||(A=bt(c),lr[c]=A),A(u,p,y)}function At(){He("")}function zr(u,c,p){x.copyWithin(u,c,c+p)}function br(){return 2147483648}function $t(u){var c=re.buffer;try{return re.grow(u-c.byteLength+65535>>>16),rr(),1}catch{}}function Tt(u){var c=x.length;u=u>>>0;var p=br();if(u>p)return!1;let y=(P,I)=>P+(I-P%I)%I;for(var A=1;A<=4;A*=2){var T=c*(1+.2/A);T=Math.min(T,u+100663296);var F=Math.min(p,y(Math.max(u,T),65536)),R=$t(F);if(R)return!0}return!1}Se(),H=r.BindingError=Ge(Error,"BindingError"),de=r.InternalError=Ge(Error,"InternalError"),qe(),Ne=r.UnboundTypeError=Ge(Error,"UnboundTypeError");var Et={n:be,o:Ce,l:et,r:jr,k:Fr,c:Lr,b:ft,a:qr,g:lt,f:ht,m:gt,d:Ke,e:mt,i:yt,h:wt,j:At,q:zr,p:Tt};ir();var wr=function(){return(wr=r.asm.u).apply(null,arguments)},Fe=function(){return(Fe=r.asm.v).apply(null,arguments)},Gr=r.___getTypeName=function(){return(Gr=r.___getTypeName=r.asm.w).apply(null,arguments)};r.__embind_initialize_bindings=function(){return(r.__embind_initialize_bindings=r.asm.x).apply(null,arguments)};var Kr=function(){return(Kr=r.asm.z).apply(null,arguments)},Ar;nr=function u(){Ar||Yr(),Ar||(nr=u)};function Yr(){if(Ue>0||(Jr(),Ue>0))return;function u(){Ar||(Ar=!0,r.calledRun=!0,!je&&(Qr(),m(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),De()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),u()},1)):u()}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return Yr(),r.ready}})();let nn;async function Qn(s,g){let r=s,m=g;arguments.length===1&&!(s instanceof WebAssembly.Module)&&(r=void 0,m=s),nn=tn(Jn,r,m)}async function Zn(s){nn||Qn();const r=(await nn).decode(s);if(!r)throw new Error("Decoding error");return r}const ea={quality:50,qualityAlpha:-1,denoiseLevel:0,tileColsLog2:0,tileRowsLog2:0,speed:6,subsample:1,chromaDeltaQ:!1,sharpness:0,tune:0,enableSharpYUV:!1,bitDepth:8,lossless:!1};function an(s,g,r={}){let m;return g&&(m=(E,U)=>{const S=new WebAssembly.Instance(g,E);return U(S),S.exports}),s({noInitialRun:!0,instantiateWasm:m,...r})}let Pt;const ra=()=>typeof process<"u"&&process.release&&process.release.name==="node",ta=()=>{var s;return((s=globalThis.caches)===null||s===void 0?void 0:s.default)!==void 0};async function na(s,g){let r=s,m=g;if(arguments.length===1&&!(s instanceof WebAssembly.Module)&&(r=void 0,m=s),!ra()&&!ta()&&await Kn()){const U=await import("./avif_enc_mt-DNQKqJ4b.js");return Pt=an(U.default,r,m),Pt}const E=await import("./avif_enc-B9pwz9D_.js");return Pt=an(E.default,r,m),Pt}async function aa(s,g={}){Pt||(Pt=na());const r={...ea,...g};if(r.bitDepth!==8&&r.bitDepth!==10&&r.bitDepth!==12)throw new Error("Invalid bit depth. Supported values are 8, 10, or 12.");if(!(s.data instanceof Uint16Array)&&r.bitDepth!==8)throw new Error("Invalid image data for bit depth. Must use Uint16Array for bit depths greater than 8.");r.lossless&&(g.quality!==void 0&&g.quality!==100&&console.warn("AVIF lossless: Quality setting is ignored when lossless is enabled (quality must be 100)."),g.qualityAlpha!==void 0&&g.qualityAlpha!==100&&g.qualityAlpha!==-1&&console.warn("AVIF lossless: QualityAlpha setting is ignored when lossless is enabled (qualityAlpha must be 100 or -1)."),g.subsample!==void 0&&g.subsample!==3&&console.warn("AVIF lossless: Subsample setting is ignored when lossless is enabled (subsample must be 3 for YUV444)."),r.quality=100,r.qualityAlpha=-1,r.subsample=3);const E=(await Pt).encode(new Uint8Array(s.data.buffer),s.width,s.height,r);if(!E)throw new Error("Encoding error.");return E.buffer}var ia=(()=>{var s=import.meta.url;return function(g={}){var r=g,m,E,U=new Promise((o,l)=>{m=o,E=l});const M=globalThis.ServiceWorkerGlobalScope!==void 0&&typeof self<"u"&&globalThis.caches&&globalThis.caches.default!==void 0,K=typeof process=="object"&&process.release&&process.release.name==="node";(M||K)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(l,v,n){this.data=l,this.width=v,this.height=n}}),import.meta.url===void 0&&(import.meta.url="https://localhost"),typeof self<"u"&&self.location===void 0&&(self.location={href:""}));var te=Object.assign({},r),fe=typeof window=="object",N=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var Q="";function oe(o){return r.locateFile?r.locateFile(o,Q):Q+o}var L;(fe||N)&&(N?Q=self.location.href:typeof document<"u"&&document.currentScript&&(Q=document.currentScript.src),s&&(Q=s),Q.startsWith("blob:")?Q="":Q=Q.substr(0,Q.replace(/[?#].*/,"").lastIndexOf("/")+1),N&&(L=o=>{var l=new XMLHttpRequest;return l.open("GET",o,!1),l.responseType="arraybuffer",l.send(null),new Uint8Array(l.response)}));var Oe=r.print||console.log.bind(console),re=r.printErr||console.error.bind(console);Object.assign(r,te),te=null,r.arguments&&r.arguments,r.thisProgram&&r.thisProgram,r.quit&&r.quit;var je;r.wasmBinary&&(je=r.wasmBinary);var ae,Ae=!1,Ee,le,X,O,x,q,me,W;function Z(){var o=ae.buffer;r.HEAP8=Ee=new Int8Array(o),r.HEAP16=X=new Int16Array(o),r.HEAPU8=le=new Uint8Array(o),r.HEAPU16=O=new Uint16Array(o),r.HEAP32=x=new Int32Array(o),r.HEAPU32=q=new Uint32Array(o),r.HEAPF32=me=new Float32Array(o),r.HEAPF64=W=new Float64Array(o)}var Ze=[],er=[],rr=[];function dr(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)Mr(r.preRun.shift());Rr(Ze)}function vr(){Rr(er)}function Ir(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)Qr(r.postRun.shift());Rr(rr)}function Mr(o){Ze.unshift(o)}function Jr(o){er.unshift(o)}function Qr(o){rr.unshift(o)}var De=0,tr=null;function he(o){var l;De++,(l=r.monitorRunDependencies)==null||l.call(r,De)}function Re(o){var v;if(De--,(v=r.monitorRunDependencies)==null||v.call(r,De),De==0&&tr){var l=tr;tr=null,l()}}function Ue(o){var v;(v=r.onAbort)==null||v.call(r,o),o="Aborted("+o+")",re(o),Ae=!0,o+=". Build with -sASSERTIONS for more info.";var l=new WebAssembly.RuntimeError(o);throw E(l),l}var nr="data:application/octet-stream;base64,",hr=o=>o.startsWith(nr),Ve;r.locateFile?(Ve="avif_dec.wasm",hr(Ve)||(Ve=oe(Ve))):Ve=new URL("/assets/avif_dec-B7YOdlSS.wasm",import.meta.url).href;function He(o){if(o==Ve&&je)return new Uint8Array(je);if(L)return L(o);throw"both async and sync fetching of the wasm failed"}function ge(o){return!je&&(fe||N)&&typeof fetch=="function"?fetch(o,{credentials:"same-origin"}).then(l=>{if(!l.ok)throw`failed to load wasm binary file at '${o}'`;return l.arrayBuffer()}).catch(()=>He(o)):Promise.resolve().then(()=>He(o))}function ar(o,l,v){return ge(o).then(n=>WebAssembly.instantiate(n,l)).then(v,n=>{re(`failed to asynchronously prepare wasm: ${n}`),Ue(n)})}function Be(o,l,v,n){return!o&&typeof WebAssembly.instantiateStreaming=="function"&&!hr(l)&&typeof fetch=="function"?fetch(l,{credentials:"same-origin"}).then(a=>{var f=WebAssembly.instantiateStreaming(a,v);return f.then(n,function(e){return re(`wasm streaming compile failed: ${e}`),re("falling back to ArrayBuffer instantiation"),ar(l,v,n)})}):ar(l,v,n)}function gr(){var o={a:R};function l(n,a){return P=n.exports,ae=P.F,Z(),Dr=P.K,Jr(P.G),Re(),P}he();function v(n){l(n.instance)}if(r.instantiateWasm)try{return r.instantiateWasm(o,l)}catch(n){re(`Module.instantiateWasm callback failed with error: ${n}`),E(n)}return Be(je,Ve,o,v).catch(E),{}}var Rr=o=>{for(;o.length>0;)o.shift()(r)};r.noExitRuntime;var Le=o=>Pe(o),xe=()=>Xe(),ir=(o,l,v,n,a)=>{},Cr=()=>{for(var o=new Array(256),l=0;l<256;++l)o[l]=String.fromCharCode(l);pr=o},pr,be=o=>{for(var l="",v=o;le[v];)l+=pr[le[v++]];return l},Ce={},we={},Se={},ne,j=o=>{throw new ne(o)},se,ye=o=>{throw new se(o)},ze=(o,l,v)=>{o.forEach(function(t){Se[t]=l});function n(t){var i=v(t);i.length!==o.length&&ye("Mismatched type converter count");for(var d=0;d<o.length;++d)$e(o[d],i[d])}var a=new Array(l.length),f=[],e=0;l.forEach((t,i)=>{we.hasOwnProperty(t)?a[i]=we[t]:(f.push(t),Ce.hasOwnProperty(t)||(Ce[t]=[]),Ce[t].push(()=>{a[i]=we[t],++e,e===f.length&&n(a)}))}),f.length===0&&n(a)};function ce(o,l,v={}){var n=l.name;if(o||j(`type "${n}" must have a positive integer typeid pointer`),we.hasOwnProperty(o)){if(v.ignoreDuplicateRegistrations)return;j(`Cannot register type '${n}' twice`)}if(we[o]=l,delete Se[o],Ce.hasOwnProperty(o)){var a=Ce[o];delete Ce[o],a.forEach(f=>f())}}function $e(o,l,v={}){if(!("argPackAdvance"in l))throw new TypeError("registerType registeredInstance requires argPackAdvance");return ce(o,l,v)}var ke=8,Zr=(o,l,v,n)=>{l=be(l),$e(o,{name:l,fromWireType:function(a){return!!a},toWireType:function(a,f){return f?v:n},argPackAdvance:ke,readValueFromPointer:function(a){return this.fromWireType(le[a])},destructorFunction:null})},Ge=[],H=[],Y=o=>{o>9&&--H[o+1]===0&&(H[o]=void 0,Ge.push(o))},de=()=>H.length/2-5-Ge.length,_r=()=>{H.push(0,1,void 0,1,null,1,!0,1,!1,1),r.count_emval_handles=de},B={toValue:o=>(o||j("Cannot use deleted val. handle = "+o),H[o]),toHandle:o=>{switch(o){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const l=Ge.pop()||H.length;return H[l]=o,H[l+1]=1,l}}}};function ee(o){return this.fromWireType(q[o>>2])}var et={name:"emscripten::val",fromWireType:o=>{var l=B.toValue(o);return Y(o),l},toWireType:(o,l)=>B.toHandle(l),argPackAdvance:ke,readValueFromPointer:ee,destructorFunction:null},or=o=>$e(o,et),z=(o,l)=>{switch(l){case 4:return function(v){return this.fromWireType(me[v>>2])};case 8:return function(v){return this.fromWireType(W[v>>3])};default:throw new TypeError(`invalid float width (${l}): ${o}`)}},Ke=(o,l,v)=>{l=be(l),$e(o,{name:l,fromWireType:n=>n,toWireType:(n,a)=>a,argPackAdvance:ke,readValueFromPointer:z(l,v),destructorFunction:null})},Wr=(o,l)=>Object.defineProperty(l,"name",{value:o}),Or=o=>{for(;o.length;){var l=o.pop(),v=o.pop();v(l)}};function qe(o){for(var l=1;l<o.length;++l)if(o[l]!==null&&o[l].destructorFunction===void 0)return!0;return!1}function Ye(o,l,v,n,a,f){var e=l.length;e<2&&j("argTypes array size mismatch! Must at least get return value and 'this' types!"),l[1];var t=qe(l),i=l[0].name!=="void",d=e-2,h=new Array(d),_=[],b=[],w=function(...$){$.length!==d&&j(`function ${o} called with ${$.length} arguments, expected ${d}`),b.length=0;var C;_.length=1,_[0]=a;for(var k=0;k<d;++k)h[k]=l[k+2].toWireType(b,$[k]),_.push(h[k]);var V=n(..._);function pe(ve){if(t)Or(b);else for(var _e=2;_e<l.length;_e++){var Wt=_e===1?C:h[_e-2];l[_e].destructorFunction!==null&&l[_e].destructorFunction(Wt)}if(i)return l[0].fromWireType(ve)}return pe(V)};return Wr(o,w)}var sr=(o,l,v)=>{if(o[l].overloadTable===void 0){var n=o[l];o[l]=function(...a){return o[l].overloadTable.hasOwnProperty(a.length)||j(`Function '${v}' called with an invalid number of arguments (${a.length}) - expects one of (${o[l].overloadTable})!`),o[l].overloadTable[a.length].apply(this,a)},o[l].overloadTable=[],o[l].overloadTable[n.argCount]=n}},jr=(o,l,v)=>{r.hasOwnProperty(o)?((v===void 0||r[o].overloadTable!==void 0&&r[o].overloadTable[v]!==void 0)&&j(`Cannot register public name '${o}' twice`),sr(r,o,o),r.hasOwnProperty(v)&&j(`Cannot register multiple overloads of a function with the same number of arguments (${v})!`),r[o].overloadTable[v]=l):(r[o]=l,v!==void 0&&(r[o].numArguments=v))},rt=(o,l)=>{for(var v=[],n=0;n<o;n++)v.push(q[l+n*4>>2]);return v},Fr=(o,l,v)=>{r.hasOwnProperty(o)||ye("Replacing nonexistent public symbol"),r[o].overloadTable!==void 0&&v!==void 0?r[o].overloadTable[v]=l:(r[o]=l,r[o].argCount=v)},tt=(o,l,v)=>{o=o.replace(/p/g,"i");var n=r["dynCall_"+o];return n(l,...v)},Dr,Ie=o=>Dr.get(o),nt=(o,l,v=[])=>{if(o.includes("j"))return tt(o,l,v);var n=Ie(l)(...v);return n},at=(o,l)=>(...v)=>nt(o,l,v),mr=(o,l)=>{o=be(o);function v(){return o.includes("j")?at(o,l):Ie(l)}var n=v();return typeof n!="function"&&j(`unknown function pointer with signature ${o}: ${l}`),n},Vr=(o,l)=>{var v=Wr(l,function(n){this.name=l,this.message=n;var a=new Error(n).stack;a!==void 0&&(this.stack=this.toString()+`
`+a.replace(/^Error(:[^\n]*)?\n/,""))});return v.prototype=Object.create(o.prototype),v.prototype.constructor=v,v.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},v},We,yr=o=>{var l=I(o),v=be(l);return D(l),v},Hr=(o,l)=>{var v=[],n={};function a(f){if(!n[f]&&!we[f]){if(Se[f]){Se[f].forEach(a);return}v.push(f),n[f]=!0}}throw l.forEach(a),new We(`${o}: `+v.map(yr).join([", "]))},it=o=>{o=o.trim();const l=o.indexOf("(");return l!==-1?o.substr(0,l):o},ot=(o,l,v,n,a,f,e)=>{var t=rt(l,v);o=be(o),o=it(o),a=mr(n,a),jr(o,function(){Hr(`Cannot call ${o} due to unbound types`,t)},l-1),ze([],t,i=>{var d=[i[0],null].concat(i.slice(1));return Fr(o,Ye(o,d,null,a,f),l-1),[]})},Ne=(o,l,v)=>{switch(l){case 1:return v?n=>Ee[n]:n=>le[n];case 2:return v?n=>X[n>>1]:n=>O[n>>1];case 4:return v?n=>x[n>>2]:n=>q[n>>2];default:throw new TypeError(`invalid integer width (${l}): ${o}`)}},Pr=(o,l,v,n,a)=>{l=be(l);var f=h=>h;if(n===0){var e=32-8*v;f=h=>h<<e>>>e}var t=l.includes("unsigned"),i=(h,_)=>{},d;t?d=function(h,_){return i(_,this.name),_>>>0}:d=function(h,_){return i(_,this.name),_},$e(o,{name:l,fromWireType:f,toWireType:d,argPackAdvance:ke,readValueFromPointer:Ne(l,v,n!==0),destructorFunction:null})},Br=(o,l,v)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],a=n[l];function f(e){var t=q[e>>2],i=q[e+4>>2];return new a(Ee.buffer,i,t)}v=be(v),$e(o,{name:v,fromWireType:f,argPackAdvance:ke,readValueFromPointer:f},{ignoreDuplicateRegistrations:!0})},Lr=(o,l,v,n)=>{if(!(n>0))return 0;for(var a=v,f=v+n-1,e=0;e<o.length;++e){var t=o.charCodeAt(e);if(t>=55296&&t<=57343){var i=o.charCodeAt(++e);t=65536+((t&1023)<<10)|i&1023}if(t<=127){if(v>=f)break;l[v++]=t}else if(t<=2047){if(v+1>=f)break;l[v++]=192|t>>6,l[v++]=128|t&63}else if(t<=65535){if(v+2>=f)break;l[v++]=224|t>>12,l[v++]=128|t>>6&63,l[v++]=128|t&63}else{if(v+3>=f)break;l[v++]=240|t>>18,l[v++]=128|t>>12&63,l[v++]=128|t>>6&63,l[v++]=128|t&63}}return l[v]=0,v-a},st=(o,l,v)=>Lr(o,le,l,v),ft=o=>{for(var l=0,v=0;v<o.length;++v){var n=o.charCodeAt(v);n<=127?l++:n<=2047?l+=2:n>=55296&&n<=57343?(l+=4,++v):l+=3}return l},qr=(o,l,v)=>{for(var n=l+v,a="";!(l>=n);){var f=o[l++];if(!f)return a;if(!(f&128)){a+=String.fromCharCode(f);continue}var e=o[l++]&63;if((f&224)==192){a+=String.fromCharCode((f&31)<<6|e);continue}var t=o[l++]&63;if((f&240)==224?f=(f&15)<<12|e<<6|t:f=(f&7)<<18|e<<12|t<<6|o[l++]&63,f<65536)a+=String.fromCharCode(f);else{var i=f-65536;a+=String.fromCharCode(55296|i>>10,56320|i&1023)}}return a},lt=(o,l)=>o?qr(le,o,l):"",ut=(o,l)=>{l=be(l);var v=l==="std::string";$e(o,{name:l,fromWireType(n){var a=q[n>>2],f=n+4,e;if(v)for(var t=f,i=0;i<=a;++i){var d=f+i;if(i==a||le[d]==0){var h=d-t,_=lt(t,h);e===void 0?e=_:(e+="\0",e+=_),t=d+1}}else{for(var b=new Array(a),i=0;i<a;++i)b[i]=String.fromCharCode(le[f+i]);e=b.join("")}return D(n),e},toWireType(n,a){a instanceof ArrayBuffer&&(a=new Uint8Array(a));var f,e=typeof a=="string";e||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Int8Array||j("Cannot pass non-string to std::string"),v&&e?f=ft(a):f=a.length;var t=J(4+f+1),i=t+4;if(q[t>>2]=f,v&&e)st(a,i,f+1);else if(e)for(var d=0;d<f;++d){var h=a.charCodeAt(d);h>255&&(D(i),j("String has UTF-16 code units that do not fit in 8 bits")),le[i+d]=h}else for(var d=0;d<f;++d)le[i+d]=a[d];return n!==null&&n.push(D,t),t},argPackAdvance:ke,readValueFromPointer:ee,destructorFunction(n){D(n)}})},ct=(o,l)=>{for(var v="",n=0;!(n>=l/2);++n){var a=X[o+n*2>>1];if(a==0)break;v+=String.fromCharCode(a)}return v},dt=(o,l,v)=>{if(v??(v=2147483647),v<2)return 0;v-=2;for(var n=l,a=v<o.length*2?v/2:o.length,f=0;f<a;++f){var e=o.charCodeAt(f);X[l>>1]=e,l+=2}return X[l>>1]=0,l-n},Nr=o=>o.length*2,vt=(o,l)=>{for(var v=0,n="";!(v>=l/4);){var a=x[o+v*4>>2];if(a==0)break;if(++v,a>=65536){var f=a-65536;n+=String.fromCharCode(55296|f>>10,56320|f&1023)}else n+=String.fromCharCode(a)}return n},xr=(o,l,v)=>{if(v??(v=2147483647),v<4)return 0;for(var n=l,a=n+v-4,f=0;f<o.length;++f){var e=o.charCodeAt(f);if(e>=55296&&e<=57343){var t=o.charCodeAt(++f);e=65536+((e&1023)<<10)|t&1023}if(x[l>>2]=e,l+=4,l+4>a)break}return x[l>>2]=0,l-n},ht=o=>{for(var l=0,v=0;v<o.length;++v){var n=o.charCodeAt(v);n>=55296&&n<=57343&&++v,l+=4}return l},gt=(o,l,v)=>{v=be(v);var n,a,f,e;l===2?(n=ct,a=dt,e=Nr,f=t=>O[t>>1]):l===4&&(n=vt,a=xr,e=ht,f=t=>q[t>>2]),$e(o,{name:v,fromWireType:t=>{for(var i=q[t>>2],d,h=t+4,_=0;_<=i;++_){var b=t+4+_*l;if(_==i||f(b)==0){var w=b-h,$=n(h,w);d===void 0?d=$:(d+="\0",d+=$),h=b+l}}return D(t),d},toWireType:(t,i)=>{typeof i!="string"&&j(`Cannot pass non-string to C++ string type ${v}`);var d=e(i),h=J(4+d+l);return q[h>>2]=d/l,a(i,h+4,d+l),t!==null&&t.push(D,h),h},argPackAdvance:ke,readValueFromPointer:ee,destructorFunction(t){D(t)}})},pt=(o,l)=>{l=be(l),$e(o,{isVoid:!0,name:l,argPackAdvance:0,fromWireType:()=>{},toWireType:(v,n)=>{}})},_t=()=>{throw 1/0},fr=[],mt=(o,l,v,n)=>(o=fr[o],l=B.toValue(l),o(null,l,v,n)),yt={},Ur=o=>{var l=yt[o];return l===void 0?be(o):l},bt=(o,l,v,n,a)=>(o=fr[o],l=B.toValue(l),v=Ur(v),o(l,l[v],n,a)),lr=()=>{if(typeof globalThis=="object")return globalThis;function o(l){l.$$$embind_global$$$=l;var v=typeof $$$embind_global$$$=="object"&&l.$$$embind_global$$$==l;return v||delete l.$$$embind_global$$$,v}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&o(global)?$$$embind_global$$$=global:typeof self=="object"&&o(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},wt=o=>o===0?B.toHandle(lr()):(o=Ur(o),B.toHandle(lr()[o])),At=o=>{var l=fr.length;return fr.push(o),l},zr=(o,l)=>{var v=we[o];return v===void 0&&j(`${l} has unknown type ${yr(o)}`),v},br=(o,l)=>{for(var v=new Array(o),n=0;n<o;++n)v[n]=zr(q[l+n*4>>2],"parameter "+n);return v},$t=Reflect.construct,Tt=(o,l,v)=>{var n=[],a=o.toWireType(n,v);return n.length&&(q[l>>2]=B.toHandle(n)),a},Et=(o,l,v)=>{var n=br(o,l),a=n.shift();o--;var f=new Array(o),e=(i,d,h,_)=>{for(var b=0,w=0;w<o;++w)f[w]=n[w].readValueFromPointer(_+b),b+=n[w].argPackAdvance;var $=v===1?$t(d,f):d.apply(i,f);return Tt(a,h,$)},t=`methodCaller<(${n.map(i=>i.name).join(", ")}) => ${a.name}>`;return At(Wr(t,e))},wr=o=>B.toHandle(Ur(o)),Fe=o=>{var l=B.toValue(o);Or(l),Y(o)},Gr=(o,l,v)=>{o=B.toValue(o),l=B.toValue(l),v=B.toValue(v),o[l]=v},Kr=(o,l)=>{o=zr(o,"_emval_take_value");var v=o.readValueFromPointer(l);return B.toHandle(v)},Ar=()=>{Ue("")},Yr=()=>2147483648,u=o=>{var l=ae.buffer,v=(o-l.byteLength+65535)/65536;try{return ae.grow(v),Z(),1}catch{}},c=o=>{var l=le.length;o>>>=0;var v=Yr();if(o>v)return!1;for(var n=(i,d)=>i+(d-i%d)%d,a=1;a<=4;a*=2){var f=l*(1+.2/a);f=Math.min(f,o+100663296);var e=Math.min(v,n(Math.max(o,f),65536)),t=u(e);if(t)return!0}return!1},p=o=>52;function y(o,l,v,n,a){return 70}var A=[null,[],[]],T=(o,l)=>{var v=A[o];l===0||l===10?((o===1?Oe:re)(qr(v,0)),v.length=0):v.push(l)},F=(o,l,v,n)=>{for(var a=0,f=0;f<v;f++){var e=q[l>>2],t=q[l+4>>2];l+=8;for(var i=0;i<t;i++)T(o,le[e+i]);a+=t}return q[n>>2]=a,0};Cr(),ne=r.BindingError=class extends Error{constructor(l){super(l),this.name="BindingError"}},se=r.InternalError=class extends Error{constructor(l){super(l),this.name="InternalError"}},_r(),We=r.UnboundTypeError=Vr(Error,"UnboundTypeError");var R={p:ir,m:Zr,l:or,i:Ke,x:ot,c:Pr,b:Br,j:ut,g:gt,o:pt,u:_t,f:mt,B:bt,D:Y,E:wt,e:Et,A:wr,C:Fe,h:Gr,z:Kr,a:Ar,v:c,w:p,n:y,y:F,d:Ct,r:ue,s:Rt,t:Me,k:$r,q:Xr},P=gr(),I=o=>(I=P.H)(o),J=o=>(J=P.I)(o),D=o=>(D=P.J)(o),G=(o,l)=>(G=P.L)(o,l),Pe=o=>(Pe=P.M)(o),Xe=()=>(Xe=P.N)();r.dynCall_iiijii=(o,l,v,n,a,f,e)=>(r.dynCall_iiijii=P.O)(o,l,v,n,a,f,e),r.dynCall_jiji=(o,l,v,n,a)=>(r.dynCall_jiji=P.P)(o,l,v,n,a);function Me(o,l){var v=xe();try{Ie(o)(l)}catch(n){if(Le(v),n!==n+0)throw n;G(1,0)}}function $r(o,l,v,n,a){var f=xe();try{Ie(o)(l,v,n,a)}catch(e){if(Le(f),e!==e+0)throw e;G(1,0)}}function Rt(o){var l=xe();try{Ie(o)()}catch(v){if(Le(l),v!==v+0)throw v;G(1,0)}}function Ct(o,l,v){var n=xe();try{return Ie(o)(l,v)}catch(a){if(Le(n),a!==a+0)throw a;G(1,0)}}function ue(o,l,v,n,a){var f=xe();try{return Ie(o)(l,v,n,a)}catch(e){if(Le(f),e!==e+0)throw e;G(1,0)}}function Xr(o,l,v,n,a,f,e,t){var i=xe();try{Ie(o)(l,v,n,a,f,e,t)}catch(d){if(Le(i),d!==d+0)throw d;G(1,0)}}var Tr;tr=function o(){Tr||ie(),Tr||(tr=o)};function ie(){if(De>0||(dr(),De>0))return;function o(){Tr||(Tr=!0,r.calledRun=!0,!Ae&&(vr(),m(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),Ir()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),o()},1)):o()}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return ie(),U}})();let on;async function oa(s,g){let r=s,m=g;arguments.length===1&&!(s instanceof WebAssembly.Module)&&(r=void 0,m=s),on=an(ia,r,m)}async function sa(s,g){var r;on||oa();const m=await on,E=(r=g==null?void 0:g.bitDepth)!==null&&r!==void 0?r:8,U=m.decode(s,E);if(!U)throw new Error("Decoding error");return U}function fa(s,g,r,m){const E=s/g,U=r/m;if(U>E){const K=s/U,te=(g-K)/2;return{sw:s,sh:K,sx:0,sy:te}}const S=g*U,M=(s-S)/2;return{sh:g,sw:S,sx:M,sy:0}}let Qe,Mt=null;function la(){return(Mt===null||Mt.byteLength===0)&&(Mt=new Uint8Array(Qe.memory.buffer)),Mt}let _n=0;function ua(s,g){const r=g(s.length*1,1)>>>0;return la().set(s,r/1),_n=s.length,r}let Ot=null;function un(){return(Ot===null||Ot.byteLength===0)&&(Ot=new Int32Array(Qe.memory.buffer)),Ot}let jt=null;function ca(){return(jt===null||jt.byteLength===0)&&(jt=new Uint8ClampedArray(Qe.memory.buffer)),jt}function da(s,g){return s=s>>>0,ca().subarray(s/1,s/1+g)}function va(s,g,r,m,E,U,S,M){try{const N=Qe.__wbindgen_add_to_stack_pointer(-16),Q=ua(s,Qe.__wbindgen_malloc),oe=_n;Qe.resize(N,Q,oe,g,r,m,E,U,S,M);var K=un()[N/4+0],te=un()[N/4+1],fe=da(K,te).slice();return Qe.__wbindgen_free(K,te*1,1),fe}finally{Qe.__wbindgen_add_to_stack_pointer(16)}}async function ha(s,g){if(typeof Response=="function"&&s instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(s,g)}catch(m){if(s.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",m);else throw m}const r=await s.arrayBuffer();return await WebAssembly.instantiate(r,g)}else{const r=await WebAssembly.instantiate(s,g);return r instanceof WebAssembly.Instance?{instance:r,module:s}:r}}function ga(){const s={};return s.wbg={},s}function pa(s,g){return Qe=s.exports,mn.__wbindgen_wasm_module=g,Ot=null,Mt=null,jt=null,Qe}async function mn(s){if(Qe!==void 0)return Qe;typeof s>"u"&&(s=new URL("/assets/squoosh_resize_bg-YY9xfwUg.wasm",import.meta.url));const g=ga();(typeof s=="string"||typeof Request=="function"&&s instanceof Request||typeof URL=="function"&&s instanceof URL)&&(s=fetch(s));const{instance:r,module:m}=await ha(await s,g);return pa(r,m)}const _a=globalThis.ServiceWorkerGlobalScope!==void 0,ma=_a&&typeof self<"u"&&globalThis.caches&&globalThis.caches.default!==void 0,ya=typeof process=="object"&&process.release&&process.release.name==="node";(ma||ya)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(g,r,m){this.data=g,this.width=r,this.height=m}}),import.meta.url===void 0&&(import.meta.url="https://localhost"),typeof self<"u"&&self.location===void 0&&(self.location={href:""}));let ur,Dt=null;function yn(){return(Dt===null||Dt.byteLength===0)&&(Dt=new Uint32Array(ur.memory.buffer)),Dt}let bn=0;function ba(s,g){const r=g(s.length*4,4)>>>0;return yn().set(s,r/4),bn=s.length,r}let Vt=null;function cn(){return(Vt===null||Vt.byteLength===0)&&(Vt=new Int32Array(ur.memory.buffer)),Vt}function wa(s,g){return s=s>>>0,yn().subarray(s/4,s/4+g)}function Aa(s,g,r,m){try{const M=ur.__wbindgen_add_to_stack_pointer(-16),K=ba(s,ur.__wbindgen_malloc),te=bn;ur.resize(M,K,te,g,r,m);var E=cn()[M/4+0],U=cn()[M/4+1],S=wa(E,U).slice();return ur.__wbindgen_free(E,U*4,4),S}finally{ur.__wbindgen_add_to_stack_pointer(16)}}async function $a(s,g){if(typeof Response=="function"&&s instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(s,g)}catch(m){if(s.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",m);else throw m}const r=await s.arrayBuffer();return await WebAssembly.instantiate(r,g)}else{const r=await WebAssembly.instantiate(s,g);return r instanceof WebAssembly.Instance?{instance:r,module:s}:r}}function Ta(){const s={};return s.wbg={},s}function Ea(s,g){return ur=s.exports,wn.__wbindgen_wasm_module=g,Vt=null,Dt=null,ur}async function wn(s){if(ur!==void 0)return ur;typeof s>"u"&&(s=new URL("/assets/squooshhqx_bg-jpRtGvMp.wasm",import.meta.url));const g=Ta();(typeof s=="string"||typeof Request=="function"&&s instanceof Request||typeof URL=="function"&&s instanceof URL)&&(s=fetch(s));const{instance:r,module:m}=await $a(await s,g);return Ea(r,m)}const Ra=globalThis.ServiceWorkerGlobalScope!==void 0,Ca=Ra&&typeof self<"u"&&globalThis.caches&&globalThis.caches.default!==void 0,Wa=typeof process=="object"&&process.release&&process.release.name==="node";(Ca||Wa)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(g,r,m){this.data=g,this.width=r,this.height=m}}),import.meta.url===void 0&&(import.meta.url="https://localhost"),typeof self<"u"&&self.location===void 0&&(self.location={href:""}));let cr,Ht=null;function Fa(){return(Ht===null||Ht.byteLength===0)&&(Ht=new Uint8ClampedArray(cr.memory.buffer)),Ht}function Pa(s,g){return s=s>>>0,Fa().subarray(s/1,s/1+g)}const kr=new Array(128).fill(void 0);kr.push(void 0,null,!0,!1);let qt=kr.length;function Ua(s){qt===kr.length&&kr.push(kr.length+1);const g=qt;return qt=kr[g],kr[g]=s,g}let Bt=null;function Gt(){return(Bt===null||Bt.byteLength===0)&&(Bt=new Uint8Array(cr.memory.buffer)),Bt}let Nt=0;function Sa(s,g){const r=g(s.length*1,1)>>>0;return Gt().set(s,r/1),Nt=s.length,r}const Kt=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},ka=typeof Kt.encodeInto=="function"?function(s,g){return Kt.encodeInto(s,g)}:function(s,g){const r=Kt.encode(s);return g.set(r),{read:s.length,written:r.length}};function Ia(s,g,r){if(r===void 0){const M=Kt.encode(s),K=g(M.length,1)>>>0;return Gt().subarray(K,K+M.length).set(M),Nt=M.length,K}let m=s.length,E=g(m,1)>>>0;const U=Gt();let S=0;for(;S<m;S++){const M=s.charCodeAt(S);if(M>127)break;U[E+S]=M}if(S!==m){S!==0&&(s=s.slice(S)),E=r(E,m,m=S+s.length*3,1)>>>0;const M=Gt().subarray(E+S,E+m),K=ka(s,M);S+=K.written,E=r(E,m,S,1)>>>0}return Nt=S,E}function Ma(s){return kr[s]}function Oa(s){s<132||(kr[s]=qt,qt=s)}function ja(s){const g=Ma(s);return Oa(s),g}function Da(s,g,r,m,E,U){const S=Sa(s,cr.__wbindgen_malloc),M=Nt,K=Ia(U,cr.__wbindgen_malloc,cr.__wbindgen_realloc),te=Nt,fe=cr.resize(S,M,g,r,m,E,K,te);return ja(fe)}async function Va(s,g){if(typeof Response=="function"&&s instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(s,g)}catch(m){if(s.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",m);else throw m}const r=await s.arrayBuffer();return await WebAssembly.instantiate(r,g)}else{const r=await WebAssembly.instantiate(s,g);return r instanceof WebAssembly.Instance?{instance:r,module:s}:r}}function Ha(){const s={};return s.wbg={},s.wbg.__wbg_newwithownedu8clampedarrayandsh_2ac355435db12a85=function(g,r,m,E){var U=Pa(g,r).slice();cr.__wbindgen_free(g,r*1,1);const S=new ImageData(U,m>>>0,E>>>0);return Ua(S)},s}function Ba(s,g){return cr=s.exports,An.__wbindgen_wasm_module=g,Bt=null,Ht=null,cr}async function An(s){if(cr!==void 0)return cr;typeof s<"u"&&(Object.getPrototypeOf(s)===Object.prototype?{module_or_path:s}=s:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof s>"u"&&(s=new URL("/assets/jsquash_magic_kernel_bg-CM70fO1F.wasm",import.meta.url));const g=Ha();(typeof s=="string"||typeof Request=="function"&&s instanceof Request||typeof URL=="function"&&s instanceof URL)&&(s=fetch(s));const{instance:r,module:m}=await Va(await s,g);return Ba(r,m)}const La={width:1,height:1,method:"lanczos3",fitMethod:"stretch",premultiply:!0,linearRGB:!0},qa=["magicKernel","magicKernelSharp2013","magicKernelSharp2021"];let Yt,Jt,Qt;function Na(s){return Yt||(Yt=mn(s)),Yt}function xa(s){return Jt||(Jt=wn(s)),Jt}function za(s){return Qt||(Qt=An(s)),Qt}function Ga(s){return s.method==="hqx"}function Ka(s){return qa.includes(s.method)}function Ya(s,g,r,m,E){const U=new Uint32Array(s.data.buffer);for(let S=0;S<E;S+=1){const M=(S+r)*s.width+g;U.copyWithin(S*m,M,M+m)}return new ImageData(new Uint8ClampedArray(U.buffer.slice(0,m*E*4)),m,E)}function Xa(s,{min:g=Number.MIN_VALUE,max:r=Number.MAX_VALUE}){return Math.min(Math.max(s,g),r)}const Ja=["triangle","catrom","mitchell","lanczos3"];async function Qa(s,g){await xa();const r=g.width/s.width,m=g.height/s.height,E=Math.max(r,m),U=Xa(Math.ceil(E),{min:1,max:4});if(U===1)return s;const S=Aa(new Uint32Array(s.data.buffer),s.width,s.height,U);return new ImageData(new Uint8ClampedArray(S.buffer),s.width*U,s.height*U)}async function Za(s,g){return await za(),Da(new Uint8Array(s.data.buffer),s.width,s.height,g.width,g.height,g.method)}async function ei(s,g){let r={...La,...g},m=s;if(Na(),Ga(r)&&(m=await Qa(m,r),r={...r,method:"catrom"}),await Yt,r.fitMethod==="contain"){const{sx:U,sy:S,sw:M,sh:K}=fa(s.width,s.height,r.width,r.height);m=Ya(m,Math.round(U),Math.round(S),Math.round(M),Math.round(K))}if(Ka(r))return Za(m,r);const E=va(new Uint8Array(m.data.buffer),m.width,m.height,r.width,r.height,Ja.indexOf(r.method),r.premultiply,r.linearRGB);return new ImageData(new Uint8ClampedArray(E.buffer),r.width,r.height)}function ri(s){const g=s.toLowerCase();return g.includes("jpeg")||g.includes("jpg")?Un:g.includes("png")?xn:g.includes("webp")?Zn:g.includes("avif")?sa:null}function ti(s,g,r,m){if(!r&&!m)return{width:s,height:g};const E=r||s,U=m||g,S=Math.min(E/s,U/g,1);return{width:Math.round(s*S),height:Math.round(g*S)}}self.onmessage=async s=>{const{id:g,name:r,type:m,arrayBuffer:E,options:U}=s.data;try{const S=new Uint8Array(E);let M;const K=ri(m);if(K)M=await K(S);else{const Oe=new Blob([S],{type:m}),re=await createImageBitmap(Oe),ae=new OffscreenCanvas(re.width,re.height).getContext("2d",{willReadFrequently:!0});ae.drawImage(re,0,0),M=ae.getImageData(0,0,re.width,re.height)}const{width:te,height:fe}=ti(M.width,M.height,U.maxWidth,U.maxHeight);(te!==M.width||fe!==M.height)&&(M=await ei(M,{width:te,height:fe,method:"lanczos3"}));let N,Q="image/webp",oe=r;U.format==="avif"?(N=await aa(M,{cqLevel:Math.max(0,Math.min(63,Math.round((100-U.quality)*.63))),effort:U.effort??4}),Q="image/avif",oe=r.replace(/\.[^.]+$/,"")+".avif"):U.format==="jpeg"?(N=await Wn(M,{quality:Math.max(1,Math.min(100,U.quality)),progressive:!0,chromaSubsampling:2}),Q="image/jpeg",oe=r.replace(/\.[^.]+$/,"")+".jpg"):(N=await Xn(M,{quality:Math.max(1,Math.min(100,U.quality)),alphaQuality:Math.max(1,Math.min(100,U.quality)),effort:U.effort??4,lossless:!1,nearLossless:!1}),Q="image/webp",oe=r.replace(/\.[^.]+$/,"")+".webp");const L=new Blob([N],{type:Q});postMessage({id:g,outType:Q,outName:oe,outSize:L.size,outBlob:L,diag:{width:te,height:fe,targetFormat:U.format}})}catch(S){postMessage({id:g,error:(S==null?void 0:S.message)||"Compression failed"})}};
