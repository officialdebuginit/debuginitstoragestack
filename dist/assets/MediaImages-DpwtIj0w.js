import{c as u,u as g,j as e,W as f,b as h,a as n,B as p}from"./index-DWqu0pAq.js";import{S as o}from"./Segmented-D3WCwAKb.js";import{S as v}from"./sliders-vertical-SguiAmY0.js";import{I as j}from"./ImageVariantsCard-Bh88MBrL.js";import"./wand-sparkles-DZVZnQCw.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=u("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);function d({label:i,tone:t="sky"}){const a={sky:"bg-sky-500/10 text-sky-700 border-sky-500/20",violet:"bg-violet-500/10 text-violet-700 border-violet-500/20",emerald:"bg-emerald-500/10 text-emerald-700 border-emerald-500/20"};return e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium border "+a[t],children:i})}function m({children:i,tone:t}){const a={sky:"bg-sky-500/5 border-sky-500/20",violet:"bg-violet-500/5 border-violet-500/20",emerald:"bg-emerald-500/5 border-emerald-500/20"};return e.jsx("div",{className:"h-full rounded-lg border p-3 "+a[t],children:i})}function N(){const{settings:i,setImages:t}=g(),a=i.images,l=(s,x=0)=>{const c=Number(s);return Number.isFinite(c)?c:x},r=a.format==="avif"||a.format==="webp";return e.jsxs(f,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-start md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:"Image compression"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Compress and resize before upload for faster delivery"})]}),e.jsxs("label",{className:"text-sm flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:a.enabled,onChange:s=>t({enabled:s.target.checked})}),e.jsx("span",{children:"Enabled"})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-12 gap-3",children:[e.jsxs("div",{className:"lg:col-span-4",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Format"}),e.jsx(o,{ariaLabel:"Output format",value:a.format,onChange:s=>t({format:s}),options:[{value:"webp",label:"WebP"},{value:"avif",label:"AVIF"},{value:"jpeg",label:"JPEG"}]})]}),e.jsxs("div",{className:"lg:col-span-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"Quality"}),e.jsx("span",{children:a.quality})]}),e.jsx("input",{type:"range",min:1,max:100,value:a.quality,onChange:s=>t({quality:l(s.target.value,75)}),className:"w-full"})]}),e.jsxs("div",{className:"lg:col-span-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"Max side"}),e.jsxs("span",{children:[a.maxSide??2560," px"]})]}),e.jsx("input",{type:"range",min:512,max:4096,step:64,value:a.maxSide??2560,onChange:s=>t({maxSide:l(s.target.value,2560)}),className:"w-full"})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-12 gap-3",children:[e.jsx("div",{className:"lg:col-span-4",children:e.jsxs(m,{tone:"sky",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{size:14}),e.jsx(d,{label:"Sizing",tone:"sky"})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Resize method"}),e.jsx(o,{ariaLabel:"Resize method",value:a.resizeMethod||"lanczos3",onChange:s=>t({resizeMethod:s}),options:[{value:"lanczos3",label:"Lanczos"},{value:"hamming",label:"Hamming"},{value:"mitchell",label:"Mitchell"}]}),e.jsx("div",{className:"text-[11px] text-muted-foreground",children:"Lanczos offers sharp results and works well for general content"})]})]})}),e.jsx("div",{className:"lg:col-span-4",children:e.jsxs(m,{tone:"violet",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{size:14}),e.jsx(d,{label:"Encoding",tone:"violet"})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Effort is available for AVIF and WebP"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"range",min:0,max:9,value:r?a.effort??4:0,onChange:s=>t({effort:l(s.target.value,4)}),disabled:!r,className:"flex-1"}),e.jsx(n,{type:"number",min:0,max:9,value:r?a.effort??4:0,onChange:s=>t({effort:l(s.target.value,4)}),disabled:!r,className:"w-20"})]}),e.jsx("div",{className:"text-[11px] text-muted-foreground",children:"Higher effort improves compression at the cost of time"})]})]})}),e.jsx("div",{className:"lg:col-span-4",children:e.jsxs(m,{tone:"emerald",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{size:14}),e.jsx(d,{label:"Thresholds",tone:"emerald"})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Minimum savings percent"}),e.jsx(n,{type:"number",min:0,max:90,value:a.minSavingsPct??5,onChange:s=>t({minSavingsPct:Math.max(0,Math.min(90,l(s.target.value,5)))})}),e.jsx("div",{className:"text-[11px] text-muted-foreground",children:"Keep the original if savings are below this percent"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Only if larger than MB"}),e.jsx(n,{type:"number",min:0,value:a.onlyIfLargerThanMB??2,onChange:s=>t({onlyIfLargerThanMB:Math.max(0,l(s.target.value,2))})}),e.jsx("div",{className:"text-[11px] text-muted-foreground",children:"Skip compression for very small files"})]})]})]})})]}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2 justify-end",children:e.jsx(p,{variant:"outline",className:"border-border/30",onClick:()=>t({format:"webp",quality:75,effort:4,maxSide:2560,minSavingsPct:5,onlyIfLargerThanMB:2,resizeMethod:"lanczos3"}),children:"Reset image defaults"})})]})}function z(){return e.jsxs("div",{className:"space-y-6",children:[e.jsx(N,{}),e.jsx(j,{})]})}export{z as default};
