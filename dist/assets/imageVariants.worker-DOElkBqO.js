var Rn=(()=>{var s=import.meta.url;return function(g={}){var r=g,m,E,S=new Promise((e,t)=>{m=e,E=t});const k=globalThis.ServiceWorkerGlobalScope!==void 0&&typeof self<"u"&&globalThis.caches&&globalThis.caches.default!==void 0,B=typeof process=="object"&&process.release&&process.release.name==="node";(k||B)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(t,i,d){this.data=t,this.width=i,this.height=d}}),import.meta.url===void 0&&(import.meta.url="https://localhost"),typeof self<"u"&&self.location===void 0&&(self.location={href:""}));var ne=Object.assign({},r),H="./this.program",Y=(e,t)=>{throw t},ue=typeof window=="object",fe=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var N="";function oe(e){return r.locateFile?r.locateFile(e,N):N+e}var ae;(ue||fe)&&(fe?N=self.location.href:typeof document<"u"&&document.currentScript&&(N=document.currentScript.src),s&&(N=s),N.startsWith("blob:")?N="":N=N.substr(0,N.replace(/[?#].*/,"").lastIndexOf("/")+1),fe&&(ae=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}));var Ae=r.print||console.log.bind(console),te=r.printErr||console.error.bind(console);Object.assign(r,ne),ne=null,r.arguments&&r.arguments,r.thisProgram&&(H=r.thisProgram),r.quit&&(Y=r.quit);var ce;r.wasmBinary&&(ce=r.wasmBinary);var $e,z=!1,x,O,G,K,pe,W,Q,Ze;function er(){var e=$e.buffer;r.HEAP8=x=new Int8Array(e),r.HEAP16=G=new Int16Array(e),r.HEAPU8=O=new Uint8Array(e),r.HEAPU16=K=new Uint16Array(e),r.HEAP32=pe=new Int32Array(e),r.HEAPU32=W=new Uint32Array(e),r.HEAPF32=Q=new Float32Array(e),r.HEAPF64=Ze=new Float64Array(e)}var rr=[],dr=[],vr=[];function Ir(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)Qr(r.preRun.shift());ir(rr)}function Mr(){ir(dr)}function Jr(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)tr(r.postRun.shift());ir(vr)}function Qr(e){rr.unshift(e)}function je(e){dr.unshift(e)}function tr(e){vr.unshift(e)}var _e=0,We=null;function ke(e){var t;_e++,(t=r.monitorRunDependencies)==null||t.call(r,_e)}function nr(e){var i;if(_e--,(i=r.monitorRunDependencies)==null||i.call(r,_e),_e==0&&We){var t=We;We=null,t()}}function hr(e){var i;(i=r.onAbort)==null||i.call(r,e),e="Aborted("+e+")",te(e),z=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw E(t),t}var Ve="data:application/octet-stream;base64,",He=e=>e.startsWith(Ve),me;r.locateFile?(me="mozjpeg_enc.wasm",He(me)||(me=oe(me))):me=new URL("/assets/mozjpeg_enc-DO-zoExo.wasm",import.meta.url).href;function ar(e){if(e==me&&ce)return new Uint8Array(ce);if(ae)return ae(e);throw"both async and sync fetching of the wasm failed"}function xe(e){return!ce&&(ue||fe)&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw`failed to load wasm binary file at '${e}'`;return t.arrayBuffer()}).catch(()=>ar(e)):Promise.resolve().then(()=>ar(e))}function gr(e,t,i){return xe(e).then(d=>WebAssembly.instantiate(d,t)).then(i,d=>{te(`failed to asynchronously prepare wasm: ${d}`),hr(d)})}function Rr(e,t,i,d){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!He(t)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(h=>{var _=WebAssembly.instantiateStreaming(h,i);return _.then(d,function(b){return te(`wasm streaming compile failed: ${b}`),te("falling back to ArrayBuffer instantiation"),gr(t,i,d)})}):gr(t,i,d)}function Be(){var e={a:Tr};function t(d,h){return se=d.exports,$e=se.C,er(),yr=se.H,je(se.D),nr(),se}ke();function i(d){t(d.instance)}if(r.instantiateWasm)try{return r.instantiateWasm(e,t)}catch(d){te(`Module.instantiateWasm callback failed with error: ${d}`),E(d)}return Rr(ce,me,e,i).catch(E),{}}function Ne(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var ir=e=>{for(;e.length>0;)e.shift()(r)};r.noExitRuntime;class Cr{constructor(t){this.excPtr=t,this.ptr=t-24}set_type(t){W[this.ptr+4>>2]=t}get_type(){return W[this.ptr+4>>2]}set_destructor(t){W[this.ptr+8>>2]=t}get_destructor(){return W[this.ptr+8>>2]}set_caught(t){t=t?1:0,x[this.ptr+12]=t}get_caught(){return x[this.ptr+12]!=0}set_rethrown(t){t=t?1:0,x[this.ptr+13]=t}get_rethrown(){return x[this.ptr+13]!=0}init(t,i){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(i)}set_adjusted_ptr(t){W[this.ptr+16>>2]=t}get_adjusted_ptr(){return W[this.ptr+16>>2]}get_exception_ptr(){var t=n(this.get_type());if(t)return W[this.excPtr>>2];var i=this.get_adjusted_ptr();return i!==0?i:this.excPtr}}var pr=0,Te=(e,t,i)=>{var d=new Cr(e);throw d.init(t,i),pr=e,pr},Fe={},Ee=e=>{for(;e.length;){var t=e.pop(),i=e.pop();i(t)}};function Ie(e){return this.fromWireType(W[e>>2])}var ie={},D={},le={},we,ze=e=>{throw new we(e)},ve=(e,t,i)=>{e.forEach(function(w){le[w]=t});function d(w){var $=i(w);$.length!==e.length&&ze("Mismatched type converter count");for(var C=0;C<e.length;++C)q(e[C],$[C])}var h=new Array(t.length),_=[],b=0;t.forEach((w,$)=>{D.hasOwnProperty(w)?h[$]=D[w]:(_.push(w),ie.hasOwnProperty(w)||(ie[w]=[]),ie[w].push(()=>{h[$]=D[w],++b,b===_.length&&d(h)}))}),_.length===0&&d(h)},Re=e=>{var t=Fe[e];delete Fe[e];var i=t.rawConstructor,d=t.rawDestructor,h=t.fields,_=h.map(b=>b.getterReturnType).concat(h.map(b=>b.setterArgumentType));ve([e],_,b=>{var w={};return h.forEach(($,C)=>{var I=$.fieldName,V=b[C],ye=$.getter,ge=$.getterContext,be=b[C+h.length],Wt=$.setter,Er=$.setterContext;w[I]={read:Je=>V.fromWireType(ye(ge,Je)),write:(Je,St)=>{var Nt=[];Wt(Er,Je,be.toWireType(Nt,St)),Ee(Nt)}}}),[{name:t.name,fromWireType:$=>{var C={};for(var I in w)C[I]=w[I].read($);return d($),C},toWireType:($,C)=>{for(var I in w)if(!(I in C))throw new TypeError(`Missing field: "${I}"`);var V=i();for(I in w)w[I].write(V,C[I]);return $!==null&&$.push(d,V),V},argPackAdvance:re,readValueFromPointer:Ie,destructorFunction:d}]})},Me=(e,t,i,d,h)=>{},Zr=()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);Ge=e},Ge,L=e=>{for(var t="",i=e;O[i];)t+=Ge[O[i++]];return t},Z,he=e=>{throw new Z(e)};function _r(e,t,i={}){var d=t.name;if(e||he(`type "${d}" must have a positive integer typeid pointer`),D.hasOwnProperty(e)){if(i.ignoreDuplicateRegistrations)return;he(`Cannot register type '${d}' twice`)}if(D[e]=t,delete le[e],ie.hasOwnProperty(e)){var h=ie[e];delete ie[e],h.forEach(_=>_())}}function q(e,t,i={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return _r(e,t,i)}var re=8,et=(e,t,i,d)=>{t=L(t),q(e,{name:t,fromWireType:function(h){return!!h},toWireType:function(h,_){return _?i:d},argPackAdvance:re,readValueFromPointer:function(h){return this.fromWireType(O[h])},destructorFunction:null})},or=[],X=[],Ke=e=>{e>9&&--X[e+1]===0&&(X[e]=void 0,or.push(e))},Wr=()=>X.length/2-5-or.length,Or=()=>{X.push(0,1,void 0,1,null,1,!0,1,!1,1),r.count_emval_handles=Wr},Le={toValue:e=>(e||he("Cannot use deleted val. handle = "+e),X[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const t=or.pop()||X.length;return X[t]=e,X[t+1]=1,t}}}},Ye={name:"emscripten::val",fromWireType:e=>{var t=Le.toValue(e);return Ke(e),t},toWireType:(e,t)=>Le.toHandle(t),argPackAdvance:re,readValueFromPointer:Ie,destructorFunction:null},sr=e=>q(e,Ye),Dr=(e,t)=>{switch(t){case 4:return function(i){return this.fromWireType(Q[i>>2])};case 8:return function(i){return this.fromWireType(Ze[i>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},rt=(e,t,i)=>{t=L(t),q(e,{name:t,fromWireType:d=>d,toWireType:(d,h)=>h,argPackAdvance:re,readValueFromPointer:Dr(t,i),destructorFunction:null})},Fr=(e,t)=>Object.defineProperty(t,"name",{value:e});function tt(e){for(var t=1;t<e.length;++t)if(e[t]!==null&&e[t].destructorFunction===void 0)return!0;return!1}function jr(e,t,i,d,h,_){var b=t.length;b<2&&he("argTypes array size mismatch! Must at least get return value and 'this' types!"),t[1];var w=tt(t),$=t[0].name!=="void",C=b-2,I=new Array(C),V=[],ye=[],ge=function(...be){be.length!==C&&he(`function ${e} called with ${be.length} arguments, expected ${C}`),ye.length=0;var Wt;V.length=1,V[0]=h;for(var Er=0;Er<C;++Er)I[Er]=t[Er+2].toWireType(ye,be[Er]),V.push(I[Er]);var Je=d(...V);function St(Nt){if(w)Ee(ye);else for(var Ut=2;Ut<t.length;Ut++){var En=Ut===1?Wt:I[Ut-2];t[Ut].destructorFunction!==null&&t[Ut].destructorFunction(En)}if($)return t[0].fromWireType(Nt)}return St(Je)};return Fr(e,ge)}var Oe=(e,t,i)=>{if(e[t].overloadTable===void 0){var d=e[t];e[t]=function(...h){return e[t].overloadTable.hasOwnProperty(h.length)||he(`Function '${i}' called with an invalid number of arguments (${h.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[h.length].apply(this,h)},e[t].overloadTable=[],e[t].overloadTable[d.argCount]=d}},nt=(e,t,i)=>{r.hasOwnProperty(e)?((i===void 0||r[e].overloadTable!==void 0&&r[e].overloadTable[i]!==void 0)&&he(`Cannot register public name '${e}' twice`),Oe(r,e,e),r.hasOwnProperty(i)&&he(`Cannot register multiple overloads of a function with the same number of arguments (${i})!`),r[e].overloadTable[i]=t):(r[e]=t,i!==void 0&&(r[e].numArguments=i))},at=(e,t)=>{for(var i=[],d=0;d<e;d++)i.push(W[t+d*4>>2]);return i},mr=(e,t,i)=>{r.hasOwnProperty(e)||ze("Replacing nonexistent public symbol"),r[e].overloadTable!==void 0&&i!==void 0?r[e].overloadTable[i]=t:(r[e]=t,r[e].argCount=i)},Vr=(e,t,i)=>{e=e.replace(/p/g,"i");var d=r["dynCall_"+e];return d(t,...i)},Pe=[],yr,Hr=e=>{var t=Pe[e];return t||(e>=Pe.length&&(Pe.length=e+1),Pe[e]=t=yr.get(e)),t},it=(e,t,i=[])=>{if(e.includes("j"))return Vr(e,t,i);var d=Hr(t)(...i);return d},ot=(e,t)=>(...i)=>it(e,t,i),qe=(e,t)=>{e=L(e);function i(){return e.includes("j")?ot(e,t):Hr(t)}var d=i();return typeof d!="function"&&he(`unknown function pointer with signature ${e}: ${t}`),d},Pr=(e,t)=>{var i=Fr(t,function(d){this.name=t,this.message=d;var h=new Error(d).stack;h!==void 0&&(this.stack=this.toString()+`
`+h.replace(/^Error(:[^\n]*)?\n/,""))});return i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},i},xr,Br=e=>{var t=o(e),i=L(t);return v(t),i},st=(e,t)=>{var i=[],d={};function h(_){if(!d[_]&&!D[_]){if(le[_]){le[_].forEach(h);return}i.push(_),d[_]=!0}}throw t.forEach(h),new xr(`${e}: `+i.map(Br).join([", "]))},ft=e=>{e=e.trim();const t=e.indexOf("(");return t!==-1?e.substr(0,t):e},Lr=(e,t,i,d,h,_,b)=>{var w=at(t,i);e=L(e),e=ft(e),h=qe(d,h),nt(e,function(){st(`Cannot call ${e} due to unbound types`,w)},t-1),ve([],w,$=>{var C=[$[0],null].concat($.slice(1));return mr(e,jr(e,C,null,h,_),t-1),[]})},lt=(e,t,i)=>{switch(t){case 1:return i?d=>x[d]:d=>O[d];case 2:return i?d=>G[d>>1]:d=>K[d>>1];case 4:return i?d=>pe[d>>2]:d=>W[d>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},ut=(e,t,i,d,h)=>{t=L(t);var _=I=>I;if(d===0){var b=32-8*i;_=I=>I<<b>>>b}var w=t.includes("unsigned"),$=(I,V)=>{},C;w?C=function(I,V){return $(V,this.name),V>>>0}:C=function(I,V){return $(V,this.name),V},q(e,{name:t,fromWireType:_,toWireType:C,argPackAdvance:re,readValueFromPointer:lt(t,i,d!==0),destructorFunction:null})},ct=(e,t,i)=>{var d=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],h=d[t];function _(b){var w=W[b>>2],$=W[b+4>>2];return new h(x.buffer,$,w)}i=L(i),q(e,{name:i,fromWireType:_,argPackAdvance:re,readValueFromPointer:_},{ignoreDuplicateRegistrations:!0})},dt=(e,t,i,d)=>{if(!(d>0))return 0;for(var h=i,_=i+d-1,b=0;b<e.length;++b){var w=e.charCodeAt(b);if(w>=55296&&w<=57343){var $=e.charCodeAt(++b);w=65536+((w&1023)<<10)|$&1023}if(w<=127){if(i>=_)break;t[i++]=w}else if(w<=2047){if(i+1>=_)break;t[i++]=192|w>>6,t[i++]=128|w&63}else if(w<=65535){if(i+2>=_)break;t[i++]=224|w>>12,t[i++]=128|w>>6&63,t[i++]=128|w&63}else{if(i+3>=_)break;t[i++]=240|w>>18,t[i++]=128|w>>12&63,t[i++]=128|w>>6&63,t[i++]=128|w&63}}return t[i]=0,i-h},qr=(e,t,i)=>dt(e,O,t,i),vt=e=>{for(var t=0,i=0;i<e.length;++i){var d=e.charCodeAt(i);d<=127?t++:d<=2047?t+=2:d>=55296&&d<=57343?(t+=4,++i):t+=3}return t},Nr=(e,t,i)=>{for(var d=t+i,h="";!(t>=d);){var _=e[t++];if(!_)return h;if(!(_&128)){h+=String.fromCharCode(_);continue}var b=e[t++]&63;if((_&224)==192){h+=String.fromCharCode((_&31)<<6|b);continue}var w=e[t++]&63;if((_&240)==224?_=(_&15)<<12|b<<6|w:_=(_&7)<<18|b<<12|w<<6|e[t++]&63,_<65536)h+=String.fromCharCode(_);else{var $=_-65536;h+=String.fromCharCode(55296|$>>10,56320|$&1023)}}return h},ht=(e,t)=>e?Nr(O,e,t):"",gt=(e,t)=>{t=L(t);var i=t==="std::string";q(e,{name:t,fromWireType(d){var h=W[d>>2],_=d+4,b;if(i)for(var w=_,$=0;$<=h;++$){var C=_+$;if($==h||O[C]==0){var I=C-w,V=ht(w,I);b===void 0?b=V:(b+="\0",b+=V),w=C+1}}else{for(var ye=new Array(h),$=0;$<h;++$)ye[$]=String.fromCharCode(O[_+$]);b=ye.join("")}return v(d),b},toWireType(d,h){h instanceof ArrayBuffer&&(h=new Uint8Array(h));var _,b=typeof h=="string";b||h instanceof Uint8Array||h instanceof Uint8ClampedArray||h instanceof Int8Array||he("Cannot pass non-string to std::string"),i&&b?_=vt(h):_=h.length;var w=l(4+_+1),$=w+4;if(W[w>>2]=_,i&&b)qr(h,$,_+1);else if(b)for(var C=0;C<_;++C){var I=h.charCodeAt(C);I>255&&(v($),he("String has UTF-16 code units that do not fit in 8 bits")),O[$+C]=I}else for(var C=0;C<_;++C)O[$+C]=h[C];return d!==null&&d.push(v,w),w},argPackAdvance:re,readValueFromPointer:Ie,destructorFunction(d){v(d)}})},pt=(e,t)=>{for(var i="",d=0;!(d>=t/2);++d){var h=G[e+d*2>>1];if(h==0)break;i+=String.fromCharCode(h)}return i},_t=(e,t,i)=>{if(i??(i=2147483647),i<2)return 0;i-=2;for(var d=t,h=i<e.length*2?i/2:e.length,_=0;_<h;++_){var b=e.charCodeAt(_);G[t>>1]=b,t+=2}return G[t>>1]=0,t-d},fr=e=>e.length*2,mt=(e,t)=>{for(var i=0,d="";!(i>=t/4);){var h=pe[e+i*4>>2];if(h==0)break;if(++i,h>=65536){var _=h-65536;d+=String.fromCharCode(55296|_>>10,56320|_&1023)}else d+=String.fromCharCode(h)}return d},yt=(e,t,i)=>{if(i??(i=2147483647),i<4)return 0;for(var d=t,h=d+i-4,_=0;_<e.length;++_){var b=e.charCodeAt(_);if(b>=55296&&b<=57343){var w=e.charCodeAt(++_);b=65536+((b&1023)<<10)|w&1023}if(pe[t>>2]=b,t+=4,t+4>h)break}return pe[t>>2]=0,t-d},Ur=e=>{for(var t=0,i=0;i<e.length;++i){var d=e.charCodeAt(i);d>=55296&&d<=57343&&++i,t+=4}return t},bt=(e,t,i)=>{i=L(i);var d,h,_,b;t===2?(d=pt,h=_t,b=fr,_=w=>K[w>>1]):t===4&&(d=mt,h=yt,b=Ur,_=w=>W[w>>2]),q(e,{name:i,fromWireType:w=>{for(var $=W[w>>2],C,I=w+4,V=0;V<=$;++V){var ye=w+4+V*t;if(V==$||_(ye)==0){var ge=ye-I,be=d(I,ge);C===void 0?C=be:(C+="\0",C+=be),I=ye+t}}return v(w),C},toWireType:(w,$)=>{typeof $!="string"&&he(`Cannot pass non-string to C++ string type ${i}`);var C=b($),I=l(4+C+t);return W[I>>2]=C/t,h($,I+4,C+t),w!==null&&w.push(v,I),I},argPackAdvance:re,readValueFromPointer:Ie,destructorFunction(w){v(w)}})},lr=(e,t,i,d,h,_)=>{Fe[e]={name:L(t),rawConstructor:qe(i,d),rawDestructor:qe(h,_),fields:[]}},wt=(e,t,i,d,h,_,b,w,$,C)=>{Fe[e].fields.push({fieldName:L(t),getterReturnType:i,getter:qe(d,h),getterContext:_,setterArgumentType:b,setter:qe(w,$),setterContext:C})},At=(e,t)=>{t=L(t),q(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:(i,d)=>{}})},zr=(e,t,i)=>O.copyWithin(e,t,t+i),br=[],$t=(e,t,i,d)=>(e=br[e],t=Le.toValue(t),e(null,t,i,d)),Tt={},Et=e=>{var t=Tt[e];return t===void 0?L(e):t},wr=()=>{if(typeof globalThis=="object")return globalThis;function e(t){t.$$$embind_global$$$=t;var i=typeof $$$embind_global$$$=="object"&&t.$$$embind_global$$$==t;return i||delete t.$$$embind_global$$$,i}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&e(global)?$$$embind_global$$$=global:typeof self=="object"&&e(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},Ue=e=>e===0?Le.toHandle(wr()):(e=Et(e),Le.toHandle(wr()[e])),Gr=e=>{var t=br.length;return br.push(e),t},Kr=(e,t)=>{var i=D[e];return i===void 0&&he(`${t} has unknown type ${Br(e)}`),i},Ar=(e,t)=>{for(var i=new Array(e),d=0;d<e;++d)i[d]=Kr(W[t+d*4>>2],"parameter "+d);return i},Yr=Reflect.construct,u=(e,t,i)=>{var d=[],h=e.toWireType(d,i);return d.length&&(W[t>>2]=Le.toHandle(d)),h},c=(e,t,i)=>{var d=Ar(e,t),h=d.shift();e--;var _=new Array(e),b=($,C,I,V)=>{for(var ye=0,ge=0;ge<e;++ge)_[ge]=d[ge].readValueFromPointer(V+ye),ye+=d[ge].argPackAdvance;var be=i===1?Yr(C,_):C.apply($,_);return u(h,I,be)},w=`methodCaller<(${d.map($=>$.name).join(", ")}) => ${h.name}>`;return Gr(Fr(w,b))},p=e=>{var t=Le.toValue(e);Ee(t),Ke(e)},y=()=>{hr("")},A=()=>2147483648,T=e=>{var t=$e.buffer,i=(e-t.byteLength+65535)/65536;try{return $e.grow(i),er(),1}catch{}},F=e=>{var t=O.length;e>>>=0;var i=A();if(e>i)return!1;for(var d=($,C)=>$+(C-$%C)%C,h=1;h<=4;h*=2){var _=t*(1+.2/h);_=Math.min(_,e+100663296);var b=Math.min(i,d(Math.max(e,_),65536)),w=T(b);if(w)return!0}return!1},R={},P=()=>H||"./this.program",M=()=>{if(!M.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:P()};for(var i in R)R[i]===void 0?delete t[i]:t[i]=R[i];var d=[];for(var i in t)d.push(`${i}=${t[i]}`);M.strings=d}return M.strings},ee=(e,t)=>{for(var i=0;i<e.length;++i)x[t++]=e.charCodeAt(i);x[t]=0},j=(e,t)=>{var i=0;return M().forEach((d,h)=>{var _=t+i;W[e+h*4>>2]=_,ee(d,_),i+=d.length+1}),0},J=(e,t)=>{var i=M();W[e>>2]=i.length;var d=0;return i.forEach(h=>d+=h.length+1),W[t>>2]=d,0},Se=e=>{Y(e,new Ne(e))},Xe=(e,t)=>{Se(e)},De=Xe,$r=e=>52;function Rt(e,t,i,d,h){return 70}var Ct=[null,[],[]],de=(e,t)=>{var i=Ct[e];t===0||t===10?((e===1?Ae:te)(Nr(i,0)),i.length=0):i.push(t)},Xr=(e,t,i,d)=>{for(var h=0,_=0;_<i;_++){var b=W[t>>2],w=W[t+4>>2];t+=8;for(var $=0;$<w;$++)de(e,O[b+$]);h+=w}return W[d>>2]=h,0};we=r.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},Zr(),Z=r.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Or(),xr=r.UnboundTypeError=Pr(Error,"UnboundTypeError");var Tr={j:Te,k:Re,n:Me,h:et,z:sr,f:rt,e:Lr,c:ut,a:ct,g:gt,d:bt,l:lr,b:wt,i:At,s:zr,y:$t,u:Ke,A:Ue,x:c,w:p,o:y,p:F,q:j,r:J,B:De,t:$r,m:Rt,v:Xr},se=Be(),o=e=>(o=se.E)(e),l=e=>(l=se.F)(e),v=e=>(v=se.G)(e),n=e=>(n=se.I)(e);r.dynCall_jiji=(e,t,i,d,h)=>(r.dynCall_jiji=se.J)(e,t,i,d,h);var a;We=function e(){a||f(),a||(We=e)};function f(){if(_e>0||(Ir(),_e>0))return;function e(){a||(a=!0,r.calledRun=!0,!z&&(Mr(),m(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),Jr()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),e()},1)):e()}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return f(),S}})();const Cn={quality:75,baseline:!1,arithmetic:!1,progressive:!0,optimize_coding:!0,smoothing:0,color_space:3,quant_table:3,trellis_multipass:!1,trellis_opt_zero:!1,trellis_opt_table:!1,trellis_loops:1,auto_subsample:!0,chroma_subsample:2,separate_chroma_quality:!1,chroma_quality:75},Wn={preserveOrientation:!1};function vn(s,g,r={}){let m;return g&&(m=(E,S)=>{const U=new WebAssembly.Instance(g,E);return S(U),U.exports}),s({noInitialRun:!0,instantiateWasm:m,...r})}let en;async function Fn(s,g){let r=s,m=g;arguments.length===1&&!(s instanceof WebAssembly.Module)&&(r=void 0,m=s),en=vn(Rn,r,m)}async function Pn(s,g={}){en||Fn();const r=await en,m={...Cn,...g};return r.encode(s.data,s.width,s.height,m).buffer}var Un=(()=>{var s=import.meta.url;return function(g={}){var r=g,m,E,S=new Promise((n,a)=>{m=n,E=a});const k=globalThis.ServiceWorkerGlobalScope!==void 0&&typeof self<"u"&&globalThis.caches&&globalThis.caches.default!==void 0,B=typeof process=="object"&&process.release&&process.release.name==="node";(k||B)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(a,f,e){this.data=a,this.width=f,this.height=e}}),import.meta.url===void 0&&(import.meta.url="https://localhost"),typeof self<"u"&&self.location===void 0&&(self.location={href:""}));var ne=Object.assign({},r),H="./this.program",Y=(n,a)=>{throw a},ue=typeof window=="object",fe=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var N="";function oe(n){return r.locateFile?r.locateFile(n,N):N+n}var ae;(ue||fe)&&(fe?N=self.location.href:typeof document<"u"&&document.currentScript&&(N=document.currentScript.src),s&&(N=s),N.startsWith("blob:")?N="":N=N.substr(0,N.replace(/[?#].*/,"").lastIndexOf("/")+1),fe&&(ae=n=>{var a=new XMLHttpRequest;return a.open("GET",n,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)}));var Ae=r.print||console.log.bind(console),te=r.printErr||console.error.bind(console);Object.assign(r,ne),ne=null,r.arguments&&r.arguments,r.thisProgram&&(H=r.thisProgram),r.quit&&(Y=r.quit);var ce;r.wasmBinary&&(ce=r.wasmBinary);var $e,z=!1,x,O,G,K,pe,W,Q,Ze;function er(){var n=$e.buffer;r.HEAP8=x=new Int8Array(n),r.HEAP16=G=new Int16Array(n),r.HEAPU8=O=new Uint8Array(n),r.HEAPU16=K=new Uint16Array(n),r.HEAP32=pe=new Int32Array(n),r.HEAPU32=W=new Uint32Array(n),r.HEAPF32=Q=new Float32Array(n),r.HEAPF64=Ze=new Float64Array(n)}var rr=[],dr=[],vr=[];function Ir(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)Qr(r.preRun.shift());ir(rr)}function Mr(){ir(dr)}function Jr(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)tr(r.postRun.shift());ir(vr)}function Qr(n){rr.unshift(n)}function je(n){dr.unshift(n)}function tr(n){vr.unshift(n)}var _e=0,We=null;function ke(n){var a;_e++,(a=r.monitorRunDependencies)==null||a.call(r,_e)}function nr(n){var f;if(_e--,(f=r.monitorRunDependencies)==null||f.call(r,_e),_e==0&&We){var a=We;We=null,a()}}function hr(n){var f;(f=r.onAbort)==null||f.call(r,n),n="Aborted("+n+")",te(n),z=!0,n+=". Build with -sASSERTIONS for more info.";var a=new WebAssembly.RuntimeError(n);throw E(a),a}var Ve="data:application/octet-stream;base64,",He=n=>n.startsWith(Ve),me;r.locateFile?(me="mozjpeg_dec.wasm",He(me)||(me=oe(me))):me=new URL("/assets/mozjpeg_dec-muSO2n8T.wasm",import.meta.url).href;function ar(n){if(n==me&&ce)return new Uint8Array(ce);if(ae)return ae(n);throw"both async and sync fetching of the wasm failed"}function xe(n){return!ce&&(ue||fe)&&typeof fetch=="function"?fetch(n,{credentials:"same-origin"}).then(a=>{if(!a.ok)throw`failed to load wasm binary file at '${n}'`;return a.arrayBuffer()}).catch(()=>ar(n)):Promise.resolve().then(()=>ar(n))}function gr(n,a,f){return xe(n).then(e=>WebAssembly.instantiate(e,a)).then(f,e=>{te(`failed to asynchronously prepare wasm: ${e}`),hr(e)})}function Rr(n,a,f,e){return!n&&typeof WebAssembly.instantiateStreaming=="function"&&!He(a)&&typeof fetch=="function"?fetch(a,{credentials:"same-origin"}).then(t=>{var i=WebAssembly.instantiateStreaming(t,f);return i.then(e,function(d){return te(`wasm streaming compile failed: ${d}`),te("falling back to ArrayBuffer instantiation"),gr(a,f,e)})}):gr(a,f,e)}function Be(){var n={a:Ct};function a(e,t){return de=e.exports,$e=de.A,er(),Vr=de.F,je(de.B),nr(),de}ke();function f(e){a(e.instance)}if(r.instantiateWasm)try{return r.instantiateWasm(n,a)}catch(e){te(`Module.instantiateWasm callback failed with error: ${e}`),E(e)}return Rr(ce,me,n,f).catch(E),{}}function Ne(n){this.name="ExitStatus",this.message=`Program terminated with exit(${n})`,this.status=n}var ir=n=>{for(;n.length>0;)n.shift()(r)};r.noExitRuntime;class Cr{constructor(a){this.excPtr=a,this.ptr=a-24}set_type(a){W[this.ptr+4>>2]=a}get_type(){return W[this.ptr+4>>2]}set_destructor(a){W[this.ptr+8>>2]=a}get_destructor(){return W[this.ptr+8>>2]}set_caught(a){a=a?1:0,x[this.ptr+12]=a}get_caught(){return x[this.ptr+12]!=0}set_rethrown(a){a=a?1:0,x[this.ptr+13]=a}get_rethrown(){return x[this.ptr+13]!=0}init(a,f){this.set_adjusted_ptr(0),this.set_type(a),this.set_destructor(f)}set_adjusted_ptr(a){W[this.ptr+16>>2]=a}get_adjusted_ptr(){return W[this.ptr+16>>2]}get_exception_ptr(){var a=o(this.get_type());if(a)return W[this.excPtr>>2];var f=this.get_adjusted_ptr();return f!==0?f:this.excPtr}}var pr=0,Te=(n,a,f)=>{var e=new Cr(n);throw e.init(a,f),pr=n,pr},Fe=(n,a,f,e,t)=>{},Ee=()=>{for(var n=new Array(256),a=0;a<256;++a)n[a]=String.fromCharCode(a);Ie=n},Ie,ie=n=>{for(var a="",f=n;O[f];)a+=Ie[O[f++]];return a},D={},le={},we={},ze,ve=n=>{throw new ze(n)},Re,Me=n=>{throw new Re(n)},Zr=(n,a,f)=>{n.forEach(function(h){we[h]=a});function e(h){var _=f(h);_.length!==n.length&&Me("Mismatched type converter count");for(var b=0;b<n.length;++b)L(n[b],_[b])}var t=new Array(a.length),i=[],d=0;a.forEach((h,_)=>{le.hasOwnProperty(h)?t[_]=le[h]:(i.push(h),D.hasOwnProperty(h)||(D[h]=[]),D[h].push(()=>{t[_]=le[h],++d,d===i.length&&e(t)}))}),i.length===0&&e(t)};function Ge(n,a,f={}){var e=a.name;if(n||ve(`type "${e}" must have a positive integer typeid pointer`),le.hasOwnProperty(n)){if(f.ignoreDuplicateRegistrations)return;ve(`Cannot register type '${e}' twice`)}if(le[n]=a,delete we[n],D.hasOwnProperty(n)){var t=D[n];delete D[n],t.forEach(i=>i())}}function L(n,a,f={}){if(!("argPackAdvance"in a))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Ge(n,a,f)}var Z=8,he=(n,a,f,e)=>{a=ie(a),L(n,{name:a,fromWireType:function(t){return!!t},toWireType:function(t,i){return i?f:e},argPackAdvance:Z,readValueFromPointer:function(t){return this.fromWireType(O[t])},destructorFunction:null})},_r=[],q=[],re=n=>{n>9&&--q[n+1]===0&&(q[n]=void 0,_r.push(n))},et=()=>q.length/2-5-_r.length,or=()=>{q.push(0,1,void 0,1,null,1,!0,1,!1,1),r.count_emval_handles=et},X={toValue:n=>(n||ve("Cannot use deleted val. handle = "+n),q[n]),toHandle:n=>{switch(n){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const a=_r.pop()||q.length;return q[a]=n,q[a+1]=1,a}}}};function Ke(n){return this.fromWireType(W[n>>2])}var Wr={name:"emscripten::val",fromWireType:n=>{var a=X.toValue(n);return re(n),a},toWireType:(n,a)=>X.toHandle(a),argPackAdvance:Z,readValueFromPointer:Ke,destructorFunction:null},Or=n=>L(n,Wr),Le=(n,a)=>{switch(a){case 4:return function(f){return this.fromWireType(Q[f>>2])};case 8:return function(f){return this.fromWireType(Ze[f>>3])};default:throw new TypeError(`invalid float width (${a}): ${n}`)}},Ye=(n,a,f)=>{a=ie(a),L(n,{name:a,fromWireType:e=>e,toWireType:(e,t)=>t,argPackAdvance:Z,readValueFromPointer:Le(a,f),destructorFunction:null})},sr=(n,a)=>Object.defineProperty(a,"name",{value:n}),Dr=n=>{for(;n.length;){var a=n.pop(),f=n.pop();f(a)}};function rt(n){for(var a=1;a<n.length;++a)if(n[a]!==null&&n[a].destructorFunction===void 0)return!0;return!1}function Fr(n,a,f,e,t,i){var d=a.length;d<2&&ve("argTypes array size mismatch! Must at least get return value and 'this' types!"),a[1];var h=rt(a),_=a[0].name!=="void",b=d-2,w=new Array(b),$=[],C=[],I=function(...V){V.length!==b&&ve(`function ${n} called with ${V.length} arguments, expected ${b}`),C.length=0;var ye;$.length=1,$[0]=t;for(var ge=0;ge<b;++ge)w[ge]=a[ge+2].toWireType(C,V[ge]),$.push(w[ge]);var be=e(...$);function Wt(Er){if(h)Dr(C);else for(var Je=2;Je<a.length;Je++){var St=Je===1?ye:w[Je-2];a[Je].destructorFunction!==null&&a[Je].destructorFunction(St)}if(_)return a[0].fromWireType(Er)}return Wt(be)};return sr(n,I)}var tt=(n,a,f)=>{if(n[a].overloadTable===void 0){var e=n[a];n[a]=function(...t){return n[a].overloadTable.hasOwnProperty(t.length)||ve(`Function '${f}' called with an invalid number of arguments (${t.length}) - expects one of (${n[a].overloadTable})!`),n[a].overloadTable[t.length].apply(this,t)},n[a].overloadTable=[],n[a].overloadTable[e.argCount]=e}},jr=(n,a,f)=>{r.hasOwnProperty(n)?((f===void 0||r[n].overloadTable!==void 0&&r[n].overloadTable[f]!==void 0)&&ve(`Cannot register public name '${n}' twice`),tt(r,n,n),r.hasOwnProperty(f)&&ve(`Cannot register multiple overloads of a function with the same number of arguments (${f})!`),r[n].overloadTable[f]=a):(r[n]=a,f!==void 0&&(r[n].numArguments=f))},Oe=(n,a)=>{for(var f=[],e=0;e<n;e++)f.push(W[a+e*4>>2]);return f},nt=(n,a,f)=>{r.hasOwnProperty(n)||Me("Replacing nonexistent public symbol"),r[n].overloadTable!==void 0&&f!==void 0?r[n].overloadTable[f]=a:(r[n]=a,r[n].argCount=f)},at=(n,a,f)=>{n=n.replace(/p/g,"i");var e=r["dynCall_"+n];return e(a,...f)},mr=[],Vr,Pe=n=>{var a=mr[n];return a||(n>=mr.length&&(mr.length=n+1),mr[n]=a=Vr.get(n)),a},yr=(n,a,f=[])=>{if(n.includes("j"))return at(n,a,f);var e=Pe(a)(...f);return e},Hr=(n,a)=>(...f)=>yr(n,a,f),it=(n,a)=>{n=ie(n);function f(){return n.includes("j")?Hr(n,a):Pe(a)}var e=f();return typeof e!="function"&&ve(`unknown function pointer with signature ${n}: ${a}`),e},ot=(n,a)=>{var f=sr(a,function(e){this.name=a,this.message=e;var t=new Error(e).stack;t!==void 0&&(this.stack=this.toString()+`
`+t.replace(/^Error(:[^\n]*)?\n/,""))});return f.prototype=Object.create(n.prototype),f.prototype.constructor=f,f.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},f},qe,Pr=n=>{var a=Xr(n),f=ie(a);return se(a),f},xr=(n,a)=>{var f=[],e={};function t(i){if(!e[i]&&!le[i]){if(we[i]){we[i].forEach(t);return}f.push(i),e[i]=!0}}throw a.forEach(t),new qe(`${n}: `+f.map(Pr).join([", "]))},Br=n=>{n=n.trim();const a=n.indexOf("(");return a!==-1?n.substr(0,a):n},st=(n,a,f,e,t,i,d)=>{var h=Oe(a,f);n=ie(n),n=Br(n),t=it(e,t),jr(n,function(){xr(`Cannot call ${n} due to unbound types`,h)},a-1),Zr([],h,_=>{var b=[_[0],null].concat(_.slice(1));return nt(n,Fr(n,b,null,t,i),a-1),[]})},ft=(n,a,f)=>{switch(a){case 1:return f?e=>x[e]:e=>O[e];case 2:return f?e=>G[e>>1]:e=>K[e>>1];case 4:return f?e=>pe[e>>2]:e=>W[e>>2];default:throw new TypeError(`invalid integer width (${a}): ${n}`)}},Lr=(n,a,f,e,t)=>{a=ie(a);var i=w=>w;if(e===0){var d=32-8*f;i=w=>w<<d>>>d}var h=a.includes("unsigned"),_=(w,$)=>{},b;h?b=function(w,$){return _($,this.name),$>>>0}:b=function(w,$){return _($,this.name),$},L(n,{name:a,fromWireType:i,toWireType:b,argPackAdvance:Z,readValueFromPointer:ft(a,f,e!==0),destructorFunction:null})},lt=(n,a,f)=>{var e=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],t=e[a];function i(d){var h=W[d>>2],_=W[d+4>>2];return new t(x.buffer,_,h)}f=ie(f),L(n,{name:f,fromWireType:i,argPackAdvance:Z,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},ut=(n,a,f,e)=>{if(!(e>0))return 0;for(var t=f,i=f+e-1,d=0;d<n.length;++d){var h=n.charCodeAt(d);if(h>=55296&&h<=57343){var _=n.charCodeAt(++d);h=65536+((h&1023)<<10)|_&1023}if(h<=127){if(f>=i)break;a[f++]=h}else if(h<=2047){if(f+1>=i)break;a[f++]=192|h>>6,a[f++]=128|h&63}else if(h<=65535){if(f+2>=i)break;a[f++]=224|h>>12,a[f++]=128|h>>6&63,a[f++]=128|h&63}else{if(f+3>=i)break;a[f++]=240|h>>18,a[f++]=128|h>>12&63,a[f++]=128|h>>6&63,a[f++]=128|h&63}}return a[f]=0,f-t},ct=(n,a,f)=>ut(n,O,a,f),dt=n=>{for(var a=0,f=0;f<n.length;++f){var e=n.charCodeAt(f);e<=127?a++:e<=2047?a+=2:e>=55296&&e<=57343?(a+=4,++f):a+=3}return a},qr=(n,a,f)=>{for(var e=a+f,t="";!(a>=e);){var i=n[a++];if(!i)return t;if(!(i&128)){t+=String.fromCharCode(i);continue}var d=n[a++]&63;if((i&224)==192){t+=String.fromCharCode((i&31)<<6|d);continue}var h=n[a++]&63;if((i&240)==224?i=(i&15)<<12|d<<6|h:i=(i&7)<<18|d<<12|h<<6|n[a++]&63,i<65536)t+=String.fromCharCode(i);else{var _=i-65536;t+=String.fromCharCode(55296|_>>10,56320|_&1023)}}return t},vt=(n,a)=>n?qr(O,n,a):"",Nr=(n,a)=>{a=ie(a);var f=a==="std::string";L(n,{name:a,fromWireType(e){var t=W[e>>2],i=e+4,d;if(f)for(var h=i,_=0;_<=t;++_){var b=i+_;if(_==t||O[b]==0){var w=b-h,$=vt(h,w);d===void 0?d=$:(d+="\0",d+=$),h=b+1}}else{for(var C=new Array(t),_=0;_<t;++_)C[_]=String.fromCharCode(O[i+_]);d=C.join("")}return se(e),d},toWireType(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var i,d=typeof t=="string";d||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||ve("Cannot pass non-string to std::string"),f&&d?i=dt(t):i=t.length;var h=Tr(4+i+1),_=h+4;if(W[h>>2]=i,f&&d)ct(t,_,i+1);else if(d)for(var b=0;b<i;++b){var w=t.charCodeAt(b);w>255&&(se(_),ve("String has UTF-16 code units that do not fit in 8 bits")),O[_+b]=w}else for(var b=0;b<i;++b)O[_+b]=t[b];return e!==null&&e.push(se,h),h},argPackAdvance:Z,readValueFromPointer:Ke,destructorFunction(e){se(e)}})},ht=(n,a)=>{for(var f="",e=0;!(e>=a/2);++e){var t=G[n+e*2>>1];if(t==0)break;f+=String.fromCharCode(t)}return f},gt=(n,a,f)=>{if(f??(f=2147483647),f<2)return 0;f-=2;for(var e=a,t=f<n.length*2?f/2:n.length,i=0;i<t;++i){var d=n.charCodeAt(i);G[a>>1]=d,a+=2}return G[a>>1]=0,a-e},pt=n=>n.length*2,_t=(n,a)=>{for(var f=0,e="";!(f>=a/4);){var t=pe[n+f*4>>2];if(t==0)break;if(++f,t>=65536){var i=t-65536;e+=String.fromCharCode(55296|i>>10,56320|i&1023)}else e+=String.fromCharCode(t)}return e},fr=(n,a,f)=>{if(f??(f=2147483647),f<4)return 0;for(var e=a,t=e+f-4,i=0;i<n.length;++i){var d=n.charCodeAt(i);if(d>=55296&&d<=57343){var h=n.charCodeAt(++i);d=65536+((d&1023)<<10)|h&1023}if(pe[a>>2]=d,a+=4,a+4>t)break}return pe[a>>2]=0,a-e},mt=n=>{for(var a=0,f=0;f<n.length;++f){var e=n.charCodeAt(f);e>=55296&&e<=57343&&++f,a+=4}return a},yt=(n,a,f)=>{f=ie(f);var e,t,i,d;a===2?(e=ht,t=gt,d=pt,i=h=>K[h>>1]):a===4&&(e=_t,t=fr,d=mt,i=h=>W[h>>2]),L(n,{name:f,fromWireType:h=>{for(var _=W[h>>2],b,w=h+4,$=0;$<=_;++$){var C=h+4+$*a;if($==_||i(C)==0){var I=C-w,V=e(w,I);b===void 0?b=V:(b+="\0",b+=V),w=C+a}}return se(h),b},toWireType:(h,_)=>{typeof _!="string"&&ve(`Cannot pass non-string to C++ string type ${f}`);var b=d(_),w=Tr(4+b+a);return W[w>>2]=b/a,t(_,w+4,b+a),h!==null&&h.push(se,w),w},argPackAdvance:Z,readValueFromPointer:Ke,destructorFunction(h){se(h)}})},Ur=(n,a)=>{a=ie(a),L(n,{isVoid:!0,name:a,argPackAdvance:0,fromWireType:()=>{},toWireType:(f,e)=>{}})},bt=(n,a,f)=>O.copyWithin(n,a,a+f),lr=[],wt=(n,a,f,e)=>(n=lr[n],a=X.toValue(a),n(null,a,f,e)),At={},zr=n=>{var a=At[n];return a===void 0?ie(n):a},br=()=>{if(typeof globalThis=="object")return globalThis;function n(a){a.$$$embind_global$$$=a;var f=typeof $$$embind_global$$$=="object"&&a.$$$embind_global$$$==a;return f||delete a.$$$embind_global$$$,f}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&n(global)?$$$embind_global$$$=global:typeof self=="object"&&n(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},$t=n=>n===0?X.toHandle(br()):(n=zr(n),X.toHandle(br()[n])),Tt=n=>{var a=lr.length;return lr.push(n),a},Et=(n,a)=>{var f=le[n];return f===void 0&&ve(`${a} has unknown type ${Pr(n)}`),f},wr=(n,a)=>{for(var f=new Array(n),e=0;e<n;++e)f[e]=Et(W[a+e*4>>2],"parameter "+e);return f},Ue=Reflect.construct,Gr=(n,a,f)=>{var e=[],t=n.toWireType(e,f);return e.length&&(W[a>>2]=X.toHandle(e)),t},Kr=(n,a,f)=>{var e=wr(n,a),t=e.shift();n--;var i=new Array(n),d=(_,b,w,$)=>{for(var C=0,I=0;I<n;++I)i[I]=e[I].readValueFromPointer($+C),C+=e[I].argPackAdvance;var V=f===1?Ue(b,i):b.apply(_,i);return Gr(t,w,V)},h=`methodCaller<(${e.map(_=>_.name).join(", ")}) => ${t.name}>`;return Tt(sr(h,d))},Ar=n=>{n>9&&(q[n+1]+=1)},Yr=n=>{var a=X.toValue(n);Dr(a),re(n)},u=()=>{hr("")},c=()=>2147483648,p=n=>{var a=$e.buffer,f=(n-a.byteLength+65535)/65536;try{return $e.grow(f),er(),1}catch{}},y=n=>{var a=O.length;n>>>=0;var f=c();if(n>f)return!1;for(var e=(_,b)=>_+(b-_%b)%b,t=1;t<=4;t*=2){var i=a*(1+.2/t);i=Math.min(i,n+100663296);var d=Math.min(f,e(Math.max(n,i),65536)),h=p(d);if(h)return!0}return!1},A={},T=()=>H||"./this.program",F=()=>{if(!F.strings){var n=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:n,_:T()};for(var f in A)A[f]===void 0?delete a[f]:a[f]=A[f];var e=[];for(var f in a)e.push(`${f}=${a[f]}`);F.strings=e}return F.strings},R=(n,a)=>{for(var f=0;f<n.length;++f)x[a++]=n.charCodeAt(f);x[a]=0},P=(n,a)=>{var f=0;return F().forEach((e,t)=>{var i=a+f;W[n+t*4>>2]=i,R(e,i),f+=e.length+1}),0},M=(n,a)=>{var f=F();W[n>>2]=f.length;var e=0;return f.forEach(t=>e+=t.length+1),W[a>>2]=e,0},ee=n=>{Y(n,new Ne(n))},j=(n,a)=>{ee(n)},J=j,Se=n=>52;function Xe(n,a,f,e,t){return 70}var De=[null,[],[]],$r=(n,a)=>{var f=De[n];a===0||a===10?((n===1?Ae:te)(qr(f,0)),f.length=0):f.push(a)},Rt=(n,a,f,e)=>{for(var t=0,i=0;i<f;i++){var d=W[a>>2],h=W[a+4>>2];a+=8;for(var _=0;_<h;_++)$r(n,O[d+_]);t+=h}return W[e>>2]=t,0};Ee(),ze=r.BindingError=class extends Error{constructor(a){super(a),this.name="BindingError"}},Re=r.InternalError=class extends Error{constructor(a){super(a),this.name="InternalError"}},or(),qe=r.UnboundTypeError=ot(Error,"UnboundTypeError");var Ct={o:Te,q:Fe,m:he,l:Or,j:Ye,f:st,b:Lr,a:lt,e:Nr,c:yt,n:Ur,v:bt,i:wt,d:re,k:$t,h:Kr,y:Ar,g:Yr,r:u,s:y,t:P,u:M,z:J,w:Se,p:Xe,x:Rt},de=Be(),Xr=n=>(Xr=de.C)(n),Tr=n=>(Tr=de.D)(n),se=n=>(se=de.E)(n),o=n=>(o=de.G)(n);r.dynCall_jiji=(n,a,f,e,t)=>(r.dynCall_jiji=de.H)(n,a,f,e,t);var l;We=function n(){l||v(),l||(We=n)};function v(){if(_e>0||(Ir(),_e>0))return;function n(){l||(l=!0,r.calledRun=!0,!z&&(Mr(),m(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),Jr()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),n()},1)):n()}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return v(),S}})();let rn;async function Sn(s,g){let r=s,m=g;arguments.length===1&&!(s instanceof WebAssembly.Module)&&(r=void 0,m=s),rn=vn(Un,r,m)}async function kn(s,g={}){rn||Sn();const r={...Wn,...g},E=(await rn).decode(s,r.preserveOrientation);if(!E)throw new Error("Decoding error");return E}let Ce;const Sr=new Array(128).fill(void 0);Sr.push(void 0,null,!0,!1);let Bt=Sr.length;function zt(s){Bt===Sr.length&&Sr.push(Sr.length+1);const g=Bt;return Bt=Sr[g],Sr[g]=s,g}function tn(s){return Sr[s]}function In(s){s<132||(Sr[s]=Bt,Bt=s)}function fn(s){const g=tn(s);return In(s),g}const hn=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&hn.decode();let kt=null;function gn(){return(kt===null||kt.byteLength===0)&&(kt=new Uint8Array(Ce.memory.buffer)),kt}function Mn(s,g){return s=s>>>0,hn.decode(gn().subarray(s,s+g))}let It=null;function On(){return(It===null||It.byteLength===0)&&(It=new Uint8ClampedArray(Ce.memory.buffer)),It}function Dn(s,g){return s=s>>>0,On().subarray(s/1,s/1+g)}let ln=0;function pn(s,g){const r=g(s.length*1,1)>>>0;return gn().set(s,r/1),ln=s.length,r}function jn(s){const g=pn(s,Ce.__wbindgen_malloc),r=ln,m=Ce.decode(g,r);return fn(m)}function Vn(s){const g=pn(s,Ce.__wbindgen_malloc),r=ln,m=Ce.decode_rgba16(g,r);return un.__wrap(m)}class un{static __wrap(g){g=g>>>0;const r=Object.create(un.prototype);return r.__wbg_ptr=g,r}__destroy_into_raw(){const g=this.__wbg_ptr;return this.__wbg_ptr=0,g}free(){const g=this.__destroy_into_raw();Ce.__wbg_imagedatargba16_free(g)}get width(){return Ce.imagedatargba16_width(this.__wbg_ptr)>>>0}get height(){return Ce.imagedatargba16_height(this.__wbg_ptr)>>>0}get data(){const g=Ce.imagedatargba16_data(this.__wbg_ptr);return fn(g)}}async function Hn(s,g){if(typeof Response=="function"&&s instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(s,g)}catch(m){if(s.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",m);else throw m}const r=await s.arrayBuffer();return await WebAssembly.instantiate(r,g)}else{const r=await WebAssembly.instantiate(s,g);return r instanceof WebAssembly.Instance?{instance:r,module:s}:r}}function xn(){const s={};return s.wbg={},s.wbg.__wbindgen_memory=function(){const g=Ce.memory;return zt(g)},s.wbg.__wbg_buffer_a448f833075b71ba=function(g){const r=tn(g).buffer;return zt(r)},s.wbg.__wbg_newwithbyteoffsetandlength_099217381c451830=function(g,r,m){const E=new Uint16Array(tn(g),r>>>0,m>>>0);return zt(E)},s.wbg.__wbindgen_object_drop_ref=function(g){fn(g)},s.wbg.__wbg_newwithownedu8clampedarrayandsh_91db5987993a08fb=function(g,r,m,E){var S=Dn(g,r).slice();Ce.__wbindgen_free(g,r*1,1);const U=new ImageData(S,m>>>0,E>>>0);return zt(U)},s.wbg.__wbindgen_throw=function(g,r){throw new Error(Mn(g,r))},s}function Bn(s,g){return Ce=s.exports,_n.__wbindgen_wasm_module=g,kt=null,It=null,Ce}async function _n(s){if(Ce!==void 0)return Ce;typeof s>"u"&&(s=new URL("/assets/squoosh_png_bg-DAY7U9NW.wasm",import.meta.url));const g=xn();(typeof s=="string"||typeof Request=="function"&&s instanceof Request||typeof URL=="function"&&s instanceof URL)&&(s=fetch(s));const{instance:r,module:m}=await Hn(await s,g);return Bn(r,m)}const Ln=globalThis.ServiceWorkerGlobalScope!==void 0,qn=Ln&&typeof self<"u"&&globalThis.caches&&globalThis.caches.default!==void 0,Nn=typeof process=="object"&&process.release&&process.release.name==="node";(qn||Nn)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(g,r,m){this.data=g,this.width=r,this.height=m}}),import.meta.url===void 0&&(import.meta.url="https://localhost"),typeof self<"u"&&self.location===void 0&&(self.location={href:""}));let Xt;async function zn(s){return Xt||(Xt=_n(s)),Xt}async function Gn(s,g={}){await zn();const{bitDepth:r=8}=g;if(r===16){const E=await Vn(new Uint8Array(s));if(!E)throw new Error("Encoding error.");return E}const m=await jn(new Uint8Array(s));if(!m)throw new Error("Encoding error.");return m}const Kn={quality:75,target_size:0,target_PSNR:0,method:4,sns_strength:50,filter_strength:60,filter_sharpness:0,filter_type:1,partitions:0,segments:4,pass:1,show_compressed:0,preprocessing:0,autofilter:0,partition_limit:0,alpha_compression:1,alpha_filtering:1,alpha_quality:100,lossless:0,exact:0,image_hint:0,emulate_jpeg_size:0,thread_level:0,low_memory:0,near_lossless:100,use_delta_palette:0,use_sharp_yuv:0};function nn(s,g,r={}){let m;return g&&(m=(E,S)=>{const U=new WebAssembly.Instance(g,E);return S(U),U.exports}),s({noInitialRun:!0,instantiateWasm:m,...r})}const Yn=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),Xn=()=>(async s=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(s)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));let Ft;async function Jn(s,g){let r=s,m=g;if(arguments.length===1&&!(s instanceof WebAssembly.Module)&&(r=void 0,m=s),await Yn()){const S=await import("./webp_enc_simd-CGhe7JQt.js");return Ft=nn(S.default,r,m),Ft}const E=await import("./webp_enc-CznDCDP2.js");return Ft=nn(E.default,r,m),Ft}async function Qn(s,g={}){Ft||(Ft=Jn());const r={...Kn,...g},E=(await Ft).encode(s.data,s.width,s.height,r);if(!E)throw new Error("Encoding error.");return E.buffer}var Zn=(()=>{var s=import.meta.url;return function(r={}){var r=typeof r<"u"?r:{},m,E;r.ready=new Promise(function(u,c){m=u,E=c});const U=globalThis.ServiceWorkerGlobalScope!==void 0&&typeof self<"u"&&globalThis.caches&&globalThis.caches.default!==void 0,k=typeof process=="object"&&process.release&&process.release.name==="node";(U||k)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(c,p,y){this.data=c,this.width=p,this.height=y}}),import.meta.url===void 0&&(import.meta.url="https://localhost"),typeof self<"u"&&self.location===void 0&&(self.location={href:""}));var B=Object.assign({},r),ne=typeof window=="object",H=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var Y="";function ue(u){return r.locateFile?r.locateFile(u,Y):Y+u}var fe;(ne||H)&&(H?Y=self.location.href:typeof document<"u"&&document.currentScript&&(Y=document.currentScript.src),s&&(Y=s),Y.indexOf("blob:")!==0?Y=Y.substr(0,Y.replace(/[?#].*/,"").lastIndexOf("/")+1):Y="",H&&(fe=u=>{var c=new XMLHttpRequest;return c.open("GET",u,!1),c.responseType="arraybuffer",c.send(null),new Uint8Array(c.response)})),r.print||console.log.bind(console);var N=r.printErr||console.warn.bind(console);Object.assign(r,B),B=null,r.arguments&&r.arguments,r.thisProgram&&r.thisProgram,r.quit&&r.quit;var oe;r.wasmBinary&&(oe=r.wasmBinary),r.noExitRuntime,typeof WebAssembly!="object"&&He("no native wasm support detected");var ae,Ae=!1;function te(u,c,p){for(var y=c+p,A="";!(c>=y);){var T=u[c++];if(!T)return A;if(!(T&128)){A+=String.fromCharCode(T);continue}var F=u[c++]&63;if((T&224)==192){A+=String.fromCharCode((T&31)<<6|F);continue}var R=u[c++]&63;if((T&240)==224?T=(T&15)<<12|F<<6|R:T=(T&7)<<18|F<<12|R<<6|u[c++]&63,T<65536)A+=String.fromCharCode(T);else{var P=T-65536;A+=String.fromCharCode(55296|P>>10,56320|P&1023)}}return A}function ce(u,c){return u?te(G,u,c):""}function $e(u,c,p,y){if(!(y>0))return 0;for(var A=p,T=p+y-1,F=0;F<u.length;++F){var R=u.charCodeAt(F);if(R>=55296&&R<=57343){var P=u.charCodeAt(++F);R=65536+((R&1023)<<10)|P&1023}if(R<=127){if(p>=T)break;c[p++]=R}else if(R<=2047){if(p+1>=T)break;c[p++]=192|R>>6,c[p++]=128|R&63}else if(R<=65535){if(p+2>=T)break;c[p++]=224|R>>12,c[p++]=128|R>>6&63,c[p++]=128|R&63}else{if(p+3>=T)break;c[p++]=240|R>>18,c[p++]=128|R>>12&63,c[p++]=128|R>>6&63,c[p++]=128|R&63}}return c[p]=0,p-A}function z(u,c,p){return $e(u,G,c,p)}function x(u){for(var c=0,p=0;p<u.length;++p){var y=u.charCodeAt(p);y<=127?c++:y<=2047?c+=2:y>=55296&&y<=57343?(c+=4,++p):c+=3}return c}var O,G,K,pe,W,Q,Ze,er;function rr(){var u=ae.buffer;r.HEAP8=O=new Int8Array(u),r.HEAP16=K=new Int16Array(u),r.HEAP32=W=new Int32Array(u),r.HEAPU8=G=new Uint8Array(u),r.HEAPU16=pe=new Uint16Array(u),r.HEAPU32=Q=new Uint32Array(u),r.HEAPF32=Ze=new Float32Array(u),r.HEAPF64=er=new Float64Array(u)}var dr,vr=[],Ir=[],Mr=[];function Jr(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)tr(r.preRun.shift());Cr(vr)}function Qr(){Cr(Ir)}function je(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)We(r.postRun.shift());Cr(Mr)}function tr(u){vr.unshift(u)}function _e(u){Ir.unshift(u)}function We(u){Mr.unshift(u)}var ke=0,nr=null;function hr(u){ke++,r.monitorRunDependencies&&r.monitorRunDependencies(ke)}function Ve(u){if(ke--,r.monitorRunDependencies&&r.monitorRunDependencies(ke),ke==0&&nr){var c=nr;nr=null,c()}}function He(u){r.onAbort&&r.onAbort(u),u="Aborted("+u+")",N(u),Ae=!0,u+=". Build with -sASSERTIONS for more info.";var c=new WebAssembly.RuntimeError(u);throw E(c),c}var me="data:application/octet-stream;base64,";function ar(u){return u.startsWith(me)}var xe;r.locateFile?(xe="webp_dec.wasm",ar(xe)||(xe=ue(xe))):xe=new URL("/assets/webp_dec-C990n7mh.wasm",import.meta.url).href;function gr(u){try{if(u==xe&&oe)return new Uint8Array(oe);if(fe)return fe(u);throw"both async and sync fetching of the wasm failed"}catch(c){He(c)}}function Rr(u){return!oe&&(ne||H)&&typeof fetch=="function"?fetch(u,{credentials:"same-origin"}).then(function(c){if(!c.ok)throw"failed to load wasm binary file at '"+u+"'";return c.arrayBuffer()}).catch(function(){return gr(u)}):Promise.resolve().then(function(){return gr(u)})}function Be(u,c,p){return Rr(u).then(function(y){return WebAssembly.instantiate(y,c)}).then(function(y){return y}).then(p,function(y){N("failed to asynchronously prepare wasm: "+y),He(y)})}function Ne(u,c,p,y){return!u&&typeof WebAssembly.instantiateStreaming=="function"&&!ar(c)&&typeof fetch=="function"?fetch(c,{credentials:"same-origin"}).then(function(A){var T=WebAssembly.instantiateStreaming(A,p);return T.then(y,function(F){return N("wasm streaming compile failed: "+F),N("falling back to ArrayBuffer instantiation"),Be(c,p,y)})}):Be(c,p,y)}function ir(){var u={a:Et};function c(y,A){var T=y.exports;return r.asm=T,ae=r.asm.s,rr(),dr=r.asm.y,_e(r.asm.t),Ve(),T}hr();function p(y){c(y.instance)}if(r.instantiateWasm)try{return r.instantiateWasm(u,c)}catch(y){N("Module.instantiateWasm callback failed with error: "+y),E(y)}return Ne(oe,xe,u,p).catch(E),{}}function Cr(u){for(;u.length>0;)u.shift()(r)}function pr(u){this.excPtr=u,this.ptr=u-24,this.set_type=function(c){Q[this.ptr+4>>2]=c},this.get_type=function(){return Q[this.ptr+4>>2]},this.set_destructor=function(c){Q[this.ptr+8>>2]=c},this.get_destructor=function(){return Q[this.ptr+8>>2]},this.set_refcount=function(c){W[this.ptr>>2]=c},this.set_caught=function(c){c=c?1:0,O[this.ptr+12>>0]=c},this.get_caught=function(){return O[this.ptr+12>>0]!=0},this.set_rethrown=function(c){c=c?1:0,O[this.ptr+13>>0]=c},this.get_rethrown=function(){return O[this.ptr+13>>0]!=0},this.init=function(c,p){this.set_adjusted_ptr(0),this.set_type(c),this.set_destructor(p),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var c=W[this.ptr>>2];W[this.ptr>>2]=c+1},this.release_ref=function(){var c=W[this.ptr>>2];return W[this.ptr>>2]=c-1,c===1},this.set_adjusted_ptr=function(c){Q[this.ptr+16>>2]=c},this.get_adjusted_ptr=function(){return Q[this.ptr+16>>2]},this.get_exception_ptr=function(){var c=Kr(this.get_type());if(c)return Q[this.excPtr>>2];var p=this.get_adjusted_ptr();return p!==0?p:this.excPtr}}function Te(u,c,p){var y=new pr(u);throw y.init(c,p),u}function Fe(u,c,p,y,A){}function Ee(u){switch(u){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+u)}}function Ie(){for(var u=new Array(256),c=0;c<256;++c)u[c]=String.fromCharCode(c);ie=u}var ie=void 0;function D(u){for(var c="",p=u;G[p];)c+=ie[G[p++]];return c}var le={},we={},ze={},ve=48,Re=57;function Me(u){if(u===void 0)return"_unknown";u=u.replace(/[^a-zA-Z0-9_]/g,"$");var c=u.charCodeAt(0);return c>=ve&&c<=Re?"_"+u:u}function Zr(u,c){return u=Me(u),{[u]:function(){return c.apply(this,arguments)}}[u]}function Ge(u,c){var p=Zr(c,function(y){this.name=c,this.message=y;var A=new Error(y).stack;A!==void 0&&(this.stack=this.toString()+`
`+A.replace(/^Error(:[^\n]*)?\n/,""))});return p.prototype=Object.create(u.prototype),p.prototype.constructor=p,p.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},p}var L=void 0;function Z(u){throw new L(u)}var he=void 0;function _r(u){throw new he(u)}function q(u,c,p){u.forEach(function(R){ze[R]=c});function y(R){var P=p(R);P.length!==u.length&&_r("Mismatched type converter count");for(var M=0;M<u.length;++M)re(u[M],P[M])}var A=new Array(c.length),T=[],F=0;c.forEach((R,P)=>{we.hasOwnProperty(R)?A[P]=we[R]:(T.push(R),le.hasOwnProperty(R)||(le[R]=[]),le[R].push(()=>{A[P]=we[R],++F,F===T.length&&y(A)}))}),T.length===0&&y(A)}function re(u,c,p={}){if(!("argPackAdvance"in c))throw new TypeError("registerType registeredInstance requires argPackAdvance");var y=c.name;if(u||Z('type "'+y+'" must have a positive integer typeid pointer'),we.hasOwnProperty(u)){if(p.ignoreDuplicateRegistrations)return;Z("Cannot register type '"+y+"' twice")}if(we[u]=c,delete ze[u],le.hasOwnProperty(u)){var A=le[u];delete le[u],A.forEach(T=>T())}}function et(u,c,p,y,A){var T=Ee(p);c=D(c),re(u,{name:c,fromWireType:function(F){return!!F},toWireType:function(F,R){return R?y:A},argPackAdvance:8,readValueFromPointer:function(F){var R;if(p===1)R=O;else if(p===2)R=K;else if(p===4)R=W;else throw new TypeError("Unknown boolean type size: "+c);return this.fromWireType(R[F>>T])},destructorFunction:null})}var or=[],X=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Ke(u){u>4&&--X[u].refcount===0&&(X[u]=void 0,or.push(u))}function Wr(){for(var u=0,c=5;c<X.length;++c)X[c]!==void 0&&++u;return u}function Or(){for(var u=5;u<X.length;++u)if(X[u]!==void 0)return X[u];return null}function Le(){r.count_emval_handles=Wr,r.get_first_emval=Or}var Ye={toValue:u=>(u||Z("Cannot use deleted val. handle = "+u),X[u].value),toHandle:u=>{switch(u){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var c=or.length?or.pop():X.length;return X[c]={refcount:1,value:u},c}}}};function sr(u){return this.fromWireType(W[u>>2])}function Dr(u,c){c=D(c),re(u,{name:c,fromWireType:function(p){var y=Ye.toValue(p);return Ke(p),y},toWireType:function(p,y){return Ye.toHandle(y)},argPackAdvance:8,readValueFromPointer:sr,destructorFunction:null})}function rt(u,c){switch(c){case 2:return function(p){return this.fromWireType(Ze[p>>2])};case 3:return function(p){return this.fromWireType(er[p>>3])};default:throw new TypeError("Unknown float type: "+u)}}function Fr(u,c,p){var y=Ee(p);c=D(c),re(u,{name:c,fromWireType:function(A){return A},toWireType:function(A,T){return T},argPackAdvance:8,readValueFromPointer:rt(c,y),destructorFunction:null})}function tt(u){for(;u.length;){var c=u.pop(),p=u.pop();p(c)}}function jr(u,c,p,y,A,T){var F=c.length;F<2&&Z("argTypes array size mismatch! Must at least get return value and 'this' types!"),c[1];for(var R=!1,P=1;P<c.length;++P)if(c[P]!==null&&c[P].destructorFunction===void 0){R=!0;break}var M=c[0].name!=="void",ee=F-2,j=new Array(ee),J=[],Se=[];return function(){arguments.length!==ee&&Z("function "+u+" called with "+arguments.length+" arguments, expected "+ee+" args!"),Se.length=0;var Xe;J.length=1,J[0]=A;for(var De=0;De<ee;++De)j[De]=c[De+2].toWireType(Se,arguments[De]),J.push(j[De]);var $r=y.apply(null,J);function Rt(Ct){if(R)tt(Se);else for(var de=2;de<c.length;de++){var Xr=de===1?Xe:j[de-2];c[de].destructorFunction!==null&&c[de].destructorFunction(Xr)}if(M)return c[0].fromWireType(Ct)}return Rt($r)}}function Oe(u,c,p){if(u[c].overloadTable===void 0){var y=u[c];u[c]=function(){return u[c].overloadTable.hasOwnProperty(arguments.length)||Z("Function '"+p+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+u[c].overloadTable+")!"),u[c].overloadTable[arguments.length].apply(this,arguments)},u[c].overloadTable=[],u[c].overloadTable[y.argCount]=y}}function nt(u,c,p){r.hasOwnProperty(u)?((p===void 0||r[u].overloadTable!==void 0&&r[u].overloadTable[p]!==void 0)&&Z("Cannot register public name '"+u+"' twice"),Oe(r,u,u),r.hasOwnProperty(p)&&Z("Cannot register multiple overloads of a function with the same number of arguments ("+p+")!"),r[u].overloadTable[p]=c):(r[u]=c,p!==void 0&&(r[u].numArguments=p))}function at(u,c){for(var p=[],y=0;y<u;y++)p.push(Q[c+y*4>>2]);return p}function mr(u,c,p){r.hasOwnProperty(u)||_r("Replacing nonexistant public symbol"),r[u].overloadTable!==void 0&&p!==void 0?r[u].overloadTable[p]=c:(r[u]=c,r[u].argCount=p)}function Vr(u,c,p){var y=r["dynCall_"+u];return p&&p.length?y.apply(null,[c].concat(p)):y.call(null,c)}var Pe=[];function yr(u){var c=Pe[u];return c||(u>=Pe.length&&(Pe.length=u+1),Pe[u]=c=dr.get(u)),c}function Hr(u,c,p){if(u.includes("j"))return Vr(u,c,p);var y=yr(c).apply(null,p);return y}function it(u,c){var p=[];return function(){return p.length=0,Object.assign(p,arguments),Hr(u,c,p)}}function ot(u,c){u=D(u);function p(){return u.includes("j")?it(u,c):yr(c)}var y=p();return typeof y!="function"&&Z("unknown function pointer with signature "+u+": "+c),y}var qe=void 0;function Pr(u){var c=Gr(u),p=D(c);return Ue(c),p}function xr(u,c){var p=[],y={};function A(T){if(!y[T]&&!we[T]){if(ze[T]){ze[T].forEach(A);return}p.push(T),y[T]=!0}}throw c.forEach(A),new qe(u+": "+p.map(Pr).join([", "]))}function Br(u,c,p,y,A,T,F){var R=at(c,p);u=D(u),A=ot(y,A),nt(u,function(){xr("Cannot call "+u+" due to unbound types",R)},c-1),q([],R,function(P){var M=[P[0],null].concat(P.slice(1));return mr(u,jr(u,M,null,A,T),c-1),[]})}function st(u,c,p){switch(c){case 0:return p?function(A){return O[A]}:function(A){return G[A]};case 1:return p?function(A){return K[A>>1]}:function(A){return pe[A>>1]};case 2:return p?function(A){return W[A>>2]}:function(A){return Q[A>>2]};default:throw new TypeError("Unknown integer type: "+u)}}function ft(u,c,p,y,A){c=D(c);var T=Ee(p),F=j=>j;if(y===0){var R=32-8*p;F=j=>j<<R>>>R}var P=c.includes("unsigned"),M=(j,J)=>{},ee;P?ee=function(j,J){return M(J,this.name),J>>>0}:ee=function(j,J){return M(J,this.name),J},re(u,{name:c,fromWireType:F,toWireType:ee,argPackAdvance:8,readValueFromPointer:st(c,T,y!==0),destructorFunction:null})}function Lr(u,c,p){var y=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],A=y[c];function T(F){F=F>>2;var R=Q,P=R[F],M=R[F+1];return new A(R.buffer,M,P)}p=D(p),re(u,{name:p,fromWireType:T,argPackAdvance:8,readValueFromPointer:T},{ignoreDuplicateRegistrations:!0})}function lt(u,c){c=D(c);var p=c==="std::string";re(u,{name:c,fromWireType:function(y){var A=Q[y>>2],T=y+4,F;if(p)for(var R=T,P=0;P<=A;++P){var M=T+P;if(P==A||G[M]==0){var ee=M-R,j=ce(R,ee);F===void 0?F=j:(F+="\0",F+=j),R=M+1}}else{for(var J=new Array(A),P=0;P<A;++P)J[P]=String.fromCharCode(G[T+P]);F=J.join("")}return Ue(y),F},toWireType:function(y,A){A instanceof ArrayBuffer&&(A=new Uint8Array(A));var T,F=typeof A=="string";F||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int8Array||Z("Cannot pass non-string to std::string"),p&&F?T=x(A):T=A.length;var R=wr(4+T+1),P=R+4;if(Q[R>>2]=T,p&&F)z(A,P,T+1);else if(F)for(var M=0;M<T;++M){var ee=A.charCodeAt(M);ee>255&&(Ue(P),Z("String has UTF-16 code units that do not fit in 8 bits")),G[P+M]=ee}else for(var M=0;M<T;++M)G[P+M]=A[M];return y!==null&&y.push(Ue,R),R},argPackAdvance:8,readValueFromPointer:sr,destructorFunction:function(y){Ue(y)}})}function ut(u,c){for(var p="",y=0;!(y>=c/2);++y){var A=K[u+y*2>>1];if(A==0)break;p+=String.fromCharCode(A)}return p}function ct(u,c,p){if(p===void 0&&(p=2147483647),p<2)return 0;p-=2;for(var y=c,A=p<u.length*2?p/2:u.length,T=0;T<A;++T){var F=u.charCodeAt(T);K[c>>1]=F,c+=2}return K[c>>1]=0,c-y}function dt(u){return u.length*2}function qr(u,c){for(var p=0,y="";!(p>=c/4);){var A=W[u+p*4>>2];if(A==0)break;if(++p,A>=65536){var T=A-65536;y+=String.fromCharCode(55296|T>>10,56320|T&1023)}else y+=String.fromCharCode(A)}return y}function vt(u,c,p){if(p===void 0&&(p=2147483647),p<4)return 0;for(var y=c,A=y+p-4,T=0;T<u.length;++T){var F=u.charCodeAt(T);if(F>=55296&&F<=57343){var R=u.charCodeAt(++T);F=65536+((F&1023)<<10)|R&1023}if(W[c>>2]=F,c+=4,c+4>A)break}return W[c>>2]=0,c-y}function Nr(u){for(var c=0,p=0;p<u.length;++p){var y=u.charCodeAt(p);y>=55296&&y<=57343&&++p,c+=4}return c}function ht(u,c,p){p=D(p);var y,A,T,F,R;c===2?(y=ut,A=ct,F=dt,T=()=>pe,R=1):c===4&&(y=qr,A=vt,F=Nr,T=()=>Q,R=2),re(u,{name:p,fromWireType:function(P){for(var M=Q[P>>2],ee=T(),j,J=P+4,Se=0;Se<=M;++Se){var Xe=P+4+Se*c;if(Se==M||ee[Xe>>R]==0){var De=Xe-J,$r=y(J,De);j===void 0?j=$r:(j+="\0",j+=$r),J=Xe+c}}return Ue(P),j},toWireType:function(P,M){typeof M!="string"&&Z("Cannot pass non-string to C++ string type "+p);var ee=F(M),j=wr(4+ee+c);return Q[j>>2]=ee>>R,A(M,j+4,ee+c),P!==null&&P.push(Ue,j),j},argPackAdvance:8,readValueFromPointer:sr,destructorFunction:function(P){Ue(P)}})}function gt(u,c){c=D(c),re(u,{isVoid:!0,name:c,argPackAdvance:0,fromWireType:function(){},toWireType:function(p,y){}})}var pt={};function _t(u){var c=pt[u];return c===void 0?D(u):c}function fr(){if(typeof globalThis=="object")return globalThis;function u(c){c.$$$embind_global$$$=c;var p=typeof $$$embind_global$$$=="object"&&c.$$$embind_global$$$==c;return p||delete c.$$$embind_global$$$,p}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&u(global)?$$$embind_global$$$=global:typeof self=="object"&&u(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")}function mt(u){return u===0?Ye.toHandle(fr()):(u=_t(u),Ye.toHandle(fr()[u]))}function yt(u){u>4&&(X[u].refcount+=1)}function Ur(u,c){var p=we[u];return p===void 0&&Z(c+" has unknown type "+Pr(u)),p}function bt(u){var c=new Array(u+1);return function(p,y,A){c[0]=p;for(var T=0;T<u;++T){var F=Ur(Q[y+T*4>>2],"parameter "+T);c[T+1]=F.readValueFromPointer(A),A+=F.argPackAdvance}var R=new(p.bind.apply(p,c));return Ye.toHandle(R)}}var lr={};function wt(u,c,p,y){u=Ye.toValue(u);var A=lr[c];return A||(A=bt(c),lr[c]=A),A(u,p,y)}function At(){He("")}function zr(u,c,p){G.copyWithin(u,c,c+p)}function br(){return 2147483648}function $t(u){var c=ae.buffer;try{return ae.grow(u-c.byteLength+65535>>>16),rr(),1}catch{}}function Tt(u){var c=G.length;u=u>>>0;var p=br();if(u>p)return!1;let y=(P,M)=>P+(M-P%M)%M;for(var A=1;A<=4;A*=2){var T=c*(1+.2/A);T=Math.min(T,u+100663296);var F=Math.min(p,y(Math.max(u,T),65536)),R=$t(F);if(R)return!0}return!1}Ie(),L=r.BindingError=Ge(Error,"BindingError"),he=r.InternalError=Ge(Error,"InternalError"),Le(),qe=r.UnboundTypeError=Ge(Error,"UnboundTypeError");var Et={n:Te,o:Fe,l:et,r:Dr,k:Fr,c:Br,b:ft,a:Lr,g:lt,f:ht,m:gt,d:Ke,e:mt,i:yt,h:wt,j:At,q:zr,p:Tt};ir();var wr=function(){return(wr=r.asm.u).apply(null,arguments)},Ue=function(){return(Ue=r.asm.v).apply(null,arguments)},Gr=r.___getTypeName=function(){return(Gr=r.___getTypeName=r.asm.w).apply(null,arguments)};r.__embind_initialize_bindings=function(){return(r.__embind_initialize_bindings=r.asm.x).apply(null,arguments)};var Kr=function(){return(Kr=r.asm.z).apply(null,arguments)},Ar;nr=function u(){Ar||Yr(),Ar||(nr=u)};function Yr(){if(ke>0||(Jr(),ke>0))return;function u(){Ar||(Ar=!0,r.calledRun=!0,!Ae&&(Qr(),m(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),je()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),u()},1)):u()}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return Yr(),r.ready}})();let an;async function ea(s,g){let r=s,m=g;arguments.length===1&&!(s instanceof WebAssembly.Module)&&(r=void 0,m=s),an=nn(Zn,r,m)}async function ra(s){an||ea();const r=(await an).decode(s);if(!r)throw new Error("Decoding error");return r}const ta={quality:50,qualityAlpha:-1,denoiseLevel:0,tileColsLog2:0,tileRowsLog2:0,speed:6,subsample:1,chromaDeltaQ:!1,sharpness:0,tune:0,enableSharpYUV:!1,bitDepth:8,lossless:!1};function on(s,g,r={}){let m;return g&&(m=(E,S)=>{const U=new WebAssembly.Instance(g,E);return S(U),U.exports}),s({noInitialRun:!0,instantiateWasm:m,...r})}let Pt;const na=()=>typeof process<"u"&&process.release&&process.release.name==="node",aa=()=>{var s;return((s=globalThis.caches)===null||s===void 0?void 0:s.default)!==void 0};async function ia(s,g){let r=s,m=g;if(arguments.length===1&&!(s instanceof WebAssembly.Module)&&(r=void 0,m=s),!na()&&!aa()&&await Xn()){const S=await import("./avif_enc_mt-DNQKqJ4b.js");return Pt=on(S.default,r,m),Pt}const E=await import("./avif_enc-B9pwz9D_.js");return Pt=on(E.default,r,m),Pt}async function oa(s,g={}){Pt||(Pt=ia());const r={...ta,...g};if(r.bitDepth!==8&&r.bitDepth!==10&&r.bitDepth!==12)throw new Error("Invalid bit depth. Supported values are 8, 10, or 12.");if(!(s.data instanceof Uint16Array)&&r.bitDepth!==8)throw new Error("Invalid image data for bit depth. Must use Uint16Array for bit depths greater than 8.");r.lossless&&(g.quality!==void 0&&g.quality!==100&&console.warn("AVIF lossless: Quality setting is ignored when lossless is enabled (quality must be 100)."),g.qualityAlpha!==void 0&&g.qualityAlpha!==100&&g.qualityAlpha!==-1&&console.warn("AVIF lossless: QualityAlpha setting is ignored when lossless is enabled (qualityAlpha must be 100 or -1)."),g.subsample!==void 0&&g.subsample!==3&&console.warn("AVIF lossless: Subsample setting is ignored when lossless is enabled (subsample must be 3 for YUV444)."),r.quality=100,r.qualityAlpha=-1,r.subsample=3);const E=(await Pt).encode(new Uint8Array(s.data.buffer),s.width,s.height,r);if(!E)throw new Error("Encoding error.");return E.buffer}var sa=(()=>{var s=import.meta.url;return function(g={}){var r=g,m,E,S=new Promise((o,l)=>{m=o,E=l});const k=globalThis.ServiceWorkerGlobalScope!==void 0&&typeof self<"u"&&globalThis.caches&&globalThis.caches.default!==void 0,B=typeof process=="object"&&process.release&&process.release.name==="node";(k||B)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(l,v,n){this.data=l,this.width=v,this.height=n}}),import.meta.url===void 0&&(import.meta.url="https://localhost"),typeof self<"u"&&self.location===void 0&&(self.location={href:""}));var ne=Object.assign({},r),H=typeof window=="object",Y=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var ue="";function fe(o){return r.locateFile?r.locateFile(o,ue):ue+o}var N;(H||Y)&&(Y?ue=self.location.href:typeof document<"u"&&document.currentScript&&(ue=document.currentScript.src),s&&(ue=s),ue.startsWith("blob:")?ue="":ue=ue.substr(0,ue.replace(/[?#].*/,"").lastIndexOf("/")+1),Y&&(N=o=>{var l=new XMLHttpRequest;return l.open("GET",o,!1),l.responseType="arraybuffer",l.send(null),new Uint8Array(l.response)}));var oe=r.print||console.log.bind(console),ae=r.printErr||console.error.bind(console);Object.assign(r,ne),ne=null,r.arguments&&r.arguments,r.thisProgram&&r.thisProgram,r.quit&&r.quit;var Ae;r.wasmBinary&&(Ae=r.wasmBinary);var te,ce=!1,$e,z,x,O,G,K,pe,W;function Q(){var o=te.buffer;r.HEAP8=$e=new Int8Array(o),r.HEAP16=x=new Int16Array(o),r.HEAPU8=z=new Uint8Array(o),r.HEAPU16=O=new Uint16Array(o),r.HEAP32=G=new Int32Array(o),r.HEAPU32=K=new Uint32Array(o),r.HEAPF32=pe=new Float32Array(o),r.HEAPF64=W=new Float64Array(o)}var Ze=[],er=[],rr=[];function dr(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)Mr(r.preRun.shift());Rr(Ze)}function vr(){Rr(er)}function Ir(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)Qr(r.postRun.shift());Rr(rr)}function Mr(o){Ze.unshift(o)}function Jr(o){er.unshift(o)}function Qr(o){rr.unshift(o)}var je=0,tr=null;function _e(o){var l;je++,(l=r.monitorRunDependencies)==null||l.call(r,je)}function We(o){var v;if(je--,(v=r.monitorRunDependencies)==null||v.call(r,je),je==0&&tr){var l=tr;tr=null,l()}}function ke(o){var v;(v=r.onAbort)==null||v.call(r,o),o="Aborted("+o+")",ae(o),ce=!0,o+=". Build with -sASSERTIONS for more info.";var l=new WebAssembly.RuntimeError(o);throw E(l),l}var nr="data:application/octet-stream;base64,",hr=o=>o.startsWith(nr),Ve;r.locateFile?(Ve="avif_dec.wasm",hr(Ve)||(Ve=fe(Ve))):Ve=new URL("/assets/avif_dec-B7YOdlSS.wasm",import.meta.url).href;function He(o){if(o==Ve&&Ae)return new Uint8Array(Ae);if(N)return N(o);throw"both async and sync fetching of the wasm failed"}function me(o){return!Ae&&(H||Y)&&typeof fetch=="function"?fetch(o,{credentials:"same-origin"}).then(l=>{if(!l.ok)throw`failed to load wasm binary file at '${o}'`;return l.arrayBuffer()}).catch(()=>He(o)):Promise.resolve().then(()=>He(o))}function ar(o,l,v){return me(o).then(n=>WebAssembly.instantiate(n,l)).then(v,n=>{ae(`failed to asynchronously prepare wasm: ${n}`),ke(n)})}function xe(o,l,v,n){return!o&&typeof WebAssembly.instantiateStreaming=="function"&&!hr(l)&&typeof fetch=="function"?fetch(l,{credentials:"same-origin"}).then(a=>{var f=WebAssembly.instantiateStreaming(a,v);return f.then(n,function(e){return ae(`wasm streaming compile failed: ${e}`),ae("falling back to ArrayBuffer instantiation"),ar(l,v,n)})}):ar(l,v,n)}function gr(){var o={a:R};function l(n,a){return P=n.exports,te=P.F,Q(),jr=P.K,Jr(P.G),We(),P}_e();function v(n){l(n.instance)}if(r.instantiateWasm)try{return r.instantiateWasm(o,l)}catch(n){ae(`Module.instantiateWasm callback failed with error: ${n}`),E(n)}return xe(Ae,Ve,o,v).catch(E),{}}var Rr=o=>{for(;o.length>0;)o.shift()(r)};r.noExitRuntime;var Be=o=>Se(o),Ne=()=>Xe(),ir=(o,l,v,n,a)=>{},Cr=()=>{for(var o=new Array(256),l=0;l<256;++l)o[l]=String.fromCharCode(l);pr=o},pr,Te=o=>{for(var l="",v=o;z[v];)l+=pr[z[v++]];return l},Fe={},Ee={},Ie={},ie,D=o=>{throw new ie(o)},le,we=o=>{throw new le(o)},ze=(o,l,v)=>{o.forEach(function(t){Ie[t]=l});function n(t){var i=v(t);i.length!==o.length&&we("Mismatched type converter count");for(var d=0;d<o.length;++d)Re(o[d],i[d])}var a=new Array(l.length),f=[],e=0;l.forEach((t,i)=>{Ee.hasOwnProperty(t)?a[i]=Ee[t]:(f.push(t),Fe.hasOwnProperty(t)||(Fe[t]=[]),Fe[t].push(()=>{a[i]=Ee[t],++e,e===f.length&&n(a)}))}),f.length===0&&n(a)};function ve(o,l,v={}){var n=l.name;if(o||D(`type "${n}" must have a positive integer typeid pointer`),Ee.hasOwnProperty(o)){if(v.ignoreDuplicateRegistrations)return;D(`Cannot register type '${n}' twice`)}if(Ee[o]=l,delete Ie[o],Fe.hasOwnProperty(o)){var a=Fe[o];delete Fe[o],a.forEach(f=>f())}}function Re(o,l,v={}){if(!("argPackAdvance"in l))throw new TypeError("registerType registeredInstance requires argPackAdvance");return ve(o,l,v)}var Me=8,Zr=(o,l,v,n)=>{l=Te(l),Re(o,{name:l,fromWireType:function(a){return!!a},toWireType:function(a,f){return f?v:n},argPackAdvance:Me,readValueFromPointer:function(a){return this.fromWireType(z[a])},destructorFunction:null})},Ge=[],L=[],Z=o=>{o>9&&--L[o+1]===0&&(L[o]=void 0,Ge.push(o))},he=()=>L.length/2-5-Ge.length,_r=()=>{L.push(0,1,void 0,1,null,1,!0,1,!1,1),r.count_emval_handles=he},q={toValue:o=>(o||D("Cannot use deleted val. handle = "+o),L[o]),toHandle:o=>{switch(o){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const l=Ge.pop()||L.length;return L[l]=o,L[l+1]=1,l}}}};function re(o){return this.fromWireType(K[o>>2])}var et={name:"emscripten::val",fromWireType:o=>{var l=q.toValue(o);return Z(o),l},toWireType:(o,l)=>q.toHandle(l),argPackAdvance:Me,readValueFromPointer:re,destructorFunction:null},or=o=>Re(o,et),X=(o,l)=>{switch(l){case 4:return function(v){return this.fromWireType(pe[v>>2])};case 8:return function(v){return this.fromWireType(W[v>>3])};default:throw new TypeError(`invalid float width (${l}): ${o}`)}},Ke=(o,l,v)=>{l=Te(l),Re(o,{name:l,fromWireType:n=>n,toWireType:(n,a)=>a,argPackAdvance:Me,readValueFromPointer:X(l,v),destructorFunction:null})},Wr=(o,l)=>Object.defineProperty(l,"name",{value:o}),Or=o=>{for(;o.length;){var l=o.pop(),v=o.pop();v(l)}};function Le(o){for(var l=1;l<o.length;++l)if(o[l]!==null&&o[l].destructorFunction===void 0)return!0;return!1}function Ye(o,l,v,n,a,f){var e=l.length;e<2&&D("argTypes array size mismatch! Must at least get return value and 'this' types!"),l[1];var t=Le(l),i=l[0].name!=="void",d=e-2,h=new Array(d),_=[],b=[],w=function(...$){$.length!==d&&D(`function ${o} called with ${$.length} arguments, expected ${d}`),b.length=0;var C;_.length=1,_[0]=a;for(var I=0;I<d;++I)h[I]=l[I+2].toWireType(b,$[I]),_.push(h[I]);var V=n(..._);function ye(ge){if(t)Or(b);else for(var be=2;be<l.length;be++){var Wt=be===1?C:h[be-2];l[be].destructorFunction!==null&&l[be].destructorFunction(Wt)}if(i)return l[0].fromWireType(ge)}return ye(V)};return Wr(o,w)}var sr=(o,l,v)=>{if(o[l].overloadTable===void 0){var n=o[l];o[l]=function(...a){return o[l].overloadTable.hasOwnProperty(a.length)||D(`Function '${v}' called with an invalid number of arguments (${a.length}) - expects one of (${o[l].overloadTable})!`),o[l].overloadTable[a.length].apply(this,a)},o[l].overloadTable=[],o[l].overloadTable[n.argCount]=n}},Dr=(o,l,v)=>{r.hasOwnProperty(o)?((v===void 0||r[o].overloadTable!==void 0&&r[o].overloadTable[v]!==void 0)&&D(`Cannot register public name '${o}' twice`),sr(r,o,o),r.hasOwnProperty(v)&&D(`Cannot register multiple overloads of a function with the same number of arguments (${v})!`),r[o].overloadTable[v]=l):(r[o]=l,v!==void 0&&(r[o].numArguments=v))},rt=(o,l)=>{for(var v=[],n=0;n<o;n++)v.push(K[l+n*4>>2]);return v},Fr=(o,l,v)=>{r.hasOwnProperty(o)||we("Replacing nonexistent public symbol"),r[o].overloadTable!==void 0&&v!==void 0?r[o].overloadTable[v]=l:(r[o]=l,r[o].argCount=v)},tt=(o,l,v)=>{o=o.replace(/p/g,"i");var n=r["dynCall_"+o];return n(l,...v)},jr,Oe=o=>jr.get(o),nt=(o,l,v=[])=>{if(o.includes("j"))return tt(o,l,v);var n=Oe(l)(...v);return n},at=(o,l)=>(...v)=>nt(o,l,v),mr=(o,l)=>{o=Te(o);function v(){return o.includes("j")?at(o,l):Oe(l)}var n=v();return typeof n!="function"&&D(`unknown function pointer with signature ${o}: ${l}`),n},Vr=(o,l)=>{var v=Wr(l,function(n){this.name=l,this.message=n;var a=new Error(n).stack;a!==void 0&&(this.stack=this.toString()+`
`+a.replace(/^Error(:[^\n]*)?\n/,""))});return v.prototype=Object.create(o.prototype),v.prototype.constructor=v,v.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},v},Pe,yr=o=>{var l=M(o),v=Te(l);return j(l),v},Hr=(o,l)=>{var v=[],n={};function a(f){if(!n[f]&&!Ee[f]){if(Ie[f]){Ie[f].forEach(a);return}v.push(f),n[f]=!0}}throw l.forEach(a),new Pe(`${o}: `+v.map(yr).join([", "]))},it=o=>{o=o.trim();const l=o.indexOf("(");return l!==-1?o.substr(0,l):o},ot=(o,l,v,n,a,f,e)=>{var t=rt(l,v);o=Te(o),o=it(o),a=mr(n,a),Dr(o,function(){Hr(`Cannot call ${o} due to unbound types`,t)},l-1),ze([],t,i=>{var d=[i[0],null].concat(i.slice(1));return Fr(o,Ye(o,d,null,a,f),l-1),[]})},qe=(o,l,v)=>{switch(l){case 1:return v?n=>$e[n]:n=>z[n];case 2:return v?n=>x[n>>1]:n=>O[n>>1];case 4:return v?n=>G[n>>2]:n=>K[n>>2];default:throw new TypeError(`invalid integer width (${l}): ${o}`)}},Pr=(o,l,v,n,a)=>{l=Te(l);var f=h=>h;if(n===0){var e=32-8*v;f=h=>h<<e>>>e}var t=l.includes("unsigned"),i=(h,_)=>{},d;t?d=function(h,_){return i(_,this.name),_>>>0}:d=function(h,_){return i(_,this.name),_},Re(o,{name:l,fromWireType:f,toWireType:d,argPackAdvance:Me,readValueFromPointer:qe(l,v,n!==0),destructorFunction:null})},xr=(o,l,v)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],a=n[l];function f(e){var t=K[e>>2],i=K[e+4>>2];return new a($e.buffer,i,t)}v=Te(v),Re(o,{name:v,fromWireType:f,argPackAdvance:Me,readValueFromPointer:f},{ignoreDuplicateRegistrations:!0})},Br=(o,l,v,n)=>{if(!(n>0))return 0;for(var a=v,f=v+n-1,e=0;e<o.length;++e){var t=o.charCodeAt(e);if(t>=55296&&t<=57343){var i=o.charCodeAt(++e);t=65536+((t&1023)<<10)|i&1023}if(t<=127){if(v>=f)break;l[v++]=t}else if(t<=2047){if(v+1>=f)break;l[v++]=192|t>>6,l[v++]=128|t&63}else if(t<=65535){if(v+2>=f)break;l[v++]=224|t>>12,l[v++]=128|t>>6&63,l[v++]=128|t&63}else{if(v+3>=f)break;l[v++]=240|t>>18,l[v++]=128|t>>12&63,l[v++]=128|t>>6&63,l[v++]=128|t&63}}return l[v]=0,v-a},st=(o,l,v)=>Br(o,z,l,v),ft=o=>{for(var l=0,v=0;v<o.length;++v){var n=o.charCodeAt(v);n<=127?l++:n<=2047?l+=2:n>=55296&&n<=57343?(l+=4,++v):l+=3}return l},Lr=(o,l,v)=>{for(var n=l+v,a="";!(l>=n);){var f=o[l++];if(!f)return a;if(!(f&128)){a+=String.fromCharCode(f);continue}var e=o[l++]&63;if((f&224)==192){a+=String.fromCharCode((f&31)<<6|e);continue}var t=o[l++]&63;if((f&240)==224?f=(f&15)<<12|e<<6|t:f=(f&7)<<18|e<<12|t<<6|o[l++]&63,f<65536)a+=String.fromCharCode(f);else{var i=f-65536;a+=String.fromCharCode(55296|i>>10,56320|i&1023)}}return a},lt=(o,l)=>o?Lr(z,o,l):"",ut=(o,l)=>{l=Te(l);var v=l==="std::string";Re(o,{name:l,fromWireType(n){var a=K[n>>2],f=n+4,e;if(v)for(var t=f,i=0;i<=a;++i){var d=f+i;if(i==a||z[d]==0){var h=d-t,_=lt(t,h);e===void 0?e=_:(e+="\0",e+=_),t=d+1}}else{for(var b=new Array(a),i=0;i<a;++i)b[i]=String.fromCharCode(z[f+i]);e=b.join("")}return j(n),e},toWireType(n,a){a instanceof ArrayBuffer&&(a=new Uint8Array(a));var f,e=typeof a=="string";e||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Int8Array||D("Cannot pass non-string to std::string"),v&&e?f=ft(a):f=a.length;var t=ee(4+f+1),i=t+4;if(K[t>>2]=f,v&&e)st(a,i,f+1);else if(e)for(var d=0;d<f;++d){var h=a.charCodeAt(d);h>255&&(j(i),D("String has UTF-16 code units that do not fit in 8 bits")),z[i+d]=h}else for(var d=0;d<f;++d)z[i+d]=a[d];return n!==null&&n.push(j,t),t},argPackAdvance:Me,readValueFromPointer:re,destructorFunction(n){j(n)}})},ct=(o,l)=>{for(var v="",n=0;!(n>=l/2);++n){var a=x[o+n*2>>1];if(a==0)break;v+=String.fromCharCode(a)}return v},dt=(o,l,v)=>{if(v??(v=2147483647),v<2)return 0;v-=2;for(var n=l,a=v<o.length*2?v/2:o.length,f=0;f<a;++f){var e=o.charCodeAt(f);x[l>>1]=e,l+=2}return x[l>>1]=0,l-n},qr=o=>o.length*2,vt=(o,l)=>{for(var v=0,n="";!(v>=l/4);){var a=G[o+v*4>>2];if(a==0)break;if(++v,a>=65536){var f=a-65536;n+=String.fromCharCode(55296|f>>10,56320|f&1023)}else n+=String.fromCharCode(a)}return n},Nr=(o,l,v)=>{if(v??(v=2147483647),v<4)return 0;for(var n=l,a=n+v-4,f=0;f<o.length;++f){var e=o.charCodeAt(f);if(e>=55296&&e<=57343){var t=o.charCodeAt(++f);e=65536+((e&1023)<<10)|t&1023}if(G[l>>2]=e,l+=4,l+4>a)break}return G[l>>2]=0,l-n},ht=o=>{for(var l=0,v=0;v<o.length;++v){var n=o.charCodeAt(v);n>=55296&&n<=57343&&++v,l+=4}return l},gt=(o,l,v)=>{v=Te(v);var n,a,f,e;l===2?(n=ct,a=dt,e=qr,f=t=>O[t>>1]):l===4&&(n=vt,a=Nr,e=ht,f=t=>K[t>>2]),Re(o,{name:v,fromWireType:t=>{for(var i=K[t>>2],d,h=t+4,_=0;_<=i;++_){var b=t+4+_*l;if(_==i||f(b)==0){var w=b-h,$=n(h,w);d===void 0?d=$:(d+="\0",d+=$),h=b+l}}return j(t),d},toWireType:(t,i)=>{typeof i!="string"&&D(`Cannot pass non-string to C++ string type ${v}`);var d=e(i),h=ee(4+d+l);return K[h>>2]=d/l,a(i,h+4,d+l),t!==null&&t.push(j,h),h},argPackAdvance:Me,readValueFromPointer:re,destructorFunction(t){j(t)}})},pt=(o,l)=>{l=Te(l),Re(o,{isVoid:!0,name:l,argPackAdvance:0,fromWireType:()=>{},toWireType:(v,n)=>{}})},_t=()=>{throw 1/0},fr=[],mt=(o,l,v,n)=>(o=fr[o],l=q.toValue(l),o(null,l,v,n)),yt={},Ur=o=>{var l=yt[o];return l===void 0?Te(o):l},bt=(o,l,v,n,a)=>(o=fr[o],l=q.toValue(l),v=Ur(v),o(l,l[v],n,a)),lr=()=>{if(typeof globalThis=="object")return globalThis;function o(l){l.$$$embind_global$$$=l;var v=typeof $$$embind_global$$$=="object"&&l.$$$embind_global$$$==l;return v||delete l.$$$embind_global$$$,v}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&o(global)?$$$embind_global$$$=global:typeof self=="object"&&o(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},wt=o=>o===0?q.toHandle(lr()):(o=Ur(o),q.toHandle(lr()[o])),At=o=>{var l=fr.length;return fr.push(o),l},zr=(o,l)=>{var v=Ee[o];return v===void 0&&D(`${l} has unknown type ${yr(o)}`),v},br=(o,l)=>{for(var v=new Array(o),n=0;n<o;++n)v[n]=zr(K[l+n*4>>2],"parameter "+n);return v},$t=Reflect.construct,Tt=(o,l,v)=>{var n=[],a=o.toWireType(n,v);return n.length&&(K[l>>2]=q.toHandle(n)),a},Et=(o,l,v)=>{var n=br(o,l),a=n.shift();o--;var f=new Array(o),e=(i,d,h,_)=>{for(var b=0,w=0;w<o;++w)f[w]=n[w].readValueFromPointer(_+b),b+=n[w].argPackAdvance;var $=v===1?$t(d,f):d.apply(i,f);return Tt(a,h,$)},t=`methodCaller<(${n.map(i=>i.name).join(", ")}) => ${a.name}>`;return At(Wr(t,e))},wr=o=>q.toHandle(Ur(o)),Ue=o=>{var l=q.toValue(o);Or(l),Z(o)},Gr=(o,l,v)=>{o=q.toValue(o),l=q.toValue(l),v=q.toValue(v),o[l]=v},Kr=(o,l)=>{o=zr(o,"_emval_take_value");var v=o.readValueFromPointer(l);return q.toHandle(v)},Ar=()=>{ke("")},Yr=()=>2147483648,u=o=>{var l=te.buffer,v=(o-l.byteLength+65535)/65536;try{return te.grow(v),Q(),1}catch{}},c=o=>{var l=z.length;o>>>=0;var v=Yr();if(o>v)return!1;for(var n=(i,d)=>i+(d-i%d)%d,a=1;a<=4;a*=2){var f=l*(1+.2/a);f=Math.min(f,o+100663296);var e=Math.min(v,n(Math.max(o,f),65536)),t=u(e);if(t)return!0}return!1},p=o=>52;function y(o,l,v,n,a){return 70}var A=[null,[],[]],T=(o,l)=>{var v=A[o];l===0||l===10?((o===1?oe:ae)(Lr(v,0)),v.length=0):v.push(l)},F=(o,l,v,n)=>{for(var a=0,f=0;f<v;f++){var e=K[l>>2],t=K[l+4>>2];l+=8;for(var i=0;i<t;i++)T(o,z[e+i]);a+=t}return K[n>>2]=a,0};Cr(),ie=r.BindingError=class extends Error{constructor(l){super(l),this.name="BindingError"}},le=r.InternalError=class extends Error{constructor(l){super(l),this.name="InternalError"}},_r(),Pe=r.UnboundTypeError=Vr(Error,"UnboundTypeError");var R={p:ir,m:Zr,l:or,i:Ke,x:ot,c:Pr,b:xr,j:ut,g:gt,o:pt,u:_t,f:mt,B:bt,D:Z,E:wt,e:Et,A:wr,C:Ue,h:Gr,z:Kr,a:Ar,v:c,w:p,n:y,y:F,d:Ct,r:de,s:Rt,t:De,k:$r,q:Xr},P=gr(),M=o=>(M=P.H)(o),ee=o=>(ee=P.I)(o),j=o=>(j=P.J)(o),J=(o,l)=>(J=P.L)(o,l),Se=o=>(Se=P.M)(o),Xe=()=>(Xe=P.N)();r.dynCall_iiijii=(o,l,v,n,a,f,e)=>(r.dynCall_iiijii=P.O)(o,l,v,n,a,f,e),r.dynCall_jiji=(o,l,v,n,a)=>(r.dynCall_jiji=P.P)(o,l,v,n,a);function De(o,l){var v=Ne();try{Oe(o)(l)}catch(n){if(Be(v),n!==n+0)throw n;J(1,0)}}function $r(o,l,v,n,a){var f=Ne();try{Oe(o)(l,v,n,a)}catch(e){if(Be(f),e!==e+0)throw e;J(1,0)}}function Rt(o){var l=Ne();try{Oe(o)()}catch(v){if(Be(l),v!==v+0)throw v;J(1,0)}}function Ct(o,l,v){var n=Ne();try{return Oe(o)(l,v)}catch(a){if(Be(n),a!==a+0)throw a;J(1,0)}}function de(o,l,v,n,a){var f=Ne();try{return Oe(o)(l,v,n,a)}catch(e){if(Be(f),e!==e+0)throw e;J(1,0)}}function Xr(o,l,v,n,a,f,e,t){var i=Ne();try{Oe(o)(l,v,n,a,f,e,t)}catch(d){if(Be(i),d!==d+0)throw d;J(1,0)}}var Tr;tr=function o(){Tr||se(),Tr||(tr=o)};function se(){if(je>0||(dr(),je>0))return;function o(){Tr||(Tr=!0,r.calledRun=!0,!ce&&(vr(),m(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),Ir()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),o()},1)):o()}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return se(),S}})();let sn;async function fa(s,g){let r=s,m=g;arguments.length===1&&!(s instanceof WebAssembly.Module)&&(r=void 0,m=s),sn=on(sa,r,m)}async function la(s,g){var r;sn||fa();const m=await sn,E=(r=g==null?void 0:g.bitDepth)!==null&&r!==void 0?r:8,S=m.decode(s,E);if(!S)throw new Error("Decoding error");return S}function ua(s,g,r,m){const E=s/g,S=r/m;if(S>E){const B=s/S,ne=(g-B)/2;return{sw:s,sh:B,sx:0,sy:ne}}const U=g*S,k=(s-U)/2;return{sh:g,sw:U,sx:k,sy:0}}let Qe,Mt=null;function ca(){return(Mt===null||Mt.byteLength===0)&&(Mt=new Uint8Array(Qe.memory.buffer)),Mt}let mn=0;function da(s,g){const r=g(s.length*1,1)>>>0;return ca().set(s,r/1),mn=s.length,r}let Ot=null;function cn(){return(Ot===null||Ot.byteLength===0)&&(Ot=new Int32Array(Qe.memory.buffer)),Ot}let Dt=null;function va(){return(Dt===null||Dt.byteLength===0)&&(Dt=new Uint8ClampedArray(Qe.memory.buffer)),Dt}function ha(s,g){return s=s>>>0,va().subarray(s/1,s/1+g)}function ga(s,g,r,m,E,S,U,k){try{const Y=Qe.__wbindgen_add_to_stack_pointer(-16),ue=da(s,Qe.__wbindgen_malloc),fe=mn;Qe.resize(Y,ue,fe,g,r,m,E,S,U,k);var B=cn()[Y/4+0],ne=cn()[Y/4+1],H=ha(B,ne).slice();return Qe.__wbindgen_free(B,ne*1,1),H}finally{Qe.__wbindgen_add_to_stack_pointer(16)}}async function pa(s,g){if(typeof Response=="function"&&s instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(s,g)}catch(m){if(s.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",m);else throw m}const r=await s.arrayBuffer();return await WebAssembly.instantiate(r,g)}else{const r=await WebAssembly.instantiate(s,g);return r instanceof WebAssembly.Instance?{instance:r,module:s}:r}}function _a(){const s={};return s.wbg={},s}function ma(s,g){return Qe=s.exports,yn.__wbindgen_wasm_module=g,Ot=null,Mt=null,Dt=null,Qe}async function yn(s){if(Qe!==void 0)return Qe;typeof s>"u"&&(s=new URL("/assets/squoosh_resize_bg-YY9xfwUg.wasm",import.meta.url));const g=_a();(typeof s=="string"||typeof Request=="function"&&s instanceof Request||typeof URL=="function"&&s instanceof URL)&&(s=fetch(s));const{instance:r,module:m}=await pa(await s,g);return ma(r,m)}const ya=globalThis.ServiceWorkerGlobalScope!==void 0,ba=ya&&typeof self<"u"&&globalThis.caches&&globalThis.caches.default!==void 0,wa=typeof process=="object"&&process.release&&process.release.name==="node";(ba||wa)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(g,r,m){this.data=g,this.width=r,this.height=m}}),import.meta.url===void 0&&(import.meta.url="https://localhost"),typeof self<"u"&&self.location===void 0&&(self.location={href:""}));let ur,jt=null;function bn(){return(jt===null||jt.byteLength===0)&&(jt=new Uint32Array(ur.memory.buffer)),jt}let wn=0;function Aa(s,g){const r=g(s.length*4,4)>>>0;return bn().set(s,r/4),wn=s.length,r}let Vt=null;function dn(){return(Vt===null||Vt.byteLength===0)&&(Vt=new Int32Array(ur.memory.buffer)),Vt}function $a(s,g){return s=s>>>0,bn().subarray(s/4,s/4+g)}function Ta(s,g,r,m){try{const k=ur.__wbindgen_add_to_stack_pointer(-16),B=Aa(s,ur.__wbindgen_malloc),ne=wn;ur.resize(k,B,ne,g,r,m);var E=dn()[k/4+0],S=dn()[k/4+1],U=$a(E,S).slice();return ur.__wbindgen_free(E,S*4,4),U}finally{ur.__wbindgen_add_to_stack_pointer(16)}}async function Ea(s,g){if(typeof Response=="function"&&s instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(s,g)}catch(m){if(s.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",m);else throw m}const r=await s.arrayBuffer();return await WebAssembly.instantiate(r,g)}else{const r=await WebAssembly.instantiate(s,g);return r instanceof WebAssembly.Instance?{instance:r,module:s}:r}}function Ra(){const s={};return s.wbg={},s}function Ca(s,g){return ur=s.exports,An.__wbindgen_wasm_module=g,Vt=null,jt=null,ur}async function An(s){if(ur!==void 0)return ur;typeof s>"u"&&(s=new URL("/assets/squooshhqx_bg-jpRtGvMp.wasm",import.meta.url));const g=Ra();(typeof s=="string"||typeof Request=="function"&&s instanceof Request||typeof URL=="function"&&s instanceof URL)&&(s=fetch(s));const{instance:r,module:m}=await Ea(await s,g);return Ca(r,m)}const Wa=globalThis.ServiceWorkerGlobalScope!==void 0,Fa=Wa&&typeof self<"u"&&globalThis.caches&&globalThis.caches.default!==void 0,Pa=typeof process=="object"&&process.release&&process.release.name==="node";(Fa||Pa)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(g,r,m){this.data=g,this.width=r,this.height=m}}),import.meta.url===void 0&&(import.meta.url="https://localhost"),typeof self<"u"&&self.location===void 0&&(self.location={href:""}));let cr,Ht=null;function Ua(){return(Ht===null||Ht.byteLength===0)&&(Ht=new Uint8ClampedArray(cr.memory.buffer)),Ht}function Sa(s,g){return s=s>>>0,Ua().subarray(s/1,s/1+g)}const kr=new Array(128).fill(void 0);kr.push(void 0,null,!0,!1);let Lt=kr.length;function ka(s){Lt===kr.length&&kr.push(kr.length+1);const g=Lt;return Lt=kr[g],kr[g]=s,g}let xt=null;function Gt(){return(xt===null||xt.byteLength===0)&&(xt=new Uint8Array(cr.memory.buffer)),xt}let qt=0;function Ia(s,g){const r=g(s.length*1,1)>>>0;return Gt().set(s,r/1),qt=s.length,r}const Kt=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Ma=typeof Kt.encodeInto=="function"?function(s,g){return Kt.encodeInto(s,g)}:function(s,g){const r=Kt.encode(s);return g.set(r),{read:s.length,written:r.length}};function Oa(s,g,r){if(r===void 0){const k=Kt.encode(s),B=g(k.length,1)>>>0;return Gt().subarray(B,B+k.length).set(k),qt=k.length,B}let m=s.length,E=g(m,1)>>>0;const S=Gt();let U=0;for(;U<m;U++){const k=s.charCodeAt(U);if(k>127)break;S[E+U]=k}if(U!==m){U!==0&&(s=s.slice(U)),E=r(E,m,m=U+s.length*3,1)>>>0;const k=Gt().subarray(E+U,E+m),B=Ma(s,k);U+=B.written,E=r(E,m,U,1)>>>0}return qt=U,E}function Da(s){return kr[s]}function ja(s){s<132||(kr[s]=Lt,Lt=s)}function Va(s){const g=Da(s);return ja(s),g}function Ha(s,g,r,m,E,S){const U=Ia(s,cr.__wbindgen_malloc),k=qt,B=Oa(S,cr.__wbindgen_malloc,cr.__wbindgen_realloc),ne=qt,H=cr.resize(U,k,g,r,m,E,B,ne);return Va(H)}async function xa(s,g){if(typeof Response=="function"&&s instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(s,g)}catch(m){if(s.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",m);else throw m}const r=await s.arrayBuffer();return await WebAssembly.instantiate(r,g)}else{const r=await WebAssembly.instantiate(s,g);return r instanceof WebAssembly.Instance?{instance:r,module:s}:r}}function Ba(){const s={};return s.wbg={},s.wbg.__wbg_newwithownedu8clampedarrayandsh_2ac355435db12a85=function(g,r,m,E){var S=Sa(g,r).slice();cr.__wbindgen_free(g,r*1,1);const U=new ImageData(S,m>>>0,E>>>0);return ka(U)},s}function La(s,g){return cr=s.exports,$n.__wbindgen_wasm_module=g,xt=null,Ht=null,cr}async function $n(s){if(cr!==void 0)return cr;typeof s<"u"&&(Object.getPrototypeOf(s)===Object.prototype?{module_or_path:s}=s:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof s>"u"&&(s=new URL("/assets/jsquash_magic_kernel_bg-CM70fO1F.wasm",import.meta.url));const g=Ba();(typeof s=="string"||typeof Request=="function"&&s instanceof Request||typeof URL=="function"&&s instanceof URL)&&(s=fetch(s));const{instance:r,module:m}=await xa(await s,g);return La(r,m)}const qa={width:1,height:1,method:"lanczos3",fitMethod:"stretch",premultiply:!0,linearRGB:!0},Na=["magicKernel","magicKernelSharp2013","magicKernelSharp2021"];let Yt,Jt,Qt;function za(s){return Yt||(Yt=yn(s)),Yt}function Ga(s){return Jt||(Jt=An(s)),Jt}function Ka(s){return Qt||(Qt=$n(s)),Qt}function Ya(s){return s.method==="hqx"}function Xa(s){return Na.includes(s.method)}function Ja(s,g,r,m,E){const S=new Uint32Array(s.data.buffer);for(let U=0;U<E;U+=1){const k=(U+r)*s.width+g;S.copyWithin(U*m,k,k+m)}return new ImageData(new Uint8ClampedArray(S.buffer.slice(0,m*E*4)),m,E)}function Qa(s,{min:g=Number.MIN_VALUE,max:r=Number.MAX_VALUE}){return Math.min(Math.max(s,g),r)}const Za=["triangle","catrom","mitchell","lanczos3"];async function ei(s,g){await Ga();const r=g.width/s.width,m=g.height/s.height,E=Math.max(r,m),S=Qa(Math.ceil(E),{min:1,max:4});if(S===1)return s;const U=Ta(new Uint32Array(s.data.buffer),s.width,s.height,S);return new ImageData(new Uint8ClampedArray(U.buffer),s.width*S,s.height*S)}async function ri(s,g){return await Ka(),Ha(new Uint8Array(s.data.buffer),s.width,s.height,g.width,g.height,g.method)}async function Zt(s,g){let r={...qa,...g},m=s;if(za(),Ya(r)&&(m=await ei(m,r),r={...r,method:"catrom"}),await Yt,r.fitMethod==="contain"){const{sx:S,sy:U,sw:k,sh:B}=ua(s.width,s.height,r.width,r.height);m=Ja(m,Math.round(S),Math.round(U),Math.round(k),Math.round(B))}if(Xa(r))return ri(m,r);const E=ga(new Uint8Array(m.data.buffer),m.width,m.height,r.width,r.height,Za.indexOf(r.method),r.premultiply,r.linearRGB);return new ImageData(new Uint8ClampedArray(E.buffer),r.width,r.height)}function ti(s){const g=s.toLowerCase();return g.includes("jpeg")||g.includes("jpg")?kn:g.includes("png")?Gn:g.includes("webp")?ra:g.includes("avif")?la:null}function Tn(s){return s==="avif"?"avif":s==="jpeg"?"jpg":"webp"}function ni(s,g,r,m,E){const S=s.lastIndexOf("."),U=S>0?s.slice(0,S):s,k=Tn(E);return(g&&g.trim().length?g:"{base}_{w}x{h}.{ext}").replaceAll("{base}",U).replaceAll("{w}",String(r)).replaceAll("{h}",String(m)).replaceAll("{format}",E).replaceAll("{ext}",k)}async function ai(s){const g=await createImageBitmap(s),m=new OffscreenCanvas(g.width,g.height).getContext("2d",{willReadFrequently:!0});return m.drawImage(g,0,0),m.getImageData(0,0,g.width,g.height)}function ii(s,g,r,m,E=!1){const S=r??s,U=m??g,k=Math.min(S/s,U/g),B=E?Math.min(k,1/0):Math.min(k,1);return{w:Math.max(1,Math.round(s*B)),h:Math.max(1,Math.round(g*B))}}function oi(s,g,r,m,E=!1){const S=Math.max(r/s,m/g),U=E?S:Math.max(S,1e-6),k=Math.max(1,Math.round(s*U)),B=Math.max(1,Math.round(g*U));return{w1:k,h1:B,cropW:r,cropH:m,sx:Math.floor((k-r)/2),sy:Math.floor((B-m)/2)}}self.onmessage=async s=>{const{id:g,name:r,type:m,arrayBuffer:E,variants:S}=s.data;try{const U=new Uint8Array(E);let k;const B=ti(m);B?k=await B(U):k=await ai(new Blob([U],{type:m}));const ne=[];for(const H of S){const Y=H.format,ue=Tn(Y),fe=Math.max(1,Math.min(100,H.quality)),N=!!H.allowUpscale;let oe=k,ae=H.width??k.width,Ae=H.height??k.height;if(H.mode==="max"){const z=ii(k.width,k.height,H.width,H.height,N);oe=await Zt(oe,{width:z.w,height:z.h,method:"lanczos3"}),ae=oe.width,Ae=oe.height}else if(H.mode==="cover"){const z=H.width??k.width,x=H.height??k.height,O=oi(k.width,k.height,z,x,N),G=await Zt(oe,{width:O.w1,height:O.h1,method:"lanczos3"}),K=new OffscreenCanvas(G.width,G.height);K.getContext("2d",{willReadFrequently:!0}).putImageData(G,0,0);const Q=new OffscreenCanvas(z,x).getContext("2d",{willReadFrequently:!0});Q.drawImage(K,O.sx,O.sy,z,x,0,0,z,x),oe=Q.getImageData(0,0,z,x),ae=z,Ae=x}else if(H.mode==="exact"){const z=H.width??k.width,x=H.height??k.height;oe=await Zt(oe,{width:z,height:x,method:"lanczos3"}),ae=z,Ae=x}let te,ce="image/webp";Y==="avif"?(te=await oa(oe,{cqLevel:Math.max(0,Math.min(63,Math.round((100-fe)*.63))),effort:H.effort??4}),ce="image/avif"):Y==="jpeg"?(te=await Pn(oe,{quality:fe,progressive:!0,chromaSubsampling:2}),ce="image/jpeg"):(te=await Qn(oe,{quality:fe,alphaQuality:fe,effort:H.effort??4,lossless:!1,nearLossless:!1}),ce="image/webp");const $e=ni(r,H.namePattern,ae,Ae,Y);ne.push({name:$e,type:ce,buffer:te})}postMessage({id:g,files:ne},ne.map(H=>H.buffer))}catch(U){postMessage({id:g,error:(U==null?void 0:U.message)||"Variant generation failed"})}};
