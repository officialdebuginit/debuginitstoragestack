# --- IDENTITY / SECURITY ------------------------------------------------------
ADMIN_USERNAME=root
# 32â€“64 hex chars recommended; change in prod
ADMIN_API_KEY=99bd1930df8b75680a755415fbc59250356c3cbd69b0b6146a98d41a03c42268

# Long random secret (base64 or hex). Used for signed URLs.
SIGNING_SECRET=sopijklklkl89709hllkplkhjjl90ouhl98hl90l090ho90

# --- STORAGE / PATHS ----------------------------------------------------------
# Sled DB path
OBJSTORE_DB=obj_meta_db
# Data root (used by reaper & paths); default is "data" if unset
DATA_ROOT=data

# --- NETWORK / BINDING --------------------------------------------------------
HOST=0.0.0.0
BIND_PORT=8080
BIND_ADDR=${HOST}:${BIND_PORT}
PUBLIC_BASE_URL=http://0.0.0.0:8080

# --- CORS ---------------------------------------------------------------------
# Comma-separated list or "*" to allow all
# CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8081,http://192.168.0.100:8081

CORS_ALLOWED_ORIGINS="*"

# --- SERVER TUNING (all have safe defaults in code) ---------------------------
# If unset, workers default to num_cpus. Set explicitly to pin.
SERVER_WORKERS=3

# Backlog (accept queue length)
SERVER_BACKLOG=2048
# Max open connections
SERVER_MAX_CONN=25000
# Max new connections per second
SERVER_MAX_CONN_RATE=512

# Keep-alive and graceful shutdown
KEEP_ALIVE_SECS=75
SHUTDOWN_TIMEOUT_SECS=20

# Timeouts / body limits
CLIENT_TIMEOUT_MS=30000
JSON_LIMIT_BYTES=1048576
UPLOAD_LIMIT_BYTES=104857600

# --- OPTIONAL: BACKGROUND REAPER ----------------------------------------------
# Enable periodic cleanup of trash/old versions (defaults shown)
REAPER_ENABLED=true
REAPER_SCAN_INTERVAL_SECS=300
# How long to keep files in .trash (30 days)
REAPER_TRASH_RETENTION_SECS=2592000
# Keep up to N versions per object (0 = unlimited)
REAPER_VERSION_RETENTION=20
# Or additionally drop versions older than N seconds (90 days)
REAPER_VERSION_MAX_AGE_SECS=7776000

# --- LOGGING ------------------------------------------------------------------

# --- TEST CLIENT OVERRIDES (leave commented unless your DB has these users) ---
#WRITER_API_KEY=...
#READER_API_KEY=...
#BASE_URL=http://localhost:8080
